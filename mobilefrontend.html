<!DOCTYPE html>
<html>
<head>
	<title>ESLint Report</title>
	<style>
	body {
		font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
		font-size: 16px;
		font-weight: normal;
		margin: 0;
		padding: 0;
		color: #333;
	}

	code {
		font: 12px monaco, monospace;
	}

	#overview {
		background: #f3f3f3;
		padding: 20px 30px;
		border-bottom: 10px solid #ccc;
	}

	#overview.bg-success {border-color: #008000;}
	#overview.bg-warning {border-color: #ffa500;}
	#overview.bg-error {border-color: #f00;}

	.bg-success {background: #dff0d8;}
	.bg-warning {background: #fcf8e3;}
	.bg-error {background: #f2dede;}

	.container {
		padding: 0 30px;
	}

	.page-header {
		padding-bottom: 9px;
		margin: 20px 0 20px;
		border-bottom: 1px solid #eee;
	}

	.row {
		display: table;
		width: 100%;
	}

	.column {
		padding: 15px;
		display: table-cell;
	}

	.text-success {
		color: #468847;
	}

	.text-warning {
		color: #f0ad4e;
	}

	.text-error {
		color: #b94a48;
	}

	td, th {
		padding: 5px 10px;
	}

	h1 {
		margin: 0;
	}

	h1 small {
		text-transform: capitalize;
	}

	table#fileOverview {
		margin: 30px;
		width: calc(100vw - 120px);
		border-radius: 5px;
		border: 1px solid #ddd;
		border-spacing: 0;
	}

	th {
		font-weight: 400;
		font-size: normal;
		text-align: left;
		border-bottom: 1px solid #ddd;
	}

	tr.lint-result {
		cursor: pointer;
	}

	tr.lint-result.bg-success {
		cursor: default;
	}

	th span {
		font-weight: 700;
		float: right;
		margin-left: 20px;
	}

	th span:after {
		content: "";
		clear: both;
		display: block;
	}

	tr:last-child td {
		border-bottom: none;
	}

	tr.bg-success th {
		border-color: #d6e9c6;
	}

	tr.bg-warning th {
		border-color: #fbeed5;
	}
	tr.bg-error:target {
		background-color: #e26e80;
	}
	tr.bg-error th {
		border-color: #eed3d7;
	}

	td {
		border-bottom: 1px solid #ddd;
	}

	td a {
		color: #2780e3;
		text-decoration: none;
	}

	td a:hover {
		color: #165ba8;
		text-decoration: underline;
	}

	.icon-box {
		width: 30px;
		-webkit-box-sizing: border-box;
		-moz-box-sizing: border-box;
		box-sizing: border-box;
	}

	.result-summary {
		text-align: right;
	}

	/* Summary Styles */

	.summary-table {
		width: 100%;
	}

	.summary-table, .summary-table th, .summary-table td {
		color: #333;
		border: 1px solid #ddd;
		border-collapse: collapse;
		margin: 0;
	}

	.summary-table th {
		color: #444;
		background-color: #fafafa;
		font-weight: 700;
		text-transform: capitalize;
		border-bottom-width: 2px;
	}

	/* Filters */

	.filters {border: none;}
	.filters legend {
		font-weight: bold;
	}
	.filters input[type="radio"] {
		position: absolute;
		opacity: 0;
	}
	.btn-radio {
		display: inline-block;
		font-weight: bold;
		background: #fff;
		border: 1px solid #ccc;
		padding: 6px 12px;
		cursor: pointer;
	}
	input[type="radio"]:focus + .btn-radio {
		outline: 2px dotted #000;
	}
	input[type="radio"]:checked + .btn-radio {
		background: #e6e6e6;
		-webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
		box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
	}

	/* Accordion */

	.caret {
		display: inline-block;
		width: 0;
		height: 0;
		margin-left: 2px;
		vertical-align: middle;
		border-left: 6px dashed;
		border-top: 6px solid transparent;
		border-bottom: 6px solid transparent;
	}

	.open .caret{
		border-top: 6px dashed;
		border-right: 6px solid transparent;
		border-left: 6px solid transparent;
	}

	.bg-success .caret {
		border: none;
		height: auto;
		width: auto;
	}

	.bg-success .caret:before {
		content: '\02713';
	}

	/* Tabs */

	.nav-tabs {
		margin-bottom: 15px;
		padding-left: 0;
		list-style: none;
		border-bottom: 1px solid #ddd;
	}

	.nav-tabs > li {
		position: relative;
		display: inline-block;
		margin-bottom: -1px;
	}

	.nav-tabs > li > button {
		position: relative;
		display: block;
		padding: 10px 15px;
		margin-right: 2px;
		line-height: 1.5;
		cursor: pointer;
		color: #2780e3;
		background-color: transparent;
		border: 1px solid transparent;
	}

	.nav-tabs > li > button:focus,
	.nav-tabs > li > button:hover {
		color: #165ba8;
		background-color: #e6e6e6;
		border-color: #e6e6e6 #e6e6e6 #ddd;
	}

	.nav-tabs > li.active > button {
		color: #555;
		background-color: #fff;
		border: 1px solid #ddd;
		border-bottom-color: transparent;
		cursor: default;
		text-decoration: none;
	}

	/* Code Styles */

	table.source-code {
		width: 100%;
		margin-top: 10px;
		border-collapse: collapse;
		border: 1px solid #cbcbcb;
		color: #363636;
		-webkit-border-radius: 3px;
		-moz-border-radius: 3px;
		border-radius: 3px;
	}

	table.source-code thead {
		display: none;
	}

	table.source-code td {
		color: #363636;
		border: none;
	}

	table.source-code td.line {
		width: 20px;
		background: #eaeaea;
		text-align: center;
		font-size: 11px;
		padding: 0 10px;
		color: #949494;
	}

	table.source-code tr.bg-success {
		background: #fff;
	}

	table.source-code tr.bg-warning td.line {
		background: #fbeed5;
	}

	table.source-code tr.bg-warning td {
		background: #fcf8e3;
	}

	table.source-code tr.bg-error td.line {
		background: #e6c3c7;
	}

	table.source-code tr.bg-error td {
		background: #f8d5d8;
	}

	table.source-code tr.issue {
		background-color: hsl(240, 20%, 96%);
		font-size: 12px;
		box-shadow: inset 10px 10px 10px -12px hsl(240, 20%, 17%);
		margin-top: 10px;
		padding-top: 5px;
		padding-left: 5px;
		padding-bottom: 2px;
	}

	.issue a {
		float: right;
	}

	table.source-code td.source {
		padding-left: 15px;
		line-height: 15px;
		white-space: pre;
	}

	/* Overwrite classes */

	.hidden {
		display: none;
	}
</style>

</head>
<body>
	<div id="overview" class="bg-error">
		<h1>ESLint Report - <small class="text-error">error</small></h1>
	</div>
	<div class="container">
		<div id="summary">
			<h2 class="page-header">Summary</h2>
			<div>150 problems (150 errors, 0 warnings)</div>
			<div class="row"><div class="column">
	<h3 class="text-error">Top errors</h3>
	<table class="summary-table"><thead>
		<tr>
			<th>rule</th>
			<th>count</th>
		</tr>
	</thead><tbody>
		<tr>
	<td><strong>jquery/no-attr</strong> <small>(Prefer setAttribute to $.attr)</small></td>
	<td>34</td>
</tr>

<tr>
	<td><strong>jquery/no-class</strong> <small>(Prefer classList to $.addClass)</small></td>
	<td>28</td>
</tr>

<tr>
	<td><strong>jquery/no-find</strong> <small>(Prefer querySelectorAll to $.find)</small></td>
	<td>27</td>
</tr>

<tr>
	<td><strong>jquery/no-data</strong> <small>(Prefer WeakMap to $.data)</small></td>
	<td>14</td>
</tr>

<tr>
	<td><strong>jquery/no-each</strong> <small>(Prefer Array#forEach to $.each)</small></td>
	<td>7</td>
</tr>

<tr>
	<td><strong>jquery/no-text</strong> <small>(Prefer textContent to $.text)</small></td>
	<td>5</td>
</tr>

<tr>
	<td><strong>jquery/no-ready</strong> <small>($.ready is not allowed)</small></td>
	<td>5</td>
</tr>

<tr>
	<td><strong>jquery/no-proxy</strong> <small>(Prefer Function#bind to $.proxy)</small></td>
	<td>4</td>
</tr>

<tr>
	<td><strong>jquery/no-prop</strong> <small>(Prefer direct property access to $.prop)</small></td>
	<td>4</td>
</tr>

<tr>
	<td><strong>jquery/no-parents</strong> <small>(Prefer closest to $.parents)</small></td>
	<td>4</td>
</tr>

<tr>
	<td><strong>jquery/no-closest</strong> <small>(Prefer closest to $.closest)</small></td>
	<td>3</td>
</tr>

<tr>
	<td><strong>jquery/no-is</strong> <small>(Prefer matches to $.is)</small></td>
	<td>3</td>
</tr>

<tr>
	<td><strong>jquery/no-css</strong> <small>(Prefer getComputedStyle to $.css)</small></td>
	<td>2</td>
</tr>

<tr>
	<td><strong>jquery/no-submit</strong> <small>(Prefer dispatchEvent + form.submit() to $.submit)</small></td>
	<td>2</td>
</tr>

<tr>
	<td><strong>jquery/no-hide</strong> <small>($.hide is not allowed)</small></td>
	<td>2</td>
</tr>

<tr>
	<td><strong>jquery/no-sizzle</strong> <small>(Selector extensions are not allowed)</small></td>
	<td>2</td>
</tr>

<tr>
	<td><strong>jquery/no-val</strong> <small>(Prefer value to $.val)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-html</strong> <small>(Prefer innerHTML to $.html)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-show</strong> <small>($.show is not allowed)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-parent</strong> <small>(Prefer parentElement to $.parent)</small></td>
	<td>1</td>
</tr>

	</tbody></table>
</div>
</div><div class="row">
	<div class="column">
		<h3>Most Problems</h3>
		<table class="summary-table"><thead>
			<tr>
				<th>file path</th>
				<th>errors</th>
				<th>warnings</th>
			</tr>
		</thead><tbody>
			<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileToggleToggleJs">/MobileFrontend/resources/mobile.toggle/toggle.js</a></td>
	<td>40</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupSkinJs">/MobileFrontend/resources/mobile.startup/Skin.js</a></td>
	<td>26</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupPageJs">/MobileFrontend/resources/mobile.startup/Page.js</a></td>
	<td>12</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialMobilediffScriptsInitJs">/MobileFrontend/resources/mobile.special.mobilediff.scripts/init.js</a></td>
	<td>10</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobilePagelistScriptsWatchstarPageListJs">/MobileFrontend/resources/mobile.pagelist.scripts/WatchstarPageList.js</a></td>
	<td>7</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialMobileoptionsScriptsMobileoptionsJs">/MobileFrontend/resources/mobile.special.mobileoptions.scripts/mobileoptions.js</a></td>
	<td>7</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileInitInitJs">/MobileFrontend/resources/mobile.init/init.js</a></td>
	<td>6</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileMediaViewerImageOverlayJs">/MobileFrontend/resources/mobile.mediaViewer/ImageOverlay.js</a></td>
	<td>5</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileEditorOverlayEditorOverlayJs">/MobileFrontend/resources/mobile.editor.overlay/EditorOverlay.js</a></td>
	<td>4</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSearchSearchOverlayJs">/MobileFrontend/resources/mobile.search/SearchOverlay.js</a></td>
	<td>4</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileEditorCommonEditorOverlayBaseJs">/MobileFrontend/resources/mobile.editor.common/EditorOverlayBase.js</a></td>
	<td>3</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileReferencesGatewayReferencesMobileViewGatewayJs">/MobileFrontend/resources/mobile.references.gateway/ReferencesMobileViewGateway.js</a></td>
	<td>3</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialWatchlistScriptsWatchlistJs">/MobileFrontend/resources/mobile.special.watchlist.scripts/watchlist.js</a></td>
	<td>3</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupOverlayJs">/MobileFrontend/resources/mobile.startup/Overlay.js</a></td>
	<td>3</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileWatchlistWatchListJs">/MobileFrontend/resources/mobile.watchlist/WatchList.js</a></td>
	<td>3</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileLanguagesStructuredLanguageOverlayJs">/MobileFrontend/resources/mobile.languages.structured/LanguageOverlay.js</a></td>
	<td>2</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileReferencesGatewayReferencesHtmlScraperGatewayJs">/MobileFrontend/resources/mobile.references.gateway/ReferencesHtmlScraperGateway.js</a></td>
	<td>2</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileReferencesReferencesDrawerJs">/MobileFrontend/resources/mobile.references/ReferencesDrawer.js</a></td>
	<td>2</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialNearbyScriptsNearbyJs">/MobileFrontend/resources/mobile.special.nearby.scripts/nearby.js</a></td>
	<td>2</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialUploadsScriptsUploadsJs">/MobileFrontend/resources/mobile.special.uploads.scripts/uploads.js</a></td>
	<td>2</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialUserloginScriptsUserloginJs">/MobileFrontend/resources/mobile.special.userlogin.scripts/userlogin.js</a></td>
	<td>2</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileCategoriesOverlaysCategoryLookupInputWidgetJs">/MobileFrontend/resources/mobile.categories.overlays/CategoryLookupInputWidget.js</a></td>
	<td>1</td>
	<td>0</td>
</tr>
<tr>
	<td><a href="#usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileTalkOverlaysTalkOverlayJs">/MobileFrontend/resources/mobile.talk.overlays/TalkOverlay.js</a></td>
	<td>1</td>
	<td>0</td>
</tr>
		</tbody></table>
	</div>
</div>

		</div>
		<div id="details">
			<h2 class="page-header">Details</h2>
			<fieldset class="filters">
				<legend>Filters:</legend>
				<label>
					<input type="radio" name="filters" value="lint-result">
					<span class="btn-radio">All</span>
				</label>
				<label>
					<input type="radio" name="filters" value="warning">
					<span class="btn-radio text-warning">Warnings</span>
				</label>
				<label>
					<input type="radio" name="filters" value="error" checked>
					<span class="btn-radio text-error">Errors</span>
				</label>
			</fieldset>
			<table id="fileOverview">
				<tbody>
					<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMediawikiTemplateHoganHoganJs" class="lint-result bg-success hidden" data-group="f-0" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mediawiki.template.hogan/hogan.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileCategoriesOverlaysCategoryAddOverlayJs" class="lint-result bg-success hidden" data-group="f-1" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.categories.overlays/CategoryAddOverlay.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileCategoriesOverlaysCategoryGatewayJs" class="lint-result bg-success hidden" data-group="f-2" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.categories.overlays/CategoryGateway.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileCategoriesOverlaysCategoryLookupInputWidgetJs" class="lint-result bg-error " data-group="f-3" data-problem-count="1" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.categories.overlays/CategoryLookupInputWidget.js
    </th>
    <th class="result-summary">
      1 problem (1 error, 0 warnings)
    </th>
</tr>
<tr class="f-3 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-3"
								data-content="detailSummary-3"
								aria-controls="detailSummary-3"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-3"
								data-content="sourceCode-3"
								aria-controls="sourceCode-3"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-3">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 88, Column 6: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-3">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M, OO ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	 * @class CategoryLookupInputWidget</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>	 * @extends OO.ui.mixin.LookupElement</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>	 * @param {Object} options Configuration options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>	 * @param {CategoryGateway} options.gateway to use to retrieve search results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>	 * @param {jQuery.Object} options.suggestions container element for search suggestions</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>	 * @param {jQuery.Object} options.saveButton element. Will get disabled when suggested item</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>	 *                                           clicked.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	function CategoryLookupInputWidget( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>		// Note: this.$element is set to $( '&#60;div&#62;' ) by OOUI.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>		this.gateway = options.gateway;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>		this.$suggestions = options.suggestions;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>		this.categories = options.categories || [];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>		this.$saveButton = options.saveButton;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>		options.placeholder = mw.msg( 'mobile-frontend-categories-search' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>		OO.ui.TextInputWidget.call( this, options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>		OO.ui.mixin.LookupElement.call( this, options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>	OO.inheritClass( CategoryLookupInputWidget, OO.ui.TextInputWidget );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>	OO.mixinClass( CategoryLookupInputWidget, OO.ui.mixin.LookupElement );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>	 * Handle a click on a suggested item. Add it to the list of added categories and show save</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>	 * button.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>	 * @memberof CategoryLookupInputWidget</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>	 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>	 * @param {Object} data Data of the clicked element</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>	CategoryLookupInputWidget.prototype.onLookupMenuItemChoose = function ( data ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		var button = new OO.ui.ButtonWidget( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>			icon: 'check',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>			label: data.label,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>			classes: [ 'suggestion', 'suggested' ],</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>			flags: [ 'progressive', 'primary' ]</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		button.$element.attr( 'data-title', data.data );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>		this.$suggestions.append( button.$element );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>		this.$saveButton.prop( 'disabled', false );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>	};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>	 * Returns the result of the search request.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>	 * @memberof CategoryLookupInputWidget</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>	 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>	 * @return {jQuery.Deferred}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>	CategoryLookupInputWidget.prototype.getLookupRequest = function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>		return this.gateway.search( this.value );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>	};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>	 * Get lookup cache item from server response data.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>	 * @memberof CategoryLookupInputWidget</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>	 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>	 * @param {Mixed} response Response from server</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>	 * @return {Mixed} Cached result response</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>	CategoryLookupInputWidget.prototype.getLookupCacheDataFromResponse = function ( response ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>		var title = new mw.Title( this.value, 14 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>		// add user input as a possible (actually not existing) category</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>		response.results.unshift( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>			title: title.toString(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>			displayTitle: title.getNameText()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>		return response;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>	};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>	 * Get a list of menu item widgets from the data stored by the lookup request's done handler.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>	 * @memberof CategoryLookupInputWidget</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>	 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>	 * @param {Mixed} data Cached result data, usually an array</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>	 * @return {Array} Array of OO.ui.MenuOptionWidget</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>	CategoryLookupInputWidget.prototype.getLookupMenuOptionsFromData = function ( data ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>		var result = [],</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>			$el = this.$element,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>			self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>		data.results.forEach( function ( value ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>			if (</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 88, Column 6: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">88</td>
	<td class="source"><code>				!$el.find( 'div[data-title="' + value.title + '"]' ).length &&</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>				self.categories.indexOf( value.displayTitle ) === -1</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>			) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>				result.push(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>					new OO.ui.MenuOptionWidget( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>						data: value.title,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>						label: value.displayTitle</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>					} )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>				);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>		return result;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>	};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>	M.define( 'mobile.categories.overlays/CategoryLookupInputWidget', CategoryLookupInputWidget );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>}( mw.mobileFrontend, OO ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileCategoriesOverlaysCategoryOverlayJs" class="lint-result bg-success hidden" data-group="f-4" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.categories.overlays/CategoryOverlay.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileEditorApiEditorGatewayJs" class="lint-result bg-success hidden" data-group="f-5" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.editor.api/EditorGateway.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileEditorCommonAbuseFilterOverlayJs" class="lint-result bg-success hidden" data-group="f-6" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.editor.common/AbuseFilterOverlay.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileEditorCommonAbuseFilterPanelJs" class="lint-result bg-success hidden" data-group="f-7" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.editor.common/AbuseFilterPanel.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileEditorCommonEditorOverlayBaseJs" class="lint-result bg-error " data-group="f-8" data-problem-count="3" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.editor.common/EditorOverlayBase.js
    </th>
    <th class="result-summary">
      3 problems (3 errors, 0 warnings)
    </th>
</tr>
<tr class="f-8 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-8"
								data-content="detailSummary-8"
								aria-controls="detailSummary-8"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-8"
								data-content="sourceCode-8"
								aria-controls="sourceCode-8"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-8">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 414, Column 5: "Prefer value to $.val"
		<a href="http://eslint.org/docs/rules/jquery/no-val" target="_blank">jquery/no-val</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 415, Column 5: "Prefer setAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 417, Column 6: "Prefer setAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-8">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>	var Overlay = M.require( 'mobile.startup/Overlay' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		PageGateway = M.require( 'mobile.startup/PageGateway' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		Icon = M.require( 'mobile.startup/Icon' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		toast = M.require( 'mobile.startup/toast' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		user = M.require( 'mobile.startup/user' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		MessageBox = M.require( 'mobile.messageBox/MessageBox' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>		mwUser = mw.user;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * 'Edit' button</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 * @param {OO.ui.ToolGroup} toolGroup</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 * @param {Object} config</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	function EditVeTool( toolGroup, config ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>		config = config || {};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>		config.classes = [ 'visual-editor' ];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>		EditVeTool.super.call( this, toolGroup, config );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>	OO.inheritClass( EditVeTool, OO.ui.Tool );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>	EditVeTool.static.name = 'editVe';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>	EditVeTool.static.icon = 'edit';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>	EditVeTool.static.group = 'editorSwitcher';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>	EditVeTool.static.title = mw.msg( 'mobile-frontend-editor-switch-visual-editor' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>	 * click handler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>	 * @memberof EditVeTool</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>	 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>	EditVeTool.prototype.onSelect = function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		// will be overridden later</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>	};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>	 * Toolbar update state handler.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>	 * @memberof EditVeTool</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>	 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>	EditVeTool.prototype.onUpdateState = function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>		// do nothing</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>	};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>	 * Base class for EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>	 * @class EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>	 * @extends Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>	 * @uses Icon</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>	 * @uses user</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>	 * @param {Object} options Configuration options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>	function EditorOverlayBase( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>		var self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>		if ( options.isNewPage ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>			options.placeholder = mw.msg( 'mobile-frontend-editor-placeholder-new-page', mwUser );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>		// change the message to request a summary when not in article namespace</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>		if ( mw.config.get( 'wgNamespaceNumber' ) !== 0 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>			options.summaryRequestMsg = mw.msg( 'mobile-frontend-editor-summary' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>		this.pageGateway = new PageGateway( options.api );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>		this.editCount = user.getEditCount();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>		this.isNewPage = options.isNewPage;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>		this.isNewEditor = options.isNewEditor;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>		this.sectionId = options.sectionId;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>		this.config = mw.config.get( 'wgMFEditorOptions' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>		this.sessionId = options.sessionId;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		this.overlayManager = options.overlayManager;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>		this.allowCloseWindow = mw.confirmCloseWindow( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>			// Returns true if content has changed</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>			test: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>				// Check if content has changed</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>				return self.hasChanged();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>			},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>			// Message to show the user, if content has changed</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>			message: mw.msg( 'mobile-frontend-editor-cancel-confirm' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>			// Event namespace</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>			namespace: 'editwarning'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>		Overlay.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>	OO.mfExtend( EditorOverlayBase, Overlay, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>		 * @mixes Overlay#defaults</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>		 * @property {Object} defaults Default options hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>		 * @property {OverlayManager} defaults.overlayManager instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>		 * @property {mw.Api} defaults.api to interact with</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>		 * @property {boolean} defaults.hasToolbar Whether the editor has a toolbar or not. When</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>		 *  disabled a header will be show instead.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>		 * @property {string} defaults.continueMsg Caption for the next button on edit form</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>		 * which takes you to the screen that shows a preview and license information.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>		 * @property {string} defaults.cancelMsg Caption for cancel button on edit form.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>		 * @property {string} defaults.closeMsg Caption for a button that takes you back to editing</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>		 * from edit preview screen.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>		 * @property {string} defaults.summaryRequestMsg Header above edit summary input field</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>		 * asking the user to summarize the changes they made to the page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>		 * @property {string} defaults.summaryMsg A placeholder with examples for the summary input</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>		 * field asking user what they changed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>		 * @property {string} defaults.placeholder Placeholder text for empty sections.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>		 * @property {string} defaults.waitMsg Text that displays while a page edit is being saved.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>		 * @property {string} defaults.waitIcon HTML of the icon that displays while a page edit</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>		 * is being saved.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>		 * @property {string} defaults.captchaMsg Placeholder for captcha input field.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>		 * @property {string} defaults.captchaTryAgainMsg A message shown when user enters</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>		 * wrong CAPTCHA and a new one is displayed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>		 * @property {string} defaults.switchMsg Label for button that allows the user</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>		 * to switch between two different editing interfaces.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>		 * @property {string} defaults.licenseMsg Text and link of the license,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>		 * under which this contribution will be released to inform the user.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>		defaults: util.extend( {}, Overlay.prototype.defaults, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>			hasToolbar: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>			continueMsg: mw.msg( 'mobile-frontend-editor-continue' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>			cancelMsg: mw.msg( 'mobile-frontend-editor-cancel' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>			closeMsg: mw.msg( 'mobile-frontend-editor-keep-editing' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>			summaryRequestMsg: mw.msg( 'mobile-frontend-editor-summary-request' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>			summaryMsg: mw.msg( 'mobile-frontend-editor-summary-placeholder' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>			placeholder: mw.msg( 'mobile-frontend-editor-placeholder' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>			waitMsg: mw.msg( 'mobile-frontend-editor-wait' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>			// icons.spinner can't be used,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>			// the spinner class changes to display:none in onStageChanges</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>			waitIcon: new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>				name: 'spinner',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>				additionalClassNames: 'savespinner loading'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>			} ).toHtmlString(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>			captchaMsg: mw.msg( 'mobile-frontend-account-create-captcha-placeholder' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>			captchaTryAgainMsg: mw.msg( 'mobile-frontend-editor-captcha-try-again' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code>			switchMsg: mw.msg( 'mobile-frontend-editor-switch-editor' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>			confirmMsg: mw.msg( 'mobile-frontend-editor-cancel-confirm' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>			licenseMsg: undefined</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>		templatePartials: util.extend( {}, Overlay.prototype.templatePartials, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>			editHeader: mw.template.get( 'mobile.editor.common', 'editHeader.hogan' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>			previewHeader: mw.template.get( 'mobile.editor.common', 'previewHeader.hogan' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>			saveHeader: mw.template.get( 'mobile.editor.common', 'saveHeader.hogan' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>		template: mw.template.get( 'mobile.editor.common', 'EditorOverlayBase.hogan' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>		className: 'overlay editor-overlay',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>		events: util.extend( {}, Overlay.prototype.events, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>			'click .back': 'onClickBack',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>			'click .continue': 'onClickContinue',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code>			'click .submit': 'onClickSubmit'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">168</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">169</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code>		 * Logs an event to  http://meta.wikimedia.org/wiki/Schema:Edit</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">173</td>
	<td class="source"><code>		 * @param {Object} data</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code>		log: function ( data ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">176</td>
	<td class="source"><code>			mw.track( 'mf.schemaEdit', util.extend( data, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">177</td>
	<td class="source"><code>				editor: this.editor,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">178</td>
	<td class="source"><code>				editingSessionId: this.sessionId</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">179</td>
	<td class="source"><code>			} ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">180</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">181</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">182</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">183</td>
	<td class="source"><code>		 * If this is a new article, require confirmation before saving.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">184</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">185</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">186</td>
	<td class="source"><code>		 * @return {boolean} The user confirmed saving</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">187</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">188</td>
	<td class="source"><code>		confirmSave: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">189</td>
	<td class="source"><code>			if ( this.isNewPage &&</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">190</td>
	<td class="source"><code>				// TODO: Replace with an OOUI dialog</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">191</td>
	<td class="source"><code>				// eslint-disable-next-line no-alert</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">192</td>
	<td class="source"><code>				!window.confirm( mw.msg( 'mobile-frontend-editor-new-page-confirm', mwUser ) )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">193</td>
	<td class="source"><code>			) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">194</td>
	<td class="source"><code>				return false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">195</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">196</td>
	<td class="source"><code>				return true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">197</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">198</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">199</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">200</td>
	<td class="source"><code>		 * Executed when page save is complete. Handles reloading the page, showing toast</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">201</td>
	<td class="source"><code>		 * messages.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">202</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">203</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">204</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">205</td>
	<td class="source"><code>		onSaveComplete: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">206</td>
	<td class="source"><code>			var msg,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">207</td>
	<td class="source"><code>				$window = util.getWindow(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">208</td>
	<td class="source"><code>				title = this.options.title,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">209</td>
	<td class="source"><code>				self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">210</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">211</td>
	<td class="source"><code>			// FIXME: use generic method for following 3 lines</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">212</td>
	<td class="source"><code>			this.pageGateway.invalidatePage( title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">213</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">214</td>
	<td class="source"><code>			if ( this.isNewPage ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">215</td>
	<td class="source"><code>				msg = mw.msg( 'mobile-frontend-editor-success-new-page' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">216</td>
	<td class="source"><code>			} else if ( this.isNewEditor ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">217</td>
	<td class="source"><code>				msg = mw.msg( 'mobile-frontend-editor-success-landmark-1' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">218</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">219</td>
	<td class="source"><code>				msg = mw.msg( 'mobile-frontend-editor-success' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">220</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">221</td>
	<td class="source"><code>			toast.showOnPageReload( msg, 'success' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">222</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">223</td>
	<td class="source"><code>			// Ensure we don't lose this event when logging</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">224</td>
	<td class="source"><code>			this.log( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">225</td>
	<td class="source"><code>				action: 'saveSuccess'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">226</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">227</td>
	<td class="source"><code>			if ( self.sectionLine ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">228</td>
	<td class="source"><code>				// Ideally we'd want to do this via replaceState (see T189173)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">229</td>
	<td class="source"><code>				// eslint-disable-next-line no-restricted-properties</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">230</td>
	<td class="source"><code>				window.location.hash = self.sectionLine;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">231</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">232</td>
	<td class="source"><code>				// Cancel the hash fragment</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">233</td>
	<td class="source"><code>				// otherwise clicking back after a save will take you back to the editor.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">234</td>
	<td class="source"><code>				// We avoid calling the hide method of the overlay here as this can be asynchronous</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">235</td>
	<td class="source"><code>				// and may conflict with the window.reload call below.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">236</td>
	<td class="source"><code>				// eslint-disable-next-line no-restricted-properties</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">237</td>
	<td class="source"><code>				window.location.hash = '#';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">238</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">239</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">240</td>
	<td class="source"><code>			$window.off( 'beforeunload.mfeditorwarning' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">241</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">242</td>
	<td class="source"><code>			// Note the "#" may be in the URL.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">243</td>
	<td class="source"><code>			// If so, using window.location alone will not reload the page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">244</td>
	<td class="source"><code>			// we need to forcefully refresh</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">245</td>
	<td class="source"><code>			// eslint-disable-next-line no-restricted-properties</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">246</td>
	<td class="source"><code>			window.location.reload();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">247</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">248</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">249</td>
	<td class="source"><code>		 * Report load errors back to the user. Silently record the error using EventLogging.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">250</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">251</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">252</td>
	<td class="source"><code>		 * @param {string} text Text of message to display to user</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">253</td>
	<td class="source"><code>		 * @param {string} heading heading text to display to user</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">254</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">255</td>
	<td class="source"><code>		reportError: function ( text, heading ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">256</td>
	<td class="source"><code>			var errorNotice = new MessageBox( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">257</td>
	<td class="source"><code>				className: 'errorbox',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">258</td>
	<td class="source"><code>				msg: text,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">259</td>
	<td class="source"><code>				heading: heading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">260</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">261</td>
	<td class="source"><code>			this.$errorNoticeContainer.html( errorNotice.$el );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">262</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">263</td>
	<td class="source"><code>		hideErrorNotice: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">264</td>
	<td class="source"><code>			this.$errorNoticeContainer.empty();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">265</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">266</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">267</td>
	<td class="source"><code>		 * Prepares the penultimate screen before saving.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">268</td>
	<td class="source"><code>		 * Expects to be overridden by child class.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">269</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">270</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">271</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">272</td>
	<td class="source"><code>		onStageChanges: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">273</td>
	<td class="source"><code>			this.showHidden( '.save-header, .save-panel' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">274</td>
	<td class="source"><code>			this.log( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">275</td>
	<td class="source"><code>				action: 'saveIntent'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">276</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">277</td>
	<td class="source"><code>			// Scroll to the top of the page, so that the summary input is visible</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">278</td>
	<td class="source"><code>			// (even if overlay was scrolled down when editing) and weird iOS header</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">279</td>
	<td class="source"><code>			// problems are avoided (header position not updating to the top of the</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">280</td>
	<td class="source"><code>			// screen, instead staying lower until a subsequent scroll event).</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">281</td>
	<td class="source"><code>			window.scrollTo( 0, 1 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">282</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">283</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">284</td>
	<td class="source"><code>		 * Executed when the editor clicks the save button. Expects to be overridden by child</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">285</td>
	<td class="source"><code>		 * class. Checks if the save needs to be confirmed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">286</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">287</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">288</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">289</td>
	<td class="source"><code>		onSaveBegin: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">290</td>
	<td class="source"><code>			this.confirmAborted = false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">291</td>
	<td class="source"><code>			this.hideErrorNotice();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">292</td>
	<td class="source"><code>			// Ask for confirmation in some cases</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">293</td>
	<td class="source"><code>			if ( !this.confirmSave() ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">294</td>
	<td class="source"><code>				this.confirmAborted = true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">295</td>
	<td class="source"><code>				return;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">296</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">297</td>
	<td class="source"><code>			this.log( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">298</td>
	<td class="source"><code>				action: 'saveAttempt'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">299</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">300</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">301</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">302</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">303</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">304</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">305</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">306</td>
	<td class="source"><code>		postRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">307</td>
	<td class="source"><code>			// log edit attempt</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">308</td>
	<td class="source"><code>			this.log( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">309</td>
	<td class="source"><code>				action: 'ready'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">310</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">311</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">312</td>
	<td class="source"><code>			// decide what happens, when the user clicks the continue button</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">313</td>
	<td class="source"><code>			if ( this.config.skipPreview ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">314</td>
	<td class="source"><code>				// skip the preview and save the changes</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">315</td>
	<td class="source"><code>				this.nextStep = 'onSaveBegin';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">316</td>
	<td class="source"><code>				this.$( '.continue' ).text( this.defaults.saveMsg );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">317</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">318</td>
	<td class="source"><code>				// default: show the preview step</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">319</td>
	<td class="source"><code>				this.nextStep = 'onStageChanges';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">320</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">321</td>
	<td class="source"><code>			this.$errorNoticeContainer = this.$el.find( '#error-notice-container' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">322</td>
	<td class="source"><code>			Overlay.prototype.postRender.apply( this );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">323</td>
	<td class="source"><code>			this.showHidden( '.initial-header' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">324</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">325</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">326</td>
	<td class="source"><code>		 * Back button click handler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">327</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">328</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">329</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">330</td>
	<td class="source"><code>		onClickBack: util.noop,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">331</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">332</td>
	<td class="source"><code>		 * Exit handler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">333</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">334</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">335</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">336</td>
	<td class="source"><code>		onExitClick: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">337</td>
	<td class="source"><code>			Overlay.prototype.onExitClick.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">338</td>
	<td class="source"><code>			// log cancel attempt</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">339</td>
	<td class="source"><code>			this.log( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">340</td>
	<td class="source"><code>				action: 'abort',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">341</td>
	<td class="source"><code>				mechanism: 'cancel',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">342</td>
	<td class="source"><code>				type: this.hasChanged() ? 'abandon' : 'nochange'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">343</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">344</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">345</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">346</td>
	<td class="source"><code>		 * Submit button click handler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">347</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">348</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">349</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">350</td>
	<td class="source"><code>		onClickSubmit: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">351</td>
	<td class="source"><code>			this.onSaveBegin();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">352</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">353</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">354</td>
	<td class="source"><code>		 * Continue button click handler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">355</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">356</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">357</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">358</td>
	<td class="source"><code>		onClickContinue: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">359</td>
	<td class="source"><code>			this[this.nextStep]();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">360</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">361</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">362</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">363</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">364</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">365</td>
	<td class="source"><code>		 * @return {boolean|jQuery.Promise} Boolean, or promise resolving with a boolean</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">366</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">367</td>
	<td class="source"><code>		hide: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">368</td>
	<td class="source"><code>			var self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">369</td>
	<td class="source"><code>			if ( this.hasChanged() ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">370</td>
	<td class="source"><code>				return OO.ui.confirm( mw.msg( 'mobile-frontend-editor-cancel-confirm' ) ).then( function ( confirmed ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">371</td>
	<td class="source"><code>					if ( confirmed ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">372</td>
	<td class="source"><code>						self.allowCloseWindow.release();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">373</td>
	<td class="source"><code>						Overlay.prototype.hide.call( self );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">374</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">375</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">376</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">377</td>
	<td class="source"><code>				this.allowCloseWindow.release();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">378</td>
	<td class="source"><code>				return Overlay.prototype.hide.call( self );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">379</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">380</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">381</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">382</td>
	<td class="source"><code>		 * Check, if the user should be asked if they really want to leave the page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">383</td>
	<td class="source"><code>		 * Returns false, if he hasn't made changes, otherwise true.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">384</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">385</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">386</td>
	<td class="source"><code>		 * @param {boolean} [force] Whether this function should always return false</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">387</td>
	<td class="source"><code>		 * @return {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">388</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">389</td>
	<td class="source"><code>		shouldConfirmLeave: function ( force ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">390</td>
	<td class="source"><code>			if ( force || !this.hasChanged() ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">391</td>
	<td class="source"><code>				return false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">392</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">393</td>
	<td class="source"><code>			return true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">394</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">395</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">396</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">397</td>
	<td class="source"><code>		 * Checks whether the state of the thing being edited as changed. Expects to be</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">398</td>
	<td class="source"><code>		 * implemented by child class.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">399</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">400</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">401</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">402</td>
	<td class="source"><code>		hasChanged: util.noop,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">403</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">404</td>
	<td class="source"><code>		 * Handles a failed save due to a CAPTCHA provided by ConfirmEdit extension.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">405</td>
	<td class="source"><code>		 * @memberof EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">406</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">407</td>
	<td class="source"><code>		 * @param {Object} details Details returned from the api.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">408</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">409</td>
	<td class="source"><code>		handleCaptcha: function ( details ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">410</td>
	<td class="source"><code>			var self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">411</td>
	<td class="source"><code>				$input = this.$( '.captcha-word' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">412</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">413</td>
	<td class="source"><code>			if ( this.captchaShown ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 414, Column 5: "Prefer value to $.val"
		<a href="http://eslint.org/docs/rules/jquery/no-val" target="_blank">jquery/no-val</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">414</td>
	<td class="source"><code>				$input.val( '' );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 415, Column 5: "Prefer setAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">415</td>
	<td class="source"><code>				$input.attr( 'placeholder', this.options.captchaTryAgainMsg );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">416</td>
	<td class="source"><code>				setTimeout( function () {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 417, Column 6: "Prefer setAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">417</td>
	<td class="source"><code>					$input.attr( 'placeholder', self.options.captchaMsg );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">418</td>
	<td class="source"><code>				}, 2000 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">419</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">420</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">421</td>
	<td class="source"><code>			// handle different mime types different</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">422</td>
	<td class="source"><code>			if ( details.mime.indexOf( 'image/' ) === 0 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">423</td>
	<td class="source"><code>				// image based CAPTCHA's like provided by FancyCaptcha, ReCaptcha or similar</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">424</td>
	<td class="source"><code>				this.$( '.captcha-panel#question' ).detach();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">425</td>
	<td class="source"><code>				this.$( '.captcha-panel img' ).attr( 'src', details.url );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">426</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">427</td>
	<td class="source"><code>				// not image based CAPTCHA.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">428</td>
	<td class="source"><code>				this.$( '.captcha-panel #image' ).detach();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">429</td>
	<td class="source"><code>				if ( details.mime.indexOf( 'text/html' ) === 0 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">430</td>
	<td class="source"><code>					// handle mime type of HTML as HTML content (display as-is).</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">431</td>
	<td class="source"><code>					// QuestyCaptcha now have default MIME type "text/html": see T147606</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">432</td>
	<td class="source"><code>					this.$( '.captcha-panel #question' ).html( details.question );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">433</td>
	<td class="source"><code>				} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">434</td>
	<td class="source"><code>					// handle mime types</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">435</td>
	<td class="source"><code>					// (other than image based ones and HTML based ones)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">436</td>
	<td class="source"><code>					// as plain text by default.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">437</td>
	<td class="source"><code>					// e.g. MathCaptcha (solve a math formula) or</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">438</td>
	<td class="source"><code>					// SimpleCaptcha (simple math formula)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">439</td>
	<td class="source"><code>					this.$( '.captcha-panel #question' ).text( details.question );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">440</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">441</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">442</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">443</td>
	<td class="source"><code>			this.showHidden( '.save-header, .captcha-panel' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">444</td>
	<td class="source"><code>			this.captchaShown = true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">445</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">446</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">447</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">448</td>
	<td class="source"><code>	M.define( 'mobile.editor.common/EditorOverlayBase', EditorOverlayBase );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">449</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">450</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileEditorCommonSchemaEditJs" class="lint-result bg-success hidden" data-group="f-9" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.editor.common/schemaEdit.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileEditorOverlayBlockMessageJs" class="lint-result bg-success hidden" data-group="f-10" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.editor.overlay/BlockMessage.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileEditorOverlayEditorOverlayJs" class="lint-result bg-error " data-group="f-11" data-problem-count="4" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.editor.overlay/EditorOverlay.js
    </th>
    <th class="result-summary">
      4 problems (4 errors, 0 warnings)
    </th>
</tr>
<tr class="f-11 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-11"
								data-content="detailSummary-11"
								aria-controls="detailSummary-11"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-11"
								data-content="sourceCode-11"
								aria-controls="sourceCode-11"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-11">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 479, Column 4: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 499, Column 8: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 503, Column 7: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 507, Column 6: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-11">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>	var EditorOverlayBase = M.require( 'mobile.editor.common/EditorOverlayBase' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		Section = M.require( 'mobile.startup/Section' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		EditorGateway = M.require( 'mobile.editor.api/EditorGateway' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		AbuseFilterPanel = M.require( 'mobile.editor.common/AbuseFilterPanel' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		Button = M.require( 'mobile.startup/Button' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		BlockMessage = M.require( 'mobile.editor.overlay/BlockMessage' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>		MessageBox = M.require( 'mobile.messageBox/MessageBox' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * Overlay that shows an editor</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 * @class EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 * @uses Section</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 * @uses AbuseFilterPanel</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	 * @uses EditorGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	 * @uses VisualEditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>	 * @extends EditorOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>	 * @param {Object} options Configuration options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>	function EditorOverlay( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>		this.gateway = new EditorGateway( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>			api: options.api,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>			title: options.title,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>			sectionId: options.sectionId,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>			oldId: options.oldId,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>			isNewPage: options.isNewPage</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>		this.readOnly = !!options.oldId; // If old revision, readOnly mode</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>		if ( this.isVisualEditorEnabled() ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>			options.editSwitcher = true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>		if ( this.readOnly ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>			options.readOnly = true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>			options.editingMsg = mw.msg( 'mobile-frontend-editor-viewing-source-page', options.title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>			options.editingMsg = mw.msg( 'mobile-frontend-editor-editing-page', options.title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		if ( options.isAnon ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>			// add required data for anonymous editing warning</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>			options = this._prepareAnonWarning( options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>		// be explicit here. This may have been initialized from VE.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>		options.isVisualEditor = false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>		options.previewingMsg = mw.msg( 'mobile-frontend-editor-previewing-page', options.title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>		EditorOverlayBase.call( this, options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>	OO.mfExtend( EditorOverlay, EditorOverlayBase, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>		isBorderBox: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>		templatePartials: util.extend( {}, EditorOverlayBase.prototype.templatePartials, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>			content: mw.template.get( 'mobile.editor.overlay', 'content.hogan' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>			messageBox: MessageBox.prototype.template,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>			anonWarning: mw.template.get( 'mobile.editor.common', 'EditorOverlayAnonWarning.hogan' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>		 * @mixes EditorOverlayBase#defaults</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>		 * @property {Object} defaults Default options hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>		 * @property {Object} defaults.loginButton options to render an sign in button</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>		 * @property {Object} defaults.signupButton options to render a sign up button</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>		 * @property {Object} defaults.anonButton options to render an edit anonymously button</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>		 * @property {Object} defaults.warningOptions options for a MessageBox</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>		 *  to display anonymous message warning</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>		 * @property {mw.Api} defaults.api an api module to retrieve pages</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>		defaults: util.extend( {}, EditorOverlayBase.prototype.defaults, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>			ctaMessage: mw.msg( 'mobile-frontend-editor-anon-cta-message' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>			loginButton: new Button( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>				block: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-watchlist-cta-button-login' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>			} ).options,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>			signupButton: new Button( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>				block: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-watchlist-cta-button-signup' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>			} ).options,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>			anonButton: new Button( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-editor-anon' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>				block: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>				additionalClassNames: 'continue anonymous',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>				progressive: true</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>			} ).options,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>			warningOptions: {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>				className: 'warningbox anon-msg',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>				msg: mw.msg( 'mobile-frontend-editor-anonwarning' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>		editor: 'wikitext',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>		sectionLine: '',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>		 * Check whether VisualEditor is enabled or not.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>		 * @return {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>		isVisualEditorEnabled: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>			var ns = mw.config.get( 'wgVisualEditorConfig' ) &&</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>				mw.config.get( 'wgVisualEditorConfig' ).namespaces;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>			return ns &&</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>				ns.indexOf(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>					mw.config.get( 'wgNamespaceNumber' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>				) &#62; -1 &&</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>				mw.config.get( 'wgTranslatePageTranslation' ) !== 'translation' &&</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>				mw.config.get( 'wgPageContentModel' ) === 'wikitext';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>		events: util.extend( {}, EditorOverlayBase.prototype.events, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>			'input .wikitext-editor': 'onInputWikitextEditor'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>		 * Wikitext Editor input handler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>		onInputWikitextEditor: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>			this.gateway.setContent( this.$( '.wikitext-editor' ).val() );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>			this.$( '.continue, .submit' ).prop( 'disabled', false );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>		onClickContinue: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>			// handle the click on "Edit without logging in"</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>			if ( this.options.isAnon && this.$( ev.target ).hasClass( 'anonymous' ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>				this._showEditorAfterWarning();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>				return false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>			EditorOverlayBase.prototype.onClickContinue.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>		onClickBack: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code>			EditorOverlayBase.prototype.onClickBack.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>			this._hidePreview();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">168</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">169</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code>		postRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>			var self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">173</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code>			if ( this.isVisualEditorEnabled() ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code>				mw.loader.using( 'ext.visualEditor.switching' ).then( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">176</td>
	<td class="source"><code>					var switchToolbar,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">177</td>
	<td class="source"><code>						toolFactory = new OO.ui.ToolFactory(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">178</td>
	<td class="source"><code>						toolGroupFactory = new OO.ui.ToolGroupFactory();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">179</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">180</td>
	<td class="source"><code>					toolFactory.register( mw.libs.ve.MWEditModeVisualTool );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">181</td>
	<td class="source"><code>					toolFactory.register( mw.libs.ve.MWEditModeSourceTool );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">182</td>
	<td class="source"><code>					switchToolbar = new OO.ui.Toolbar( toolFactory, toolGroupFactory, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">183</td>
	<td class="source"><code>						classes: [ 'editor-switcher' ]</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">184</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">185</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">186</td>
	<td class="source"><code>					switchToolbar.on( 'switchEditor', function ( mode ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">187</td>
	<td class="source"><code>						if ( mode === 'visual' ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">188</td>
	<td class="source"><code>							// If the user tries to switch to the VisualEditor,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">189</td>
	<td class="source"><code>							// check if any changes have been made,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">190</td>
	<td class="source"><code>							// and if so, tell the user they have to save first.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">191</td>
	<td class="source"><code>							if ( !self.gateway.hasChanged ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">192</td>
	<td class="source"><code>								self._switchToVisualEditor( self.options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">193</td>
	<td class="source"><code>							} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">194</td>
	<td class="source"><code>								// TODO: Replace with an OOUI dialog</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">195</td>
	<td class="source"><code>								// eslint-disable-next-line no-alert</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">196</td>
	<td class="source"><code>								if ( window.confirm( mw.msg( 'mobile-frontend-editor-switch-confirm' ) ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">197</td>
	<td class="source"><code>									self.onStageChanges();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">198</td>
	<td class="source"><code>								}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">199</td>
	<td class="source"><code>							}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">200</td>
	<td class="source"><code>						}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">201</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">202</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">203</td>
	<td class="source"><code>					switchToolbar.setup( [</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">204</td>
	<td class="source"><code>						{</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">205</td>
	<td class="source"><code>							name: 'editMode',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">206</td>
	<td class="source"><code>							type: 'list',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">207</td>
	<td class="source"><code>							icon: 'edit',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">208</td>
	<td class="source"><code>							title: mw.msg( 'visualeditor-mweditmode-tooltip' ), // resource-modules-disable-line</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">209</td>
	<td class="source"><code>							include: [ 'editModeVisual', 'editModeSource' ]</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">210</td>
	<td class="source"><code>						}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">211</td>
	<td class="source"><code>					] );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">212</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">213</td>
	<td class="source"><code>					self.$el.find( '.switcher-container' ).html( switchToolbar.$element );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">214</td>
	<td class="source"><code>					switchToolbar.emit( 'updateState' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">215</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">216</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">217</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">218</td>
	<td class="source"><code>			EditorOverlayBase.prototype.postRender.apply( this );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">219</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">220</td>
	<td class="source"><code>			this.$preview = this.$( '.preview' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">221</td>
	<td class="source"><code>			this.$content = this.$( '.wikitext-editor' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">222</td>
	<td class="source"><code>			this.$content.addClass( 'mw-editfont-' + mw.user.options.get( 'editfont' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">223</td>
	<td class="source"><code>			if ( self.options.isAnon ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">224</td>
	<td class="source"><code>				this.$anonWarning = this.$( '.anonwarning' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">225</td>
	<td class="source"><code>				this.$content.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">226</td>
	<td class="source"><code>				// the user has to click login, signup or edit without login,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">227</td>
	<td class="source"><code>				// disable "Next" button on top right</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">228</td>
	<td class="source"><code>				this.$anonHiddenButtons = this.$( '.overlay-header .continue, .editor-switcher' ).hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">229</td>
	<td class="source"><code>				this.hideSpinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">230</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">231</td>
	<td class="source"><code>			// make license links open in separate tabs</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">232</td>
	<td class="source"><code>			this.$( '.license a' ).attr( 'target', '_blank' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">233</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">234</td>
	<td class="source"><code>			this.abuseFilterPanel = new AbuseFilterPanel( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">235</td>
	<td class="source"><code>				overlayManager: this.overlayManager</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">236</td>
	<td class="source"><code>			} ).appendTo( this.$( '.panels' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">237</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">238</td>
	<td class="source"><code>			// If in readOnly mode, make textarea readonly</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">239</td>
	<td class="source"><code>			if ( this.readOnly ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">240</td>
	<td class="source"><code>				this.$content.prop( 'readonly', true );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">241</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">242</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">243</td>
	<td class="source"><code>			this.$content.on( 'input', this._resizeEditor.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">244</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">245</td>
	<td class="source"><code>			if ( !self.options.isAnon ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">246</td>
	<td class="source"><code>				this._loadContent();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">247</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">248</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">249</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">250</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">251</td>
	<td class="source"><code>		 * Sets additional values used for anonymous editing warning.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">252</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">253</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">254</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">255</td>
	<td class="source"><code>		 * @param {Object} options object</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">256</td>
	<td class="source"><code>		 * @return {Object} Object with all options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">257</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">258</td>
	<td class="source"><code>		_prepareAnonWarning: function ( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">259</td>
	<td class="source"><code>			var params = util.extend( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">260</td>
	<td class="source"><code>				// use wgPageName as this includes the namespace if outside Main</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">261</td>
	<td class="source"><code>					returnto: options.returnTo || mw.config.get( 'wgPageName' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">262</td>
	<td class="source"><code>					returntoquery: 'action=edit&section=' + options.sectionId,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">263</td>
	<td class="source"><code>					warning: 'mobile-frontend-edit-login-action'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">264</td>
	<td class="source"><code>				}, options.queryParams ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">265</td>
	<td class="source"><code>				signupParams = util.extend( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">266</td>
	<td class="source"><code>					type: 'signup',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">267</td>
	<td class="source"><code>					warning: 'mobile-frontend-edit-signup-action'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">268</td>
	<td class="source"><code>				}, options.signupQueryParams );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">269</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">270</td>
	<td class="source"><code>			options.loginButton = util.extend( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">271</td>
	<td class="source"><code>				href: mw.util.getUrl( 'Special:UserLogin', params )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">272</td>
	<td class="source"><code>			}, this.defaults.loginButton );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">273</td>
	<td class="source"><code>			options.signupButton = util.extend( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">274</td>
	<td class="source"><code>				href: mw.util.getUrl( 'Special:UserLogin', util.extend( params, signupParams ) )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">275</td>
	<td class="source"><code>			}, this.defaults.signupButton );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">276</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">277</td>
	<td class="source"><code>			return options;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">278</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">279</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">280</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">281</td>
	<td class="source"><code>		 * Handles click on "Edit without login" in anonymous editing warning.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">282</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">283</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">284</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">285</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">286</td>
	<td class="source"><code>		_showEditorAfterWarning: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">287</td>
	<td class="source"><code>			this.showSpinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">288</td>
	<td class="source"><code>			this.$anonWarning.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">289</td>
	<td class="source"><code>			// reenable "Next" button</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">290</td>
	<td class="source"><code>			this.$anonHiddenButtons.show();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">291</td>
	<td class="source"><code>			this._loadContent();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">292</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">293</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">294</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">295</td>
	<td class="source"><code>		 * Prepares the preview interface and reveals the save screen of the overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">296</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">297</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">298</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">299</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">300</td>
	<td class="source"><code>		onStageChanges: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">301</td>
	<td class="source"><code>			var self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">302</td>
	<td class="source"><code>				params = {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">303</td>
	<td class="source"><code>					text: this.getContent()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">304</td>
	<td class="source"><code>				};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">305</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">306</td>
	<td class="source"><code>			this.scrollTop = util.getDocument().find( 'body' ).scrollTop();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">307</td>
	<td class="source"><code>			this.$content.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">308</td>
	<td class="source"><code>			this.showSpinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">309</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">310</td>
	<td class="source"><code>			if ( mw.config.get( 'wgIsMainPage' ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">311</td>
	<td class="source"><code>				params.mainpage = 1; // Setting it to 0 will have the same effect</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">312</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">313</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">314</td>
	<td class="source"><code>			function hideSpinnerAndShowPreview() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">315</td>
	<td class="source"><code>				self.hideSpinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">316</td>
	<td class="source"><code>				self.$preview.show();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">317</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">318</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">319</td>
	<td class="source"><code>			this.gateway.getPreview( params ).then( function ( result ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">320</td>
	<td class="source"><code>				var parsedText = result.text,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">321</td>
	<td class="source"><code>					parsedSectionLine = result.line;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">322</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">323</td>
	<td class="source"><code>				// On desktop edit summaries strip tags. Mimic this behavior on mobile devices</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">324</td>
	<td class="source"><code>				self.sectionLine = self.parseHTML( '&#60;div&#62;' ).html( parsedSectionLine ).text();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">325</td>
	<td class="source"><code>				new Section( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">326</td>
	<td class="source"><code>					el: self.$preview,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">327</td>
	<td class="source"><code>					text: parsedText</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">328</td>
	<td class="source"><code>				} ).$( 'a' ).on( 'click', false );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">329</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">330</td>
	<td class="source"><code>				hideSpinnerAndShowPreview();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">331</td>
	<td class="source"><code>			}, function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">332</td>
	<td class="source"><code>				self.$preview.addClass( 'error' ).text( mw.msg( 'mobile-frontend-editor-error-preview' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">333</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">334</td>
	<td class="source"><code>				hideSpinnerAndShowPreview();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">335</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">336</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">337</td>
	<td class="source"><code>			EditorOverlayBase.prototype.onStageChanges.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">338</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">339</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">340</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">341</td>
	<td class="source"><code>		 * Hides the preview and reverts back to initial screen.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">342</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">343</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">344</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">345</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">346</td>
	<td class="source"><code>		_hidePreview: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">347</td>
	<td class="source"><code>			this.gateway.abortPreview();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">348</td>
	<td class="source"><code>			this.hideSpinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">349</td>
	<td class="source"><code>			this.$preview.removeClass( 'error' ).hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">350</td>
	<td class="source"><code>			this.$content.show();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">351</td>
	<td class="source"><code>			window.scrollTo( 0, this.scrollTop );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">352</td>
	<td class="source"><code>			this.showHidden( '.initial-header' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">353</td>
	<td class="source"><code>			this.abuseFilterPanel.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">354</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">355</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">356</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">357</td>
	<td class="source"><code>		 * Resize the editor textarea, maintaining scroll position in iOS</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">358</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">359</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">360</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">361</td>
	<td class="source"><code>		_resizeEditor: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">362</td>
	<td class="source"><code>			var scrollTop, container, $scrollContainer;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">363</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">364</td>
	<td class="source"><code>			if ( !this.$scrollContainer ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">365</td>
	<td class="source"><code>				container = OO.ui.Element.static</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">366</td>
	<td class="source"><code>					.getClosestScrollableContainer( this.$content[ 0 ] );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">367</td>
	<td class="source"><code>				// The scroll container will be either within the view</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">368</td>
	<td class="source"><code>				// or the document element itself.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">369</td>
	<td class="source"><code>				$scrollContainer = this.$( container ).length ?</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">370</td>
	<td class="source"><code>					this.$( container ) : util.getDocument();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">371</td>
	<td class="source"><code>				this.$scrollContainer = $scrollContainer;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">372</td>
	<td class="source"><code>				this.$content.css( 'padding-bottom', this.$scrollContainer.height() * 0.6 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">373</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">374</td>
	<td class="source"><code>				$scrollContainer = this.$scrollContainer;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">375</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">376</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">377</td>
	<td class="source"><code>			// Only do this if scroll container exists</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">378</td>
	<td class="source"><code>			if ( this.$content.prop( 'scrollHeight' ) && $scrollContainer.length ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">379</td>
	<td class="source"><code>				scrollTop = $scrollContainer.scrollTop();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">380</td>
	<td class="source"><code>				this.$content</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">381</td>
	<td class="source"><code>					.css( 'height', 'auto' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">382</td>
	<td class="source"><code>					// can't reuse prop( 'scrollHeight' ) because we need the current value</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">383</td>
	<td class="source"><code>					.css( 'height', ( this.$content.prop( 'scrollHeight' ) + 2 ) + 'px' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">384</td>
	<td class="source"><code>				$scrollContainer.scrollTop( scrollTop );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">385</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">386</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">387</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">388</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">389</td>
	<td class="source"><code>		 * Set content to the user input field.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">390</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">391</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">392</td>
	<td class="source"><code>		 * @param {string} content The content to set.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">393</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">394</td>
	<td class="source"><code>		setContent: function ( content ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">395</td>
	<td class="source"><code>			this.$content</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">396</td>
	<td class="source"><code>				.show()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">397</td>
	<td class="source"><code>				.val( content );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">398</td>
	<td class="source"><code>			this._resizeEditor();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">399</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">400</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">401</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">402</td>
	<td class="source"><code>		 * Returns the content of the user input field.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">403</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">404</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">405</td>
	<td class="source"><code>		 * @return {string}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">406</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">407</td>
	<td class="source"><code>		getContent: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">408</td>
	<td class="source"><code>			return this.$content.val();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">409</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">410</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">411</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">412</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">413</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">414</td>
	<td class="source"><code>		 * @param {string} data</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">415</td>
	<td class="source"><code>		 * @return {string|false}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">416</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">417</td>
	<td class="source"><code>		_parseBlockInfo: function ( data ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">418</td>
	<td class="source"><code>			var blockInfo, expiry, reason,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">419</td>
	<td class="source"><code>				moment = window.moment;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">420</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">421</td>
	<td class="source"><code>			// Workaround to parse a message parameter for mw.message, see T96885</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">422</td>
	<td class="source"><code>			function jqueryMsgParse( wikitext ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">423</td>
	<td class="source"><code>				var parser, ast;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">424</td>
	<td class="source"><code>				// eslint-disable-next-line new-cap</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">425</td>
	<td class="source"><code>				parser = new mw.jqueryMsg.parser();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">426</td>
	<td class="source"><code>				try {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">427</td>
	<td class="source"><code>					ast = parser.wikiTextToAst( wikitext );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">428</td>
	<td class="source"><code>					return parser.emitter.emit( ast ).html();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">429</td>
	<td class="source"><code>				} catch ( e ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">430</td>
	<td class="source"><code>					// Ignore error as it's probably the parser error. Usually this is because we</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">431</td>
	<td class="source"><code>					// can't parse templates.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">432</td>
	<td class="source"><code>					return false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">433</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">434</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">435</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">436</td>
	<td class="source"><code>			blockInfo = {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">437</td>
	<td class="source"><code>				creator: {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">438</td>
	<td class="source"><code>					name: data.block.by,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">439</td>
	<td class="source"><code>					// NS_USER === 2</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">440</td>
	<td class="source"><code>					url: mw.util.getUrl(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">441</td>
	<td class="source"><code>						mw.config.get( 'wgFormattedNamespaces' )[2] + ':' +</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">442</td>
	<td class="source"><code>						data.block.by</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">443</td>
	<td class="source"><code>					),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">444</td>
	<td class="source"><code>					gender: data.blockedByUser.gender</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">445</td>
	<td class="source"><code>				},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">446</td>
	<td class="source"><code>				expiry: null,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">447</td>
	<td class="source"><code>				duration: null,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">448</td>
	<td class="source"><code>				reason: ''</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">449</td>
	<td class="source"><code>			};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">450</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">451</td>
	<td class="source"><code>			expiry = data.block.expiry;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">452</td>
	<td class="source"><code>			if ( expiry !== 'infinity' ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">453</td>
	<td class="source"><code>				blockInfo.expiry = moment( expiry ).format( 'LLL' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">454</td>
	<td class="source"><code>				blockInfo.duration = moment().to( expiry, true );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">455</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">456</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">457</td>
	<td class="source"><code>			reason = data.block.reason;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">458</td>
	<td class="source"><code>			if ( reason ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">459</td>
	<td class="source"><code>				blockInfo.reason = jqueryMsgParse( reason ) || mw.html.escape( reason );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">460</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">461</td>
	<td class="source"><code>				blockInfo.reason = mw.message( 'mobile-frontend-editor-generic-block-reason' ).escaped();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">462</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">463</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">464</td>
	<td class="source"><code>			return blockInfo;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">465</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">466</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">467</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">468</td>
	<td class="source"><code>		 * Requests content from the API and reveals it in UI.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">469</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">470</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">471</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">472</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">473</td>
	<td class="source"><code>		_loadContent: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">474</td>
	<td class="source"><code>			var self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">475</td>
	<td class="source"><code>				$el = this.$el;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">476</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">477</td>
	<td class="source"><code>			this.$content.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">478</td>
	<td class="source"><code>			this.showSpinner();</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 479, Column 4: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">479</td>
	<td class="source"><code>			$el.addClass( 'overlay-loading' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">480</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">481</td>
	<td class="source"><code>			this.gateway.getContent()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">482</td>
	<td class="source"><code>				.then( function ( result ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">483</td>
	<td class="source"><code>					var block, message,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">484</td>
	<td class="source"><code>						content = result.text,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">485</td>
	<td class="source"><code>						userTalkPage = mw.config.get( 'wgNamespaceNumber' ) === 3;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">486</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">487</td>
	<td class="source"><code>					self.setContent( content );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">488</td>
	<td class="source"><code>					// check if user is blocked</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">489</td>
	<td class="source"><code>					if ( result.block && !( userTalkPage && result.block.allowusertalk ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">490</td>
	<td class="source"><code>						// Lazy-load moment only if it's needed,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">491</td>
	<td class="source"><code>						// it's somewhat large (it is already used on</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">492</td>
	<td class="source"><code>						// mobile by Echo's notifications panel, where it's also lazy-loaded)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">493</td>
	<td class="source"><code>						mw.loader.using( 'moment' ).then( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">494</td>
	<td class="source"><code>							block = self._parseBlockInfo( result );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">495</td>
	<td class="source"><code>							message = new BlockMessage( block );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">496</td>
	<td class="source"><code>							message.toggle();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">497</td>
	<td class="source"><code>							self.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">498</td>
	<td class="source"><code>							self.hideSpinner();</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 499, Column 8: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">499</td>
	<td class="source"><code>							$el.removeClass( 'overlay-loading' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">500</td>
	<td class="source"><code>						} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">501</td>
	<td class="source"><code>					} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">502</td>
	<td class="source"><code>						self.hideSpinner();</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 503, Column 7: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">503</td>
	<td class="source"><code>						$el.removeClass( 'overlay-loading' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">504</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">505</td>
	<td class="source"><code>				}, function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">506</td>
	<td class="source"><code>					self.reportError( mw.msg( 'mobile-frontend-editor-error-loading' ) );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 507, Column 6: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">507</td>
	<td class="source"><code>					$el.removeClass( 'overlay-loading' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">508</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">509</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">510</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">511</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">512</td>
	<td class="source"><code>		 * Loads a {VisualEditorOverlay} and replaces the existing EditorOverlay with it</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">513</td>
	<td class="source"><code>		 * based on the current option values.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">514</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">515</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">516</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">517</td>
	<td class="source"><code>		 * @param {Object} options Object passed to the constructor</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">518</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">519</td>
	<td class="source"><code>		_switchToVisualEditor: function ( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">520</td>
	<td class="source"><code>			var self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">521</td>
	<td class="source"><code>			this.log( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">522</td>
	<td class="source"><code>				action: 'abort',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">523</td>
	<td class="source"><code>				type: 'switchnochange',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">524</td>
	<td class="source"><code>				mechanism: 'navigate'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">525</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">526</td>
	<td class="source"><code>			// Save a user setting indicating that this user prefers using the VisualEditor</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">527</td>
	<td class="source"><code>			mw.storage.set( 'preferredEditor', 'VisualEditor' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">528</td>
	<td class="source"><code>			// Load the VisualEditor and replace the SourceEditor overlay with it</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">529</td>
	<td class="source"><code>			this.showSpinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">530</td>
	<td class="source"><code>			this.$content.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">531</td>
	<td class="source"><code>			mw.loader.using(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">532</td>
	<td class="source"><code>				'mobile.editor.ve',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">533</td>
	<td class="source"><code>				function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">534</td>
	<td class="source"><code>					var VisualEditorOverlay = M.require( 'mobile.editor.ve/VisualEditorOverlay' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">535</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">536</td>
	<td class="source"><code>					self.hideSpinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">537</td>
	<td class="source"><code>					self.overlayManager.replaceCurrent( new VisualEditorOverlay( options ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">538</td>
	<td class="source"><code>				},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">539</td>
	<td class="source"><code>				function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">540</td>
	<td class="source"><code>					self.hideSpinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">541</td>
	<td class="source"><code>					self.$content.show();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">542</td>
	<td class="source"><code>					// FIXME: We should show an error notification, but right now toast</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">543</td>
	<td class="source"><code>					// notifications are not dismissible when shown within the editor.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">544</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">545</td>
	<td class="source"><code>			);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">546</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">547</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">548</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">549</td>
	<td class="source"><code>		 * Reveals an abuse filter panel inside the view.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">550</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">551</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">552</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">553</td>
	<td class="source"><code>		 * @param {string} type The type of alert, e.g. 'warning' or 'disallow'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">554</td>
	<td class="source"><code>		 * @param {string} message Message to show in the AbuseFilter overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">555</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">556</td>
	<td class="source"><code>		_showAbuseFilter: function ( type, message ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">557</td>
	<td class="source"><code>			this.abuseFilterPanel.show( type, message );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">558</td>
	<td class="source"><code>			this.showHidden( '.save-header' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">559</td>
	<td class="source"><code>			// disable continue and save buttons, reenabled when user changes content</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">560</td>
	<td class="source"><code>			this.$( '.continue, .submit' ).prop( 'disabled', this.abuseFilterPanel.isDisallowed );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">561</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">562</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">563</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">564</td>
	<td class="source"><code>		 * Executed when the editor clicks the save button. Handles logging and submitting</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">565</td>
	<td class="source"><code>		 * the save action to the editor API.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">566</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">567</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">568</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">569</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">570</td>
	<td class="source"><code>		onSaveBegin: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">571</td>
	<td class="source"><code>			var self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">572</td>
	<td class="source"><code>				options = {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">573</td>
	<td class="source"><code>					summary: this.$( '.summary' ).val()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">574</td>
	<td class="source"><code>				};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">575</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">576</td>
	<td class="source"><code>			if ( self.sectionLine !== '' ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">577</td>
	<td class="source"><code>				options.summary = '/* ' + self.sectionLine + ' */' + options.summary;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">578</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">579</td>
	<td class="source"><code>			EditorOverlayBase.prototype.onSaveBegin.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">580</td>
	<td class="source"><code>			if ( this.confirmAborted ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">581</td>
	<td class="source"><code>				return;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">582</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">583</td>
	<td class="source"><code>			if ( this.captchaId ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">584</td>
	<td class="source"><code>				options.captchaId = this.captchaId;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">585</td>
	<td class="source"><code>				options.captchaWord = this.$( '.captcha-word' ).val();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">586</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">587</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">588</td>
	<td class="source"><code>			this.showHidden( '.saving-header' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">589</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">590</td>
	<td class="source"><code>			this.gateway.save( options )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">591</td>
	<td class="source"><code>				.then( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">592</td>
	<td class="source"><code>					var title = self.options.title;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">593</td>
	<td class="source"><code>					// Special case behaviour of main page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">594</td>
	<td class="source"><code>					if ( mw.config.get( 'wgIsMainPage' ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">595</td>
	<td class="source"><code>						// FIXME: Blocked on T189173</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">596</td>
	<td class="source"><code>						// eslint-disable-next-line no-restricted-properties</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">597</td>
	<td class="source"><code>						window.location = mw.util.getUrl( title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">598</td>
	<td class="source"><code>						return;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">599</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">600</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">601</td>
	<td class="source"><code>					self.onSaveComplete();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">602</td>
	<td class="source"><code>				}, function ( data, code, response ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">603</td>
	<td class="source"><code>					var msg,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">604</td>
	<td class="source"><code>						msgHeading,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">605</td>
	<td class="source"><code>						// When save failed with one of these error codes, the returned</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">606</td>
	<td class="source"><code>						// message in response.error.info will be forwarded to the user.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">607</td>
	<td class="source"><code>						// FIXME: This shouldn't be needed when info texts are all localized.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">608</td>
	<td class="source"><code>						whitelistedErrorInfo = [</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">609</td>
	<td class="source"><code>							'blocked',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">610</td>
	<td class="source"><code>							'autoblocked'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">611</td>
	<td class="source"><code>						],</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">612</td>
	<td class="source"><code>						key = response && response.error && response.error.code,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">613</td>
	<td class="source"><code>						typeMap = {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">614</td>
	<td class="source"><code>							editconflict: 'editConflict',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">615</td>
	<td class="source"><code>							wasdeleted: 'editPageDeleted',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">616</td>
	<td class="source"><code>							'abusefilter-disallowed': 'extensionAbuseFilter',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">617</td>
	<td class="source"><code>							captcha: 'extensionCaptcha',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">618</td>
	<td class="source"><code>							spamprotectiontext: 'extensionSpamBlacklist',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">619</td>
	<td class="source"><code>							'titleblacklist-forbidden-edit': 'extensionTitleBlacklist'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">620</td>
	<td class="source"><code>						};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">621</td>
	<td class="source"><code>					if ( data.type === 'captcha' ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">622</td>
	<td class="source"><code>						self.captchaId = data.details.id;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">623</td>
	<td class="source"><code>						self.handleCaptcha( data.details );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">624</td>
	<td class="source"><code>						key = 'captcha';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">625</td>
	<td class="source"><code>					} else if ( data.type === 'abusefilter' ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">626</td>
	<td class="source"><code>						self._showAbuseFilter( data.details.type, data.details.message );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">627</td>
	<td class="source"><code>					} else if ( data.type === 'readonly' ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">628</td>
	<td class="source"><code>						msgHeading = mw.msg( 'apierror-readonly' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">629</td>
	<td class="source"><code>						msg = data.details.readonlyreason;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">630</td>
	<td class="source"><code>					} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">631</td>
	<td class="source"><code>						if ( key === 'editconflict' ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">632</td>
	<td class="source"><code>							msg = mw.msg( 'mobile-frontend-editor-error-conflict' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">633</td>
	<td class="source"><code>						} else if ( whitelistedErrorInfo.indexOf( key ) &#62; -1 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">634</td>
	<td class="source"><code>							msg = response.error.info;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">635</td>
	<td class="source"><code>						} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">636</td>
	<td class="source"><code>							msg = mw.msg( 'mobile-frontend-editor-error' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">637</td>
	<td class="source"><code>						}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">638</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">639</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">640</td>
	<td class="source"><code>					if ( msg || msgHeading ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">641</td>
	<td class="source"><code>						self.reportError( msg, msgHeading );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">642</td>
	<td class="source"><code>						self.showHidden( '.save-header, .save-panel' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">643</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">644</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">645</td>
	<td class="source"><code>					self.log( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">646</td>
	<td class="source"><code>						action: 'saveFailure',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">647</td>
	<td class="source"><code>						message: msg,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">648</td>
	<td class="source"><code>						type: typeMap[key] || 'responseUnknown'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">649</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">650</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">651</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">652</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">653</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">654</td>
	<td class="source"><code>		 * Checks whether the existing content has changed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">655</td>
	<td class="source"><code>		 * @memberof EditorOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">656</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">657</td>
	<td class="source"><code>		 * @return {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">658</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">659</td>
	<td class="source"><code>		hasChanged: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">660</td>
	<td class="source"><code>			return this.gateway.hasChanged;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">661</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">662</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">663</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">664</td>
	<td class="source"><code>	M.define( 'mobile.editor.overlay/EditorOverlay', EditorOverlay );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">665</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">666</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileEditorVeVeInitMwMobileFrontendArticleTargetJs" class="lint-result bg-success hidden" data-group="f-12" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.editor.ve/ve.init.mw.MobileFrontendArticleTarget.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileEditorVeVisualEditorOverlayJs" class="lint-result bg-success hidden" data-group="f-13" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.editor.ve/VisualEditorOverlay.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileForeignApiJsonpForeignApiJs" class="lint-result bg-success hidden" data-group="f-14" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.foreignApi/JSONPForeignApi.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileGalleryPhotoItemJs" class="lint-result bg-success hidden" data-group="f-15" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.gallery/PhotoItem.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileGalleryPhotoListJs" class="lint-result bg-success hidden" data-group="f-16" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.gallery/PhotoList.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileGalleryPhotoListGatewayJs" class="lint-result bg-success hidden" data-group="f-17" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.gallery/PhotoListGateway.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileInitBetaOptinPanelJs" class="lint-result bg-success hidden" data-group="f-18" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.init/BetaOptinPanel.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileInitInitJs" class="lint-result bg-error " data-group="f-19" data-problem-count="6" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.init/init.js
    </th>
    <th class="result-summary">
      6 problems (6 errors, 0 warnings)
    </th>
</tr>
<tr class="f-19 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-19"
								data-content="detailSummary-19"
								aria-controls="detailSummary-19"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-19"
								data-content="sourceCode-19"
								aria-controls="sourceCode-19"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-19">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 70, Column 21: "Prefer Function#bind to $.proxy"
		<a href="http://eslint.org/docs/rules/jquery/no-proxy" target="_blank">jquery/no-proxy</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 71, Column 21: "Prefer Function#bind to $.proxy"
		<a href="http://eslint.org/docs/rules/jquery/no-proxy" target="_blank">jquery/no-proxy</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 74, Column 21: "Prefer Function#bind to $.proxy"
		<a href="http://eslint.org/docs/rules/jquery/no-proxy" target="_blank">jquery/no-proxy</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 75, Column 21: "Prefer Function#bind to $.proxy"
		<a href="http://eslint.org/docs/rules/jquery/no-proxy" target="_blank">jquery/no-proxy</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 111, Column 15: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 169, Column 3: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-19">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>/* global jQuery */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>// FIXME: make this an object with a constructor to facilitate testing</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>// (see https://bugzilla.wikimedia.org/show_bug.cgi?id=44264)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code> * mobileFrontend namespace</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code> * @class mw.mobileFrontend</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code> * @singleton</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code> */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>( function ( M, $, storage ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	var currentPage, skin,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>		PageGateway = M.require( 'mobile.startup/PageGateway' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>		BetaOptinPanel = M.require( 'mobile.init/BetaOptinPanel' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>		gateway = new PageGateway( new mw.Api() ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>		util = mw.util,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>		mfUtil = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>		$window = mfUtil.getWindow(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>		$html = mfUtil.getDocument(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>		user = mw.user,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>		context = M.require( 'mobile.startup/context' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>		Page = M.require( 'mobile.startup/Page' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>		experiments = mw.experiments,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>		activeExperiments = mw.config.get( 'wgMFExperiments' ) || {},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>		Skin = M.require( 'mobile.startup/Skin' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>		ReferencesMobileViewGateway = M.require(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>			'mobile.references.gateway/ReferencesMobileViewGateway'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>		),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>		skinData = {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>			el: 'body',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>			page: getCurrentPage(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>			referencesGateway: ReferencesMobileViewGateway.getSingleton()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>		};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>	skin = new Skin( skinData );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>	M.define( 'mobile.init/skin', skin ); // resource-modules-disable-line</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>	 * Given 2 functions, it returns a function that will run both with it's</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>	 * context and parameters and return the results combined</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>	 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>	 * @param {Function} fn1</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>	 * @param {Function} fn2</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>	 * @return {Function} which returns the results of [fn1, fn2]</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>	function apply2( fn1, fn2 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>		return function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>			return [</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>				fn1.apply( this, arguments ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>				fn2.apply( this, arguments )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>			];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>		};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>	 * The `window`'s resize event debounced at 100 ms.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>	 * The `resize:throttled` event is the `window`'s</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>	 * resize event throttled to 200 ms.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>	 * @event resize</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>	 * The `window`'s scroll event debounced at 100 ms.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>	 * The `scroll:throttled` event is the `window`'s</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>	 * scroll event throttled to 200 ms.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>	 * @event scroll</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>	$window</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		.on( 'resize', apply2(</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 70, Column 21: "Prefer Function#bind to $.proxy"
		<a href="http://eslint.org/docs/rules/jquery/no-proxy" target="_blank">jquery/no-proxy</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">70</td>
	<td class="source"><code>			$.debounce( 100, $.proxy( M, 'emit', 'resize' ) ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 71, Column 21: "Prefer Function#bind to $.proxy"
		<a href="http://eslint.org/docs/rules/jquery/no-proxy" target="_blank">jquery/no-proxy</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">71</td>
	<td class="source"><code>			$.throttle( 200, $.proxy( M, 'emit', 'resize:throttled' ) )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>		) )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>		.on( 'scroll', apply2(</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 74, Column 21: "Prefer Function#bind to $.proxy"
		<a href="http://eslint.org/docs/rules/jquery/no-proxy" target="_blank">jquery/no-proxy</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">74</td>
	<td class="source"><code>			$.debounce( 100, $.proxy( M, 'emit', 'scroll' ) ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 75, Column 21: "Prefer Function#bind to $.proxy"
		<a href="http://eslint.org/docs/rules/jquery/no-proxy" target="_blank">jquery/no-proxy</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">75</td>
	<td class="source"><code>			$.throttle( 200, $.proxy( M, 'emit', 'scroll:throttled' ) )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>		) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>	 * Get current page view object</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>	 * FIXME: Move to M.define( 'page' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>	 * @return {Page}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>	function getCurrentPage() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>		if ( currentPage ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>			return currentPage;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>		} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>			return loadCurrentPage();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>	 * Constructs an incomplete Page object representing the currently loaded page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>	 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>	 * @return {Page}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>	function loadCurrentPage() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>		var permissions = mw.config.get( 'wgRestrictionEdit', [] ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>			$content = $( '#content #bodyContent' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>		if ( permissions.length === 0 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>			permissions.push( '*' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>		currentPage = new Page( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>			el: $content,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>			title: mw.config.get( 'wgPageName' ).replace( /_/g, ' ' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>			protection: {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>				edit: permissions</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>			},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>			revId: mw.config.get( 'wgRevisionId' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>			isMainPage: mw.config.get( 'wgIsMainPage' ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 111, Column 15: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">111</td>
	<td class="source"><code>			isWatched: $( '#ca-watch' ).hasClass( 'watched' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>			sections: gateway.getSectionsFromHTML( $content ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>			isMissing: mw.config.get( 'wgArticleId' ) === 0,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>			id: mw.config.get( 'wgArticleId' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>			namespaceNumber: mw.config.get( 'wgNamespaceNumber' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>		return currentPage;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>	 * Displays a prompt to ask the user to join the mobile beta mode.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>	 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>	 * @param {Object} experiment sampling data</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>	 * @param {Page} page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>	function displayBetaOptIn( experiment, page ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>		var betaOptinPanel, inStable, inSample,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>			token = storage.get( 'mobile-betaoptin-token' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>		// local storage is supported in this case, when ~ means it was dismissed</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>		if ( token !== false && token !== '~' &&</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>			!page.isMainPage() && !page.inNamespace( 'special' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code>		) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>			if ( !token ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>				token = user.generateRandomSessionId();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>				storage.set( 'mobile-betaoptin-token', token );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>			inStable = context.getMode() === 'stable';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>			inSample = experiments.getBucket( experiment, token ) === 'A';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>			if ( inStable && ( inSample || util.getParamValue( 'debug' ) ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>				betaOptinPanel = new BetaOptinPanel( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>					postUrl: util.getUrl( 'Special:MobileOptions', {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>						returnto: page.title</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>					} )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>				betaOptinPanel</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>					.on( 'hide', function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>						storage.set( 'mobile-betaoptin-token', '~' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>					} ).appendTo( page.getLeadSectionElement() );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>			// let the interested parties e.g. QuickSurveys know whether the panel is shown</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>			mw.track( 'mobile.betaoptin', {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>				isPanelShown: betaOptinPanel !== undefined</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code>	 * Updates the font size based on the current value in storage</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>	function updateFontSize() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>		// FIXME: Ideally 'regular' would come from a shared constant</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code>		// (currently not possible without using webpack)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">168</td>
	<td class="source"><code>		var userFontSize = storage.get( 'userFontSize', 'regular' );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 169, Column 3: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">169</td>
	<td class="source"><code>		$html.addClass( 'mf-font-size-' + userFontSize );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>	// Font must be updated on back button press as users may click</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">173</td>
	<td class="source"><code>	// back after changing font.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code>	$window.on( 'pageshow', function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code>		updateFontSize();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">176</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">177</td>
	<td class="source"><code>	updateFontSize();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">178</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">179</td>
	<td class="source"><code>	if ( activeExperiments.betaoptin ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">180</td>
	<td class="source"><code>		displayBetaOptIn( activeExperiments.betaoptin, getCurrentPage() );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">181</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">182</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">183</td>
	<td class="source"><code>	// Recruit volunteers through the console</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">184</td>
	<td class="source"><code>	// (note console.log may not be a function so check via apply)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">185</td>
	<td class="source"><code>	/* eslint-disable no-console */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">186</td>
	<td class="source"><code>	if ( window.console && window.console.log && window.console.log.apply &&</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">187</td>
	<td class="source"><code>			mw.config.get( 'wgMFEnableJSConsoleRecruitment' ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">188</td>
	<td class="source"><code>		console.log( mw.msg( 'mobile-frontend-console-recruit' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">189</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">190</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">191</td>
	<td class="source"><code>	mfUtil.extend( M, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">192</td>
	<td class="source"><code>		getCurrentPage: getCurrentPage</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">193</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">194</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">195</td>
	<td class="source"><code>	/* eslint-enable no-console */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">196</td>
	<td class="source"><code>}( mw.mobileFrontend, jQuery, mw.storage ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">197</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileLanguagesStructuredLanguageOverlayJs" class="lint-result bg-error " data-group="f-20" data-problem-count="2" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.languages.structured/LanguageOverlay.js
    </th>
    <th class="result-summary">
      2 problems (2 errors, 0 warnings)
    </th>
</tr>
<tr class="f-20 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-20"
								data-content="detailSummary-20"
								aria-controls="detailSummary-20"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-20"
								data-content="sourceCode-20"
								aria-controls="sourceCode-20"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-20">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 96, Column 12: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 103, Column 4: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-20">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	var Overlay = M.require( 'mobile.startup/Overlay' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		langUtil = M.require( 'mobile.languages.structured/util' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>	 * Overlay displaying a structured list of languages for a page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>	 * @class LanguageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	 * @extends Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 * @param {Object} options Configuration options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 * @param {Object[]} options.languages list of language objects as returned by the API</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 * @param {Array|boolean} options.variants language variant objects</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	 *  or false if no variants exist</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	 * @param {string} [options.deviceLanguage] the device's primary language</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>	function LanguageOverlay( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>		var languages;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>		languages = langUtil.getStructuredLanguages(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>			options.languages,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>			options.variants,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>			langUtil.getFrequentlyUsedLanguages(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>			options.deviceLanguage</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>		);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>		options.allLanguages = languages.all;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>		options.allLanguagesCount = languages.all.length;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>		options.suggestedLanguages = languages.suggested;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>		options.suggestedLanguagesCount = languages.suggested.length;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		Overlay.call( this, options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>	OO.mfExtend( LanguageOverlay, Overlay, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		 * @memberof LanguageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>		className: Overlay.prototype.className + ' language-overlay',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>		 * @memberof LanguageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>		 * @mixes Overlay#defaults</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>		 * @property {Object} defaults Default options hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>		 * @property {Object[]} defaults.languages each object has keys as</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>		 *  returned by the langlink API https://www.mediawiki.org/wiki/API:Langlinks</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>		defaults: util.extend( {}, Overlay.prototype.defaults, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>			heading: mw.msg( 'mobile-frontend-language-heading' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>			inputPlaceholder: mw.msg( 'mobile-frontend-languages-structured-overlay-search-input-placeholder' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>			// we can't rely on CSS only to uppercase the headings. See https://stackoverflow.com/questions/3777443/css-text-transform-not-working-properly-for-turkish-characters</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>			allLanguagesHeader: mw.msg( 'mobile-frontend-languages-structured-overlay-all-languages-header' ).toLocaleUpperCase(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>			suggestedLanguagesHeader: mw.msg( 'mobile-frontend-languages-structured-overlay-suggested-languages-header' ).toLocaleUpperCase()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>		 * @memberof LanguageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>		templatePartials: util.extend( {}, Overlay.prototype.templatePartials, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>			content: mw.template.get( 'mobile.languages.structured', 'LanguageOverlay.hogan' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>		 * @memberof LanguageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>		events: util.extend( {}, Overlay.prototype.events, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>			'click a': 'onLinkClick',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>			'input .search': 'onSearchInput'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>		 * @memberof LanguageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>		postRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>			Overlay.prototype.postRender.apply( this );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>			// cache</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>			this.$siteLinksList = this.$( '.site-link-list' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>			this.$languageItems = this.$siteLinksList.find( 'a' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>			this.$subheaders = this.$( 'h3' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>		 * Article link click event handler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>		 * @memberof LanguageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>		 * @param {jQuery.Event} ev</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>		onLinkClick: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>			var $link = this.$( ev.currentTarget ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 96, Column 12: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">96</td>
	<td class="source"><code>				lang = $link.attr( 'lang' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>				self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>				$visibleLanguageLinks = this.$languageItems.filter( ':visible' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>			langUtil.saveLanguageUsageCount( lang, langUtil.getFrequentlyUsedLanguages() );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>			// find the index of the clicked language in the list of visible results</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 103, Column 4: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">103</td>
	<td class="source"><code>			$visibleLanguageLinks.each( function ( i, link ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>				if ( self.$( link ).hasClass( lang ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>					return false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>		 * Search input handler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>		 * @memberof LanguageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>		 * @param {jQuery.Event} ev Event object.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>		onSearchInput: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>			this.filterLanguages( this.$( ev.target ).val().toLowerCase() );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>		 * Filter the language list to only show languages that match the current search term.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>		 * @memberof LanguageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>		 * @param {string} val of search term (lowercase).</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>		filterLanguages: function ( val ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>			var filteredList = [];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>			if ( val ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>				this.options.languages.forEach( function ( language ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>					var langname = language.langname;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>					// search by language code or language name</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>					if ( language.autonym.toLowerCase().indexOf( val ) &#62; -1 ||</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>							( langname && langname.toLowerCase().indexOf( val ) &#62; -1 ) ||</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>							language.lang.toLowerCase().indexOf( val ) &#62; -1</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code>					) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>						filteredList.push( language.lang );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>				if ( this.options.variants ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>					this.options.variants.forEach( function ( variant ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>						// search by variant code or variant name</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>						if ( variant.autonym.toLowerCase().indexOf( val ) &#62; -1 ||</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>							variant.lang.toLowerCase().indexOf( val ) &#62; -1</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>						) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>							filteredList.push( variant.lang );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>						}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>				this.$languageItems.addClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>				if ( filteredList.length ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>					this.$siteLinksList.find( '.' + filteredList.join( ',.' ) ).removeClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>				this.$siteLinksList.addClass( 'filtered' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>				this.$subheaders.addClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>				this.$languageItems.removeClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>				this.$siteLinksList.removeClass( 'filtered' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>				this.$subheaders.removeClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>	M.define( 'mobile.languages.structured/LanguageOverlay', LanguageOverlay ); // resource-modules-disable-line</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileLanguagesStructuredUtilJs" class="lint-result bg-success hidden" data-group="f-21" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.languages.structured/util.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileLoggingSchemasSchemaMobileWebMainMenuClickTrackingJs" class="lint-result bg-success hidden" data-group="f-22" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.loggingSchemas/schemaMobileWebMainMenuClickTracking.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileLoggingSchemasSchemaMobileWebSearchJs" class="lint-result bg-success hidden" data-group="f-23" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.loggingSchemas/schemaMobileWebSearch.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileMediaViewerImageGatewayJs" class="lint-result bg-success hidden" data-group="f-24" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.mediaViewer/ImageGateway.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileMediaViewerImageOverlayJs" class="lint-result bg-error " data-group="f-25" data-problem-count="5" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.mediaViewer/ImageOverlay.js
    </th>
    <th class="result-summary">
      5 problems (5 errors, 0 warnings)
    </th>
</tr>
<tr class="f-25 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-25"
								data-content="detailSummary-25"
								aria-controls="detailSummary-25"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-25"
								data-content="sourceCode-25"
								aria-controls="sourceCode-25"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-25">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 216, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 261, Column 5: "Prefer setAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 261, Column 5: "Prefer setAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 346, Column 6: "Prefer getComputedStyle to $.css"
		<a href="http://eslint.org/docs/rules/jquery/no-css" target="_blank">jquery/no-css</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 353, Column 6: "Prefer getComputedStyle to $.css"
		<a href="http://eslint.org/docs/rules/jquery/no-css" target="_blank">jquery/no-css</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-25">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>	var Overlay = M.require( 'mobile.startup/Overlay' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		Icon = M.require( 'mobile.startup/Icon' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		Button = M.require( 'mobile.startup/Button' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		LoadErrorMessage = M.require( 'mobile.mediaViewer/LoadErrorMessage' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		ImageGateway = M.require( 'mobile.mediaViewer/ImageGateway' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		router = require( 'mediawiki.router' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	 * Displays images in full screen overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * @class ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 * @extends Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 * @uses Icon</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 * @uses ImageGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	 * @uses LoadErrorMessage</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	 * @uses Router</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>	 * @fires ImageOverlay#ImageOverlay-exit</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>	 * @fires ImageOverlay#ImageOverlay-slide</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>	 * @param {Object} options Configuration options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>	function ImageOverlay( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>		this.gateway = options.gateway || new ImageGateway( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>			api: options.api</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>		this.router = options.router || router;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>		Overlay.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>	OO.mfExtend( ImageOverlay, Overlay, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		 * allow pinch zooming</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		hasFixedHeader: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>		hideOnExitClick: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>		className: 'overlay media-viewer',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>		template: mw.template.get( 'mobile.mediaViewer', 'Overlay.hogan' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>		 * @mixes Overlay#defaults</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>		 * @property {Object} defaults Default options hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>		 * @property {mw.Api} defaults.api instance of API to use</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>		 * @property {string} defaults.cancelButton HTML of the cancel button.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>		 * @property {Object} defaults.detailsButton options for details button</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>		 * @property {string} defaults.licenseLinkMsg Link to license information in media viewer.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>		 * @property {Thumbnail[]} defaults.thumbnails a list of thumbnails to browse</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>		defaults: util.extend( {}, Overlay.prototype.defaults, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>			cancelButton: new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>				tagName: 'button',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>				// Uses a dark theme so swap out the icon</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>				name: 'overlay-close-gray',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>				additionalClassNames: 'cancel',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-overlay-close' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>			} ).toHtmlString(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>			detailsButton: new Button( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-media-details' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>				additionalClassNames: 'button',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>				progressive: true</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>			} ).options,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>			licenseLinkMsg: mw.msg( 'mobile-frontend-media-license-link' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>			thumbnails: [],</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>			slideLeftButton: new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>				rotation: 90,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>				name: 'arrow-invert'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>			} ).toHtmlString(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>			slideRightButton: new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>				rotation: -90,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>				name: 'arrow-invert'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>			} ).toHtmlString()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>		events: util.extend( {}, Overlay.prototype.events, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>			'click .image-wrapper': 'onToggleDetails',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>			// Click tracking for table of contents so we can see if people interact with it</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>			'click .slider-button': 'onSlide'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>		 * Event handler for slide event</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>		 * @param {jQuery.Event} ev</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>		onSlide: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>			var nextThumbnail = this.$( ev.target ).closest( '.slider-button' ).data( 'thumbnail' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>			this.emit( ImageOverlay.EVENT_SLIDE, nextThumbnail );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>		preRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>			var self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>			this.options.thumbnails.forEach( function ( thumbnail, i ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>				if ( thumbnail.getFileName() === self.options.title ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>					self.options.caption = thumbnail.getDescription();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>					self.galleryOffset = i;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>		 * Setup the next and previous images to enable the user to arrow through</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>		 * all images in the set of images given in thumbs.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>		 * @param {Array} thumbs A set of images, which are available</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>		_enableArrowImages: function ( thumbs ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>			var offset = this.galleryOffset,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>				lastThumb, nextThumb;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>			if ( this.galleryOffset === undefined ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>				// couldn't find a suitable matching thumbnail so make</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>				// next slide start at beginning and previous slide be end</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>				lastThumb = thumbs[thumbs.length - 1];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>				nextThumb = thumbs[0];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>				// identify last thumbnail</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>				lastThumb = thumbs[ offset === 0 ? thumbs.length - 1 : offset - 1 ];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>				nextThumb = thumbs[ offset === thumbs.length - 1 ? 0 : offset + 1 ];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>			this.$( '.prev' ).data( 'thumbnail', lastThumb );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>			this.$( '.next' ).data( 'thumbnail', nextThumb );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>		 * Disables the possibility to arrow through all images of the page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>		_disableArrowImages: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>			this.$( '.prev, .next' ).remove();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>		 * Handler for retry event which triggers when user tries to reload overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code>		 * after a loading error.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>		_handleRetry: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code>			// A hacky way to simulate a reload of the overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">168</td>
	<td class="source"><code>			this.router.emit( 'hashchange' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">169</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">173</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">176</td>
	<td class="source"><code>		postRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">177</td>
	<td class="source"><code>			var $img,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">178</td>
	<td class="source"><code>				thumbs = this.options.thumbnails || [],</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">179</td>
	<td class="source"><code>				self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">180</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">181</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">182</td>
	<td class="source"><code>			 * Hide the spinner</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">183</td>
	<td class="source"><code>			 * @method</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">184</td>
	<td class="source"><code>			 * @ignore</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">185</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">186</td>
	<td class="source"><code>			function removeLoader() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">187</td>
	<td class="source"><code>				self.hideSpinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">188</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">189</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">190</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">191</td>
	<td class="source"><code>			 * Display media load failure message</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">192</td>
	<td class="source"><code>			 * @method</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">193</td>
	<td class="source"><code>			 * @ignore</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">194</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">195</td>
	<td class="source"><code>			function showLoadFailMsg() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">196</td>
	<td class="source"><code>				self.hasLoadError = true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">197</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">198</td>
	<td class="source"><code>				removeLoader();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">199</td>
	<td class="source"><code>				// hide broken image if present</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">200</td>
	<td class="source"><code>				self.$( '.image img' ).hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">201</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">202</td>
	<td class="source"><code>				// show error message if not visible already</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">203</td>
	<td class="source"><code>				if ( self.$( '.load-fail-msg' ).length === 0 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">204</td>
	<td class="source"><code>					new LoadErrorMessage( { retryPath: self.router.getPath() } )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">205</td>
	<td class="source"><code>						.on( 'retry', self._handleRetry.bind( self ) )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">206</td>
	<td class="source"><code>						.prependTo( self.$( '.image' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">207</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">208</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">209</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">210</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">211</td>
	<td class="source"><code>			 * Start image load transitions</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">212</td>
	<td class="source"><code>			 * @method</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">213</td>
	<td class="source"><code>			 * @ignore</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">214</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">215</td>
	<td class="source"><code>			function addImageLoadClass() {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 216, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">216</td>
	<td class="source"><code>				$img.addClass( 'image-loaded' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">217</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">218</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">219</td>
	<td class="source"><code>			if ( thumbs.length &#60; 2 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">220</td>
	<td class="source"><code>				this._disableArrowImages();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">221</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">222</td>
	<td class="source"><code>				this._enableArrowImages( thumbs );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">223</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">224</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">225</td>
	<td class="source"><code>			this.$details = this.$( '.details' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">226</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">227</td>
	<td class="source"><code>			Overlay.prototype.postRender.apply( this );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">228</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">229</td>
	<td class="source"><code>			this.gateway.getThumb( self.options.title ).then( function ( data ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">230</td>
	<td class="source"><code>				var author, url = data.descriptionurl + '#mw-jump-to-license';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">231</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">232</td>
	<td class="source"><code>				removeLoader();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">233</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">234</td>
	<td class="source"><code>				self.thumbWidth = data.thumbwidth;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">235</td>
	<td class="source"><code>				self.thumbHeight = data.thumbheight;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">236</td>
	<td class="source"><code>				self.imgRatio = data.thumbwidth / data.thumbheight;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">237</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">238</td>
	<td class="source"><code>				// We need to explicitly specify document for context param as jQuery 3</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">239</td>
	<td class="source"><code>				// will create a new document for the element if the context is</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">240</td>
	<td class="source"><code>				// undefined. If element is appended to active document, event handlers</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">241</td>
	<td class="source"><code>				// can fire in both the active document and new document which can cause</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">242</td>
	<td class="source"><code>				// insidious bugs.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">243</td>
	<td class="source"><code>				// (https://api.jquery.com/jquery.parsehtml/#entry-longdesc)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">244</td>
	<td class="source"><code>				$img = self.parseHTML( '&#60;img&#62;', document );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">245</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">246</td>
	<td class="source"><code>				// Remove the loader when the image is loaded or display load fail</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">247</td>
	<td class="source"><code>				// message on failure</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">248</td>
	<td class="source"><code>				//</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">249</td>
	<td class="source"><code>				// Error event handler must be attached before error occurs</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">250</td>
	<td class="source"><code>				// (https://api.jquery.com/error/#entry-longdesc)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">251</td>
	<td class="source"><code>				//</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">252</td>
	<td class="source"><code>				// For the load event, it is more unclear what happens cross-browser when</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">253</td>
	<td class="source"><code>				// the image is loaded from cache. It seems that a .complete check is</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">254</td>
	<td class="source"><code>				// needed if attaching the load event after setting the src.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">255</td>
	<td class="source"><code>				// (http://stackoverflow.com/questions/910727/jquery-event-for-images-loaded#comment10616132_1110094)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">256</td>
	<td class="source"><code>				//</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">257</td>
	<td class="source"><code>				// However, perhaps .complete check is not needed if attaching load</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">258</td>
	<td class="source"><code>				// event prior to setting the image src</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">259</td>
	<td class="source"><code>				// (https://stackoverflow.com/questions/12354865/image-onload-event-and-browser-cache#answer-12355031)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">260</td>
	<td class="source"><code>				$img.on( 'load', addImageLoadClass ).on( 'error', showLoadFailMsg );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 261, Column 5: "Prefer setAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 261, Column 5: "Prefer setAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">261</td>
	<td class="source"><code>				$img.attr( 'src', data.thumburl ).attr( 'alt', self.options.caption );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">262</td>
	<td class="source"><code>				self.$( '.image' ).append( $img );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">263</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">264</td>
	<td class="source"><code>				self.$details.addClass( 'is-visible' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">265</td>
	<td class="source"><code>				self._positionImage();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">266</td>
	<td class="source"><code>				self.$( '.details a' ).attr( 'href', url );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">267</td>
	<td class="source"><code>				if ( data.extmetadata ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">268</td>
	<td class="source"><code>					// Add license information</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">269</td>
	<td class="source"><code>					if ( data.extmetadata.LicenseShortName ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">270</td>
	<td class="source"><code>						self.$( '.license a' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">271</td>
	<td class="source"><code>							.text( data.extmetadata.LicenseShortName.value )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">272</td>
	<td class="source"><code>							.attr( 'href', url );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">273</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">274</td>
	<td class="source"><code>					// Add author information</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">275</td>
	<td class="source"><code>					if ( data.extmetadata.Artist ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">276</td>
	<td class="source"><code>						// Strip any tags</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">277</td>
	<td class="source"><code>						author = data.extmetadata.Artist.value.replace( /&#60;.*?&#62;/g, '' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">278</td>
	<td class="source"><code>						self.$( '.license' ).prepend( author + ' &bull; ' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">279</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">280</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">281</td>
	<td class="source"><code>				self.adjustDetails();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">282</td>
	<td class="source"><code>			}, function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">283</td>
	<td class="source"><code>				// retrieving image location failed so show load fail msg</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">284</td>
	<td class="source"><code>				showLoadFailMsg();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">285</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">286</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">287</td>
	<td class="source"><code>			M.on( 'resize:throttled', this._positionImage.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">288</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">289</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">290</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">291</td>
	<td class="source"><code>		 * Event handler that toggles the details bar.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">292</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">293</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">294</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">295</td>
	<td class="source"><code>		onToggleDetails: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">296</td>
	<td class="source"><code>			if ( !this.hasLoadError ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">297</td>
	<td class="source"><code>				this.$( '.cancel, .slider-button' ).toggle();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">298</td>
	<td class="source"><code>				this.$details.toggle();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">299</td>
	<td class="source"><code>				this._positionImage();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">300</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">301</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">302</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">303</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">304</td>
	<td class="source"><code>		 * fixme: remove this redundant function.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">305</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">306</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">307</td>
	<td class="source"><code>		 * @param {Event} ev</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">308</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">309</td>
	<td class="source"><code>		onExitClick: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">310</td>
	<td class="source"><code>			Overlay.prototype.onExitClick.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">311</td>
	<td class="source"><code>			this.emit( ImageOverlay.EVENT_EXIT, ev );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">312</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">313</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">314</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">315</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">316</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">317</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">318</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">319</td>
	<td class="source"><code>		show: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">320</td>
	<td class="source"><code>			Overlay.prototype.show.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">321</td>
	<td class="source"><code>			this._positionImage();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">322</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">323</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">324</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">325</td>
	<td class="source"><code>		 * Fit the image into the window if its dimensions are bigger than the window dimensions.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">326</td>
	<td class="source"><code>		 * Compare window width to height ratio to that of image width to height when setting</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">327</td>
	<td class="source"><code>		 * image width or height.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">328</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">329</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">330</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">331</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">332</td>
	<td class="source"><code>		_positionImage: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">333</td>
	<td class="source"><code>			var detailsHeight, windowWidth, windowHeight, windowRatio, $img,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">334</td>
	<td class="source"><code>				$window = util.getWindow();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">335</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">336</td>
	<td class="source"><code>			this.adjustDetails();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">337</td>
	<td class="source"><code>			// with a hidden details box we have a little bit more space, we just need to use it</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">338</td>
	<td class="source"><code>			detailsHeight = !this.$details.is( ':visible' ) ? 0 : this.$details.outerHeight();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">339</td>
	<td class="source"><code>			windowWidth = $window.width();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">340</td>
	<td class="source"><code>			windowHeight = $window.height() - detailsHeight;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">341</td>
	<td class="source"><code>			windowRatio = windowWidth / windowHeight;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">342</td>
	<td class="source"><code>			$img = this.$( 'img' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">343</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">344</td>
	<td class="source"><code>			if ( this.imgRatio &#62; windowRatio ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">345</td>
	<td class="source"><code>				if ( windowWidth &#60; this.thumbWidth ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 346, Column 6: "Prefer getComputedStyle to $.css"
		<a href="http://eslint.org/docs/rules/jquery/no-css" target="_blank">jquery/no-css</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">346</td>
	<td class="source"><code>					$img.css( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">347</td>
	<td class="source"><code>						width: windowWidth,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">348</td>
	<td class="source"><code>						height: 'auto'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">349</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">350</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">351</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">352</td>
	<td class="source"><code>				if ( windowHeight &#60; this.thumbHeight ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 353, Column 6: "Prefer getComputedStyle to $.css"
		<a href="http://eslint.org/docs/rules/jquery/no-css" target="_blank">jquery/no-css</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">353</td>
	<td class="source"><code>					$img.css( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">354</td>
	<td class="source"><code>						width: 'auto',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">355</td>
	<td class="source"><code>						height: windowHeight</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">356</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">357</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">358</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">359</td>
	<td class="source"><code>			this.$( '.image-wrapper' ).css( 'bottom', detailsHeight );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">360</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">361</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">362</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">363</td>
	<td class="source"><code>		 * Function to adjust the height of details section to not more than 50% of window height.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">364</td>
	<td class="source"><code>		 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">365</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">366</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">367</td>
	<td class="source"><code>		adjustDetails: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">368</td>
	<td class="source"><code>			var windowHeight = util.getWindow().height();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">369</td>
	<td class="source"><code>			if ( this.$( '.details' ).height() &#62; windowHeight * 0.50 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">370</td>
	<td class="source"><code>				this.$( '.details' ).css( 'max-height', windowHeight * 0.50 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">371</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">372</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">373</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">374</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">375</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">376</td>
	<td class="source"><code>	 * fixme: remove this redundant constant.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">377</td>
	<td class="source"><code>	 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">378</td>
	<td class="source"><code>	 * @event</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">379</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">380</td>
	<td class="source"><code>	ImageOverlay.EVENT_EXIT = 'ImageOverlay-exit';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">381</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">382</td>
	<td class="source"><code>	 * @memberof ImageOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">383</td>
	<td class="source"><code>	 * @event</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">384</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">385</td>
	<td class="source"><code>	ImageOverlay.EVENT_SLIDE = 'ImageOverlay-slide';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">386</td>
	<td class="source"><code>	M.define( 'mobile.mediaViewer/ImageOverlay', ImageOverlay ); // resource-modules-disable-line</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">387</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">388</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">389</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileMediaViewerLoadErrorMessageJs" class="lint-result bg-success hidden" data-group="f-26" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.mediaViewer/LoadErrorMessage.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileMessageBoxMessageBoxJs" class="lint-result bg-success hidden" data-group="f-27" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.messageBox/MessageBox.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileNearbyLocationProviderJs" class="lint-result bg-success hidden" data-group="f-28" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.nearby/LocationProvider.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileNearbyNearbyJs" class="lint-result bg-success hidden" data-group="f-29" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.nearby/Nearby.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileNearbyNearbyGatewayJs" class="lint-result bg-success hidden" data-group="f-30" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.nearby/NearbyGateway.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileNotificationsOverlayNotificationsFilterOverlayJs" class="lint-result bg-success hidden" data-group="f-31" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.notifications.overlay/NotificationsFilterOverlay.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileNotificationsOverlayNotificationsOverlayJs" class="lint-result bg-success hidden" data-group="f-32" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.notifications.overlay/NotificationsOverlay.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobilePagelistScriptsWatchstarPageListJs" class="lint-result bg-error " data-group="f-33" data-problem-count="7" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.pagelist.scripts/WatchstarPageList.js
    </th>
    <th class="result-summary">
      7 problems (7 errors, 0 warnings)
    </th>
</tr>
<tr class="f-33 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-33"
								data-content="detailSummary-33"
								aria-controls="detailSummary-33"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-33"
								data-content="sourceCode-33"
								aria-controls="sourceCode-33"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-33">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 109, Column 4: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 111, Column 12: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 111, Column 38: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 128, Column 4: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 134, Column 14: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 135, Column 11: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 141, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-33">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	var PageList = M.require( 'mobile.startup/PageList' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		Watchstar = M.require( 'mobile.watchstar/Watchstar' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		user = M.require( 'mobile.startup/user' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		Page = M.require( 'mobile.startup/Page' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		WatchstarGateway = M.require( 'mobile.watchstar/WatchstarGateway' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	 * @typedef {Object.&#60;PageTitle, PageID&#62;} PageTitleToPageIDMap</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 * List of items page view</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	 * @class WatchstarPageList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	 * @uses Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>	 * @uses WatchstarGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>	 * @uses Watchstar</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>	 * @extends PageList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>	 * @fires WatchstarPageList#unwatch</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>	 * @fires WatchstarPageList#watch</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>	 * @param {Object} options Configuration options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>	function WatchstarPageList( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>		this.wsGateway = new WatchstarGateway( options.api );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>		PageList.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>	OO.mfExtend( WatchstarPageList, PageList, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		 * @memberof WatchstarPageList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>		 * @mixes PageList#defaults</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>		 * @property {Object} defaults Default options hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		 * @property {mw.Api} defaults.api</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		postRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>			var</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>				self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>				$items,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>				pages,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>				ids = [],</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>				titles = [];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>			PageList.prototype.postRender.apply( this );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>			$items = this.queryUnitializedItems();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>			pages = this.parsePagesFromItems( $items );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>			Object.keys( pages ).forEach( function ( title ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>				var id = pages[title];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>				// Favor IDs since they're short and unlikely to exceed URL length</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>				// limits when batched.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>				if ( id && id !== '0' ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>					// ID is present and valid.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>					ids.push( id );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>				} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>					// Only titles are available for missing pages.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>					titles.push( title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>			return this.getPages( ids, titles ).then( function ( statuses ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>				self.renderItems( $items, statuses );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>		 * @param {JQuery.Element} $items</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>		 * @param {WatchStatusMap} statuses</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>		 * @return {void}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>		queryUnitializedItems: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>			return this.$( 'li:not(.with-watchstar)' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>		 * Retrieve pages</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>		 * @memberof WatchstarPageList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>		 * @param {PageID[]} ids</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>		 * @param {PageTitle[]} titles</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>		 * @return {JQuery.Deferred&#60;WatchStatusMap&#62;}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>		getPages: function ( ids, titles ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>			// Rendering Watchstars for anonymous users is not useful. Short-circuit</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>			// the request.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>			if ( user.isAnon() ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>				return util.Deferred().resolve( {} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>			return this.wsGateway.getStatuses( ids, titles );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>		 * @param {JQuery.Element} $items</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>		 * @return {PageTitleToPageIDMap}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>		 * @memberof WatchstarPageList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>		parsePagesFromItems: function ( $items ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>			var</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>				self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>				pages = {};</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 109, Column 4: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">109</td>
	<td class="source"><code>			$items.each( function ( _, item ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>				var $item = self.$( item );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 111, Column 12: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 111, Column 38: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">111</td>
	<td class="source"><code>				pages[ $item.attr( 'title' ) ] = $item.data( 'id' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>			return pages;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>		 * @param {JQuery.Element} $items</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>		 * @param {WatchStatusMap} statuses</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>		 * @return {void}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>		renderItems: function ( $items, statuses ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>			var self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>			// Rendering Watchstars for anonymous users is not useful. Nothing to do.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>			if ( user.isAnon() ) { return; }</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>			// Create watch stars for each entry in list</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 128, Column 4: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">128</td>
	<td class="source"><code>			$items.each( function ( _, item ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>				var</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>					$item = self.$( item ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>					page = new Page( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>						// FIXME: Set sections so we don't hit the api (hacky)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>						sections: [],</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 134, Column 14: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">134</td>
	<td class="source"><code>						title: $item.attr( 'title' ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 135, Column 11: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">135</td>
	<td class="source"><code>						id: $item.data( 'id' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>					} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>					el = self.parseHTML( '&#60;div&#62;' ).appendTo( $item ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>					watched = statuses[ page.getTitle() ];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>				self._appendWatchstar( el, page, watched );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 141, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">141</td>
	<td class="source"><code>				$item.addClass( 'with-watchstar' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>		 * @param {HTMLElement} el</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>		 * @param {Page} page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code>		 * @param {WatchStatus} watched</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>		 * @return {Watchstar}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>		_appendWatchstar: function ( el, page, watched ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>			var watchstar = new Watchstar( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>				api: this.options.api,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>				funnel: this.options.funnel,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>				isAnon: user.isAnon(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>				// WatchstarPageList.getPages() already retrieved the status of</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>				// each page. Explicitly set the watch state so another request</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>				// will not be issued by the Watchstar.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>				isWatched: watched,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>				page: page,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code>				el: el</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>			 * @event watch</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>			 * Fired when an article in the PageList is watched.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">168</td>
	<td class="source"><code>			util.repeatEvent( watchstar, this, 'watch' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">169</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code>			 * @event unwatch</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>			 * Fired when an article in the PageList is watched.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">173</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code>			util.repeatEvent( watchstar, this, 'unwatch' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">176</td>
	<td class="source"><code>			return watchstar;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">177</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">178</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">179</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">180</td>
	<td class="source"><code>	M.define( 'mobile.pagelist.scripts/WatchstarPageList', WatchstarPageList );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">181</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">182</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">183</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileReferencesGatewayReferencesGatewayJs" class="lint-result bg-success hidden" data-group="f-34" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.references.gateway/ReferencesGateway.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileReferencesGatewayReferencesHtmlScraperGatewayJs" class="lint-result bg-error " data-group="f-35" data-problem-count="2" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.references.gateway/ReferencesHtmlScraperGateway.js
    </th>
    <th class="result-summary">
      2 problems (2 errors, 0 warnings)
    </th>
</tr>
<tr class="f-35 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-35"
								data-content="detailSummary-35"
								aria-controls="detailSummary-35"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-35"
								data-content="sourceCode-35"
								aria-controls="sourceCode-35"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-35">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 29, Column 10: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 31, Column 29: "Prefer innerHTML to $.html"
		<a href="http://eslint.org/docs/rules/jquery/no-html" target="_blank">jquery/no-html</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-35">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>	var ReferencesGateway = M.require( 'mobile.references.gateway/ReferencesGateway' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>	 * Gateway for retrieving references via the content of the Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>	 * @class ReferencesHtmlScraperGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>	 * @extends ReferencesGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>	 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	function ReferencesHtmlScraperGateway() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>		ReferencesGateway.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	OO.mfExtend( ReferencesHtmlScraperGateway, ReferencesGateway, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>		 * @memberof ReferencesHtmlScraperGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>		 * @param {string} id of a DOM element in the page with '#' prefix.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>		 *  can be encoded or decoded.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>		 * @param {jQuery.Object} $container to scan for an element</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>		 * @return {jQuery.Promise} that can be used by getReference</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>		getReferenceFromContainer: function ( id, $container ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>			var $el,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>				result = util.Deferred();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 29, Column 10: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">29</td>
	<td class="source"><code>			$el = $container.find( '#' + util.escapeSelector( id.substr( 1 ) ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>			if ( $el.length ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 31, Column 29: "Prefer innerHTML to $.html"
		<a href="http://eslint.org/docs/rules/jquery/no-html" target="_blank">jquery/no-html</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">31</td>
	<td class="source"><code>				result.resolve( { text: $el.html() } );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>				result.reject( ReferencesGateway.ERROR_NOT_EXIST );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>			return result.promise();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		 * @memberof ReferencesHtmlScraperGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>		getReference: function ( id, page ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>			// If an id is not found it's possible the id passed needs decoding (per T188547).</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>			return this.getReferenceFromContainer( decodeURIComponent( id ), page.$( 'ol.references' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>	M.define( 'mobile.references.gateway/ReferencesHtmlScraperGateway',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>		ReferencesHtmlScraperGateway );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileReferencesGatewayReferencesMobileViewGatewayJs" class="lint-result bg-error " data-group="f-36" data-problem-count="3" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.references.gateway/ReferencesMobileViewGateway.js
    </th>
    <th class="result-summary">
      3 problems (3 errors, 0 warnings)
    </th>
</tr>
<tr class="f-36 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-36"
								data-content="detailSummary-36"
								aria-controls="detailSummary-36"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-36"
								data-content="sourceCode-36"
								aria-controls="sourceCode-36"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-36">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 65, Column 16: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 65, Column 16: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 65, Column 65: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-36">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>	var ReferencesHtmlScraperGateway =</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>		M.require( 'mobile.references.gateway/ReferencesHtmlScraperGateway' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		cache = M.require( 'mobile.startup/cache' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		ReferencesGateway = M.require( 'mobile.references.gateway/ReferencesGateway' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		MemoryCache = cache.MemoryCache,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		NoCache = cache.NoCache,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>		referencesMobileViewGateway = null;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * Gateway for retrieving references via the MobileView API</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 * By default not cached, if it receives a cache instance then it will be</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 * used to store and get references sections.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	 * @class ReferencesMobileViewGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>	 * @extends ReferencesHtmlScraperGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>	 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>	 * @param {mw.Api} api class to use for making requests</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>	 * @param {NoCache|MemoryCache} [cache] class to use for caching request</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>	 * results. By default it uses the NoCache implementation, which doesn't</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>	 * cache anything. The singleton instance exposed by this module uses</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>	 * a MemoryCache which caches requests in-memory. Any other Cache class</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>	 * compatible with mobile.startup/cache's interface will actually work.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>	function ReferencesMobileViewGateway( api, cache ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>		ReferencesHtmlScraperGateway.call( this, api );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>		this.cache = cache || new NoCache();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>	OO.mfExtend( ReferencesMobileViewGateway, ReferencesHtmlScraperGateway, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>		 * Retrieve references list for a given page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>		 * Also cache the result for a later use.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		 * @memberof ReferencesMobileViewGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		 * @param {Page} page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>		 * @return {jQuery.Deferred} promise that resolves with the list of</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>		 *  sections on the page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>		getReferencesLists: function ( page ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>			var self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>				result = util.Deferred(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>				cachedReferencesSections = this.cache.get( page.id );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>			if ( cachedReferencesSections ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>				return result.resolve( cachedReferencesSections ).promise();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>			this.api.get( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>				action: 'mobileview',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>				page: page.getTitle(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>				sections: 'references',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>				prop: 'text',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>				revision: page.getRevisionId()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>			} ).then( function ( data ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>				var sections = {};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>				data.mobileview.sections.forEach( function ( section ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>					var $section = util.parseHTML( '&#60;div&#62;' ).html( section.text );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 65, Column 16: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 65, Column 16: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 65, Column 65: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">65</td>
	<td class="source"><code>					sections[ $section.find( '.mw-headline' ).attr( 'id' ) ] = $section.find( '.references' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>				self.cache.set( page.id, sections );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>				result.resolve( sections );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>			}, function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>				result.reject( ReferencesGateway.ERROR_OTHER );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>			return result.promise();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>		 * Retrieve all the references lists for a given page and section ID.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>		 * @memberof ReferencesMobileViewGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>		 * @param {Page} page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>		 * @param {string} headingId</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>		 * @return {jQuery.Promise} promise that resolves with the section</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>		 *  HTML or `false` if no such section exists</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>		getReferencesList: function ( page, headingId ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>			return this.getReferencesLists( page ).then( function ( data ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>				return Object.prototype.hasOwnProperty.call( data, headingId ) ?</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>					data[ headingId ] : false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>		 * @memberof ReferencesMobileViewGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>		getReference: function ( id, page ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>			var self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>			return this.getReferencesLists( page ).then( function ( sections ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>				var $container = util.parseHTML( '&#60;div&#62;' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>				Object.keys( sections ).forEach( function ( sectionId ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>					$container.append( sections[ sectionId ] );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>				return self.getReferenceFromContainer( id, $container );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>	 * Retrieve a singleton instance w/ cache that uses mw.Api</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>	 * @memberof ReferencesMobileViewGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>	 * @return {ReferencesMobileViewGateway}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>	ReferencesMobileViewGateway.getSingleton = function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>		if ( !referencesMobileViewGateway ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>			referencesMobileViewGateway = new ReferencesMobileViewGateway(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>				new mw.Api(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>				new MemoryCache()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>			);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>		return referencesMobileViewGateway;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>	};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>	M.define( 'mobile.references.gateway/ReferencesMobileViewGateway',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>		ReferencesMobileViewGateway );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileReferencesReferencesDrawerJs" class="lint-result bg-error " data-group="f-37" data-problem-count="2" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.references/ReferencesDrawer.js
    </th>
    <th class="result-summary">
      2 problems (2 errors, 0 warnings)
    </th>
</tr>
<tr class="f-37 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-37"
								data-content="detailSummary-37"
								aria-controls="detailSummary-37"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-37"
								data-content="sourceCode-37"
								aria-controls="sourceCode-37"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-37">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 156, Column 24: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 156, Column 65: "Prefer textContent to $.text"
		<a href="http://eslint.org/docs/rules/jquery/no-text" target="_blank">jquery/no-text</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-37">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>	var Drawer = M.require( 'mobile.startup/Drawer' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		icons = M.require( 'mobile.startup/icons' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		ReferencesGateway = M.require( 'mobile.references.gateway/ReferencesGateway' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		Icon = M.require( 'mobile.startup/Icon' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>	 * Drawer for references</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>	 * @class ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	 * @extends Drawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * @uses Icon</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	function ReferencesDrawer() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>		Drawer.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>	OO.mfExtend( ReferencesDrawer, Drawer, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>		 * @memberof ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>		 * @mixes Drawer#defaults</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>		 * @property {Object} defaults Default options hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>		 * @property {string} defaults.cancelButton HTML of the button that closes the drawer.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>		 * @property {boolean} defaults.error whether an error message is being shown</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>		defaults: util.extend( {}, Drawer.prototype.defaults, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>			spinner: icons.spinner().toHtmlString(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>			cancelButton: new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>				name: 'overlay-close-gray',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>				additionalClassNames: 'cancel',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-overlay-close' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>			} ).toHtmlString(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>			citation: new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>				isSmall: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>				name: 'citation',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>				additionalClassNames: 'text',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>				hasText: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-references-citation' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>			} ).toHtmlString(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>			errorClassName: new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>				name: 'error',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>				hasText: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>				isSmall: true</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>			} ).getClassName()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>		 * @memberof ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>		events: {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>			'click sup a': 'showNestedReference'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>		 * @memberof ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>		show: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>			return Drawer.prototype.show.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>		 * @memberof ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>		className: 'drawer position-fixed text references',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>		 * @memberof ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>		template: mw.template.get( 'mobile.references', 'Drawer.hogan' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>		 * @memberof ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>		closeOnScroll: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>		 * @memberof ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>		postRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>			var windowHeight = util.getWindow().height();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>			Drawer.prototype.postRender.apply( this );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>			// make sure the drawer doesn't take up more than 50% of the viewport height</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>			if ( windowHeight / 2 &#60; 400 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>				this.$el.css( 'max-height', windowHeight / 2 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>			this.on( 'show', this.onShow.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>			this.on( 'hide', this.onHide.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>		 * Make body not scrollable</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>		 * @memberof ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>		onShow: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>			util.getDocument().find( 'body' ).addClass( 'drawer-enabled' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>		 * Restore body scroll</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>		 * @memberof ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>		onHide: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>			util.getDocument().find( 'body' ).removeClass( 'drawer-enabled' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>		 * Fetch and render nested reference upon click</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>		 * @memberof ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>		 * @param {string} id of the reference to be retrieved</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>		 * @param {Page} page to locate reference for</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>		 * @param {string} refNumber the number it identifies as in the page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>		 * @return {jQuery.Deferred}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>		showReference: function ( id, page, refNumber ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>			var drawer = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>				gateway = this.options.gateway;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>			// Save the page in case we have to show a nested reference.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>			this.options.page = page;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>			// If API is being used we want to show the drawer with the spinner while query runs</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>			drawer.show();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>			return gateway.getReference( id, page ).then( function ( reference ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>				drawer.render( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>					title: refNumber,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>					text: reference.text</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code>			}, function ( err ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>				if ( err === ReferencesGateway.ERROR_NOT_EXIST ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>					drawer.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>				} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>					drawer.render( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>						error: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>						title: refNumber,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>						text: mw.msg( 'mobile-frontend-references-citation-error' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>		 * Fetch and render nested reference upon click</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code>		 * @memberof ReferencesDrawer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>		 * @param {jQuery.Event} ev</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>		 * @return {boolean} False to cancel the native event</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>		showNestedReference: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>			var $dest = this.$( ev.target );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 156, Column 24: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 156, Column 65: "Prefer textContent to $.text"
		<a href="http://eslint.org/docs/rules/jquery/no-text" target="_blank">jquery/no-text</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">156</td>
	<td class="source"><code>			this.showReference( $dest.attr( 'href' ), this.options.page, $dest.text() );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>			// Don't hide the already shown drawer via propagation</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>			// and stop default scroll behaviour.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>			return false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code>	M.define( 'mobile.references/ReferencesDrawer', ReferencesDrawer ); // resource-modules-disable-line</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileScrollEndEventEmitterScrollEndEventEmitterJs" class="lint-result bg-success hidden" data-group="f-38" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.scrollEndEventEmitter/ScrollEndEventEmitter.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSearchApiSearchGatewayJs" class="lint-result bg-success hidden" data-group="f-39" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.search.api/SearchGateway.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSearchUtilExtendSearchParamsJs" class="lint-result bg-success hidden" data-group="f-40" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.search.util/extendSearchParams.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSearchMobileWebSearchLoggerJs" class="lint-result bg-success hidden" data-group="f-41" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.search/MobileWebSearchLogger.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSearchSearchOverlayJs" class="lint-result bg-error " data-group="f-42" data-problem-count="4" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.search/SearchOverlay.js
    </th>
    <th class="result-summary">
      4 problems (4 errors, 0 warnings)
    </th>
</tr>
<tr class="f-42 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-42"
								data-content="detailSummary-42"
								aria-controls="detailSummary-42"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-42"
								data-content="sourceCode-42"
								aria-controls="sourceCode-42"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-42">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 176, Column 5: "Prefer dispatchEvent + form.submit() to $.submit"
		<a href="http://eslint.org/docs/rules/jquery/no-submit" target="_blank">jquery/no-submit</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 218, Column 15: "Prefer closest to $.closest"
		<a href="http://eslint.org/docs/rules/jquery/no-closest" target="_blank">jquery/no-closest</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 242, Column 28: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 331, Column 9: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-42">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	var</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		Overlay = M.require( 'mobile.startup/Overlay' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		Anchor = M.require( 'mobile.startup/Anchor' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		Icon = M.require( 'mobile.startup/Icon' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		WatchstarPageList = M.require( 'mobile.pagelist.scripts/WatchstarPageList' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>		SEARCH_DELAY = 300,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>		SEARCH_SPINNER_DELAY = 2000,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>		feedbackLink = mw.config.get( 'wgCirrusSearchFeedbackLink' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 * Overlay displaying search results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 * @class SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	 * @extends Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	 * @uses SearchGateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>	 * @uses Icon</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>	 * @param {Object} options Configuration options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>	 * @fires SearchOverlay#search-show</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>	 * @fires SearchOverlay#search-start</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>	 * @fires SearchOverlay#search-results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>	 * @fires SearchOverlay#search-result-click</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>	function SearchOverlay( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>		Overlay.call( this, options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>		this.api = options.api;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>		// eslint-disable-next-line new-cap</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>		this.gateway = new options.gatewayClass( this.api );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>		this.router = options.router;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>	OO.mfExtend( SearchOverlay, Overlay, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		isBorderBox: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>		templatePartials: util.extend( {}, Overlay.prototype.templatePartials, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>			header: mw.template.get( 'mobile.search', 'header.hogan' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>			content: mw.template.get( 'mobile.search', 'content.hogan' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>			icon: Icon.prototype.template</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>		className: 'overlay search-overlay',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>		 * @mixes Overlay#defaults</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>		 * @property {Object} defaults Default options hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>		 * @property {SearchGateway} defaults.gatewayClass The class to use to setup an API gateway.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>		 *  FIXME: Should be removed when wikidata descriptions in stable (T101719)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>		 * @property {Router} defaults.router instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>		 * @property {Object} defaults.clearIcon options for the button that clears the search text.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>		 * @property {Object} defaults.searchContentIcon options for the button that allows you to</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>		 *  search within content</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>		 * @property {string} defaults.searchTerm Search text.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>		 * @property {string} defaults.placeholderMsg Search input placeholder text.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>		 * @property {string} defaults.clearMsg Tooltip for clear button that appears when you type</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		 * into search box.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>		 * @property {string} defaults.searchContentMsg Caption for a button performing full text</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>		 * search of a given search query.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>		 * @property {string} defaults.noResultsMsg Message informing user that no pages were found</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>		 * for a given query.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>		 * @property {string} defaults.searchContentNoResultsMsg Used when no pages with matching</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>		 * titles were found.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>		 * @property {string} defaults.action The value of wgScript</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>		 * @property {Object} defaults.feedback options for the feedback link</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>		 *  below the search results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>		defaults: util.extend( {}, Overlay.prototype.defaults, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>			headerChrome: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>			clearIcon: new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>				tagName: 'button',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>				name: 'clear',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>				isSmall: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-clear-search' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>				additionalClassNames: 'clear'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>			} ).options,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>			searchContentIcon: new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>				tagName: 'a',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>				// When this icon is clicked we want to reset the hash for subsequent views</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>				href: '#',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>				name: 'search-content',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-search-content' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>			} ).options,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>			searchTerm: '',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>			placeholderMsg: '',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>			noResultsMsg: mw.msg( 'mobile-frontend-search-no-results' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>			searchContentNoResultsMsg: mw.message( 'mobile-frontend-search-content-no-results' ).parse(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>			action: mw.config.get( 'wgScript' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>			feedback: !feedbackLink ? false : {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>				feedback: new Anchor( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>					label: mw.msg( 'mobile-frontend-search-feedback-link-text' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>					href: feedbackLink</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>				} ).options,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>				prompt: mw.msg( 'mobile-frontend-search-feedback-prompt' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>		events: util.extend( {}, Overlay.prototype.events, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>			'input input': 'onInputInput',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>			'click .clear': 'onClickClear',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>			'click .search-content': 'onClickSearchContent',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>			'click .overlay-content': 'onClickOverlayContent',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>			'click .overlay-content &#62; div': 'onClickOverlayContentDiv',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>			'touchstart .results': 'hideKeyboardOnScroll',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>			'mousedown .results': 'hideKeyboardOnScroll',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>			'click .results a': 'onClickResult'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>		 * Make sure search header is docked to the top of the screen when the</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>		 * user begins typing so that there is adequate space for search results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>		 * above the keyboard. (This is only a potential issue when sitenotices</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>		 * are displayed.)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>		onInputInput: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code>			this.performSearch();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>			this.$clear.toggle( this.$input.val() !== '' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>		 * Initialize the button that clears the search field</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>		 * @return {boolean} False to cancel the native event</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>		onClickClear: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>			this.$input.val( '' ).focus();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>			this.performSearch();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>			this.$clear.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code>			// In beta the clear button is on top of the search input.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>			// Stop propagation so that the input doesn't receive the click.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>			return false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>		 * Initialize 'search within pages' functionality</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>		onClickSearchContent: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>			var $el = util.getDocument().find( 'body' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>				$form = this.$( 'form' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>			// Add fulltext input to force fulltext search</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code>			this.parseHTML( '&#60;input&#62;' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>				.attr( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>					type: 'hidden',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>					name: 'fulltext',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code>					value: 'search'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">168</td>
	<td class="source"><code>				} )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">169</td>
	<td class="source"><code>				.appendTo( $form );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code>			// history.back queues a task so might run after this call. Thus we use setTimeout</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code>			// http://www.w3.org/TR/2011/WD-html5-20110113/webappapis.html#queue-a-task</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>			setTimeout( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">173</td>
	<td class="source"><code>				// Firefox doesn't allow submission of a form not in the DOM</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code>				// so temporarily re-add it</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code>				$form.appendTo( $el );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 176, Column 5: "Prefer dispatchEvent + form.submit() to $.submit"
		<a href="http://eslint.org/docs/rules/jquery/no-submit" target="_blank">jquery/no-submit</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">176</td>
	<td class="source"><code>				$form.submit();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">177</td>
	<td class="source"><code>			}, 0 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">178</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">179</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">180</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">181</td>
	<td class="source"><code>		 * Tapping on background only should hide the overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">182</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">183</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">184</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">185</td>
	<td class="source"><code>		onClickOverlayContent: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">186</td>
	<td class="source"><code>			this.$( '.cancel' ).trigger( 'click' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">187</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">188</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">189</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">190</td>
	<td class="source"><code>		 * Stop propagation</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">191</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">192</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">193</td>
	<td class="source"><code>		 * @param {jQuery.Event} ev</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">194</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">195</td>
	<td class="source"><code>		onClickOverlayContentDiv: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">196</td>
	<td class="source"><code>			ev.stopPropagation();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">197</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">198</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">199</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">200</td>
	<td class="source"><code>		 * Hide the keyboard when scrolling starts (avoid weird situation when</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">201</td>
	<td class="source"><code>		 * user taps on an item, the keyboard hides and wrong item is clicked).</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">202</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">203</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">204</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">205</td>
	<td class="source"><code>		hideKeyboardOnScroll: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">206</td>
	<td class="source"><code>			this.$input.blur();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">207</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">208</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">209</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">210</td>
	<td class="source"><code>		 * Handle the user clicking a result.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">211</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">212</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">213</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">214</td>
	<td class="source"><code>		 * @param {jQuery.Event} ev</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">215</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">216</td>
	<td class="source"><code>		onClickResult: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">217</td>
	<td class="source"><code>			var $link = this.$( ev.currentTarget ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 218, Column 15: "Prefer closest to $.closest"
		<a href="http://eslint.org/docs/rules/jquery/no-closest" target="_blank">jquery/no-closest</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">218</td>
	<td class="source"><code>				$result = $link.closest( 'li' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">219</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">220</td>
	<td class="source"><code>			 * Fired when the user clicks a search result</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">221</td>
	<td class="source"><code>			 * @event SearchOverlay#search-result-click</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">222</td>
	<td class="source"><code>			 * @type {Object}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">223</td>
	<td class="source"><code>			 * @property {jQuery.Object} result The jQuery-wrapped DOM element that</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">224</td>
	<td class="source"><code>			 *  the user clicked</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">225</td>
	<td class="source"><code>			 * @property {number} resultIndex The zero-based index of the</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">226</td>
	<td class="source"><code>			 *  result in the set of results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">227</td>
	<td class="source"><code>			 * @property {jQuery.Event} originalEvent The original event</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">228</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">229</td>
	<td class="source"><code>			this.emit( 'search-result-click', {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">230</td>
	<td class="source"><code>				result: $result,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">231</td>
	<td class="source"><code>				resultIndex: this.$results.index( $result ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">232</td>
	<td class="source"><code>				originalEvent: ev</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">233</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">234</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">235</td>
	<td class="source"><code>			// FIXME: ugly hack that removes search from browser history</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">236</td>
	<td class="source"><code>			// when navigating to search results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">237</td>
	<td class="source"><code>			ev.preventDefault();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">238</td>
	<td class="source"><code>			this.router.back().then( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">239</td>
	<td class="source"><code>				// Router.navigate does not support changing href.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">240</td>
	<td class="source"><code>				// FIXME: Needs upstream change T189173</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">241</td>
	<td class="source"><code>				// eslint-disable-next-line no-restricted-properties</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 242, Column 28: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">242</td>
	<td class="source"><code>				window.location.href = $link.attr( 'href' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">243</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">244</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">245</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">246</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">247</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">248</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">249</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">250</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">251</td>
	<td class="source"><code>		postRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">252</td>
	<td class="source"><code>			var self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">253</td>
	<td class="source"><code>				timer;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">254</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">255</td>
	<td class="source"><code>			Overlay.prototype.postRender.call( this );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">256</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">257</td>
	<td class="source"><code>			this.$input = this.$( 'input' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">258</td>
	<td class="source"><code>			this.$clear = this.$( '.clear' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">259</td>
	<td class="source"><code>			this.$searchContent = this.$( '.search-content' ).hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">260</td>
	<td class="source"><code>			this.$searchFeedback = this.$( '.search-feedback' ).hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">261</td>
	<td class="source"><code>			this.$resultContainer = this.$( '.results-list-container' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">262</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">263</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">264</td>
	<td class="source"><code>			 * Hide the spinner and abort timed spinner shows.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">265</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">266</td>
	<td class="source"><code>			function clearSearch() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">267</td>
	<td class="source"><code>				self.$spinner.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">268</td>
	<td class="source"><code>				clearTimeout( timer );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">269</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">270</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">271</td>
	<td class="source"><code>			// Show a spinner on top of search results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">272</td>
	<td class="source"><code>			this.$spinner = this.$( '.spinner-container' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">273</td>
	<td class="source"><code>			this.on( 'search-start', function ( searchData ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">274</td>
	<td class="source"><code>				if ( timer ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">275</td>
	<td class="source"><code>					clearSearch();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">276</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">277</td>
	<td class="source"><code>				timer = setTimeout( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">278</td>
	<td class="source"><code>					self.$spinner.show();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">279</td>
	<td class="source"><code>				}, SEARCH_SPINNER_DELAY - searchData.delay );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">280</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">281</td>
	<td class="source"><code>			this.on( 'search-results', clearSearch );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">282</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">283</td>
	<td class="source"><code>			// Hide the clear button if the search input is empty</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">284</td>
	<td class="source"><code>			if ( self.$input.val() === '' ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">285</td>
	<td class="source"><code>				this.$clear.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">286</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">287</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">288</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">289</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">290</td>
	<td class="source"><code>		 * Trigger a focus() event on search input in order to</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">291</td>
	<td class="source"><code>		 * bring up the virtual keyboard.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">292</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">293</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">294</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">295</td>
	<td class="source"><code>		showKeyboard: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">296</td>
	<td class="source"><code>			var len = this.$input.val().length;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">297</td>
	<td class="source"><code>			this.$input.focus();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">298</td>
	<td class="source"><code>			// Cursor to the end of the input</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">299</td>
	<td class="source"><code>			if ( this.$input[0].setSelectionRange ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">300</td>
	<td class="source"><code>				this.$input[0].setSelectionRange( len, len );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">301</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">302</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">303</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">304</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">305</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">306</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">307</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">308</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">309</td>
	<td class="source"><code>		show: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">310</td>
	<td class="source"><code>			// Overlay#show defines the actual overlay visibility.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">311</td>
	<td class="source"><code>			Overlay.prototype.show.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">312</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">313</td>
	<td class="source"><code>			this.showKeyboard();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">314</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">315</td>
	<td class="source"><code>			 * Fired after the search overlay is shown</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">316</td>
	<td class="source"><code>			 * @event SearchOverlay#search-show</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">317</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">318</td>
	<td class="source"><code>			this.emit( 'search-show' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">319</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">320</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">321</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">322</td>
	<td class="source"><code>		 * Fade out if the browser supports animations</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">323</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">324</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">325</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">326</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">327</td>
	<td class="source"><code>		hide: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">328</td>
	<td class="source"><code>			var self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">329</td>
	<td class="source"><code>				$html = util.getDocument();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">330</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 331, Column 9: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">331</td>
	<td class="source"><code>			if ( $html.hasClass( 'animations' ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">332</td>
	<td class="source"><code>				self.$el.addClass( 'fade-out' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">333</td>
	<td class="source"><code>				setTimeout( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">334</td>
	<td class="source"><code>					Overlay.prototype.hide.apply( self, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">335</td>
	<td class="source"><code>				}, 500 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">336</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">337</td>
	<td class="source"><code>				Overlay.prototype.hide.apply( self, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">338</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">339</td>
	<td class="source"><code>			return true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">340</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">341</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">342</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">343</td>
	<td class="source"><code>		 * Perform search and render results inside current view.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">344</td>
	<td class="source"><code>		 * FIXME: Much of the logic for caching and pending queries inside this function should</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">345</td>
	<td class="source"><code>		 * actually live in SearchGateway, please move out.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">346</td>
	<td class="source"><code>		 * @memberof SearchOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">347</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">348</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">349</td>
	<td class="source"><code>		performSearch: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">350</td>
	<td class="source"><code>			var</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">351</td>
	<td class="source"><code>				self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">352</td>
	<td class="source"><code>				api = this.api,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">353</td>
	<td class="source"><code>				query = this.$input.val(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">354</td>
	<td class="source"><code>				delay = this.gateway.isCached( query ) ? 0 : SEARCH_DELAY;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">355</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">356</td>
	<td class="source"><code>			// it seems the input event can be fired when virtual keyboard is closed</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">357</td>
	<td class="source"><code>			// (Chrome for Android)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">358</td>
	<td class="source"><code>			if ( query !== this.lastQuery ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">359</td>
	<td class="source"><code>				if ( self._pendingQuery ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">360</td>
	<td class="source"><code>					self._pendingQuery.abort();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">361</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">362</td>
	<td class="source"><code>				clearTimeout( this.timer );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">363</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">364</td>
	<td class="source"><code>				if ( query.length ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">365</td>
	<td class="source"><code>					this.timer = setTimeout( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">366</td>
	<td class="source"><code>						var xhr;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">367</td>
	<td class="source"><code>						/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">368</td>
	<td class="source"><code>						 * Fired immediately before the search API request is sent</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">369</td>
	<td class="source"><code>						 * @event SearchOverlay#search-start</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">370</td>
	<td class="source"><code>						 * @property {Object} data related to the current search</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">371</td>
	<td class="source"><code>						 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">372</td>
	<td class="source"><code>						self.emit( 'search-start', {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">373</td>
	<td class="source"><code>							query: query,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">374</td>
	<td class="source"><code>							delay: delay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">375</td>
	<td class="source"><code>						} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">376</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">377</td>
	<td class="source"><code>						xhr = self.gateway.search( query );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">378</td>
	<td class="source"><code>						self._pendingQuery = xhr.then( function ( data ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">379</td>
	<td class="source"><code>							// check if we're getting the rights response in case of out of</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">380</td>
	<td class="source"><code>							// order responses (need to get the current value of the input)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">381</td>
	<td class="source"><code>							if ( data && data.query === self.$input.val() ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">382</td>
	<td class="source"><code>								self.$el.toggleClass( 'no-results', data.results.length === 0 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">383</td>
	<td class="source"><code>								self.$searchContent</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">384</td>
	<td class="source"><code>									.show()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">385</td>
	<td class="source"><code>									.find( 'p' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">386</td>
	<td class="source"><code>									.hide()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">387</td>
	<td class="source"><code>									.filter( data.results.length ? '.with-results' : '.without-results' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">388</td>
	<td class="source"><code>									.show();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">389</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">390</td>
	<td class="source"><code>								// eslint-disable-next-line no-new</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">391</td>
	<td class="source"><code>								new WatchstarPageList( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">392</td>
	<td class="source"><code>									api: api,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">393</td>
	<td class="source"><code>									funnel: 'search',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">394</td>
	<td class="source"><code>									pages: data.results,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">395</td>
	<td class="source"><code>									el: self.$resultContainer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">396</td>
	<td class="source"><code>								} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">397</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">398</td>
	<td class="source"><code>								self.$results = self.$resultContainer.find( 'li' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">399</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">400</td>
	<td class="source"><code>								/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">401</td>
	<td class="source"><code>								 * Fired when search API returns results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">402</td>
	<td class="source"><code>								 * @event SearchOverlay#search-results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">403</td>
	<td class="source"><code>								 * @type {Object}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">404</td>
	<td class="source"><code>								 * @property {Object[]} results The results returned by the search</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">405</td>
	<td class="source"><code>								 *  API</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">406</td>
	<td class="source"><code>								 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">407</td>
	<td class="source"><code>								self.emit( 'search-results', {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">408</td>
	<td class="source"><code>									results: data.results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">409</td>
	<td class="source"><code>								} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">410</td>
	<td class="source"><code>							}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">411</td>
	<td class="source"><code>						} ).promise( { abort: function () { xhr.abort(); } } );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">412</td>
	<td class="source"><code>					}, delay );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">413</td>
	<td class="source"><code>				} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">414</td>
	<td class="source"><code>					self.resetSearch();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">415</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">416</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">417</td>
	<td class="source"><code>				this.lastQuery = query;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">418</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">419</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">420</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">421</td>
	<td class="source"><code>		 * Clear results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">422</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">423</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">424</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">425</td>
	<td class="source"><code>		resetSearch: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">426</td>
	<td class="source"><code>			this.$spinner.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">427</td>
	<td class="source"><code>			this.$searchContent.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">428</td>
	<td class="source"><code>			this.$searchFeedback.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">429</td>
	<td class="source"><code>			this.$resultContainer.empty();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">430</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">431</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">432</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">433</td>
	<td class="source"><code>	M.define( 'mobile.search/SearchOverlay', SearchOverlay ); // resource-modules-disable-line</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">434</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">435</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">436</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialMobilediffScriptsInitJs" class="lint-result bg-error " data-group="f-43" data-problem-count="10" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.special.mobilediff.scripts/init.js
    </th>
    <th class="result-summary">
      10 problems (10 errors, 0 warnings)
    </th>
</tr>
<tr class="f-43 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-43"
								data-content="detailSummary-43"
								aria-controls="detailSummary-43"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-43"
								data-content="sourceCode-43"
								aria-controls="sourceCode-43"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-43">
				<div class="row"><div class="column">
	<h3 class="text-error">Top errors</h3>
	<table class="summary-table"><thead>
		<tr>
			<th>rule</th>
			<th>count</th>
		</tr>
	</thead><tbody>
		<tr>
	<td><strong>jquery/no-closest</strong> <small>(Prefer closest to $.closest)</small></td>
	<td>2</td>
</tr>

<tr>
	<td><strong>jquery/no-text</strong> <small>(Prefer textContent to $.text)</small></td>
	<td>2</td>
</tr>

<tr>
	<td><strong>jquery/no-ready</strong> <small>($.ready is not allowed)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-hide</strong> <small>($.hide is not allowed)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-attr</strong> <small>(Prefer getAttribute to $.attr)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-prop</strong> <small>(Prefer direct property access to $.prop)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-class</strong> <small>(Prefer classList to $.addClass)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-show</strong> <small>($.show is not allowed)</small></td>
	<td>1</td>
</tr>

	</tbody></table>
</div>
</div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 16, Column 2: "$.ready is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-ready" target="_blank">jquery/no-ready</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 28, Column 4: "$.hide is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-hide" target="_blank">jquery/no-hide</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 30, Column 11: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 40, Column 5: "Prefer closest to $.closest"
		<a href="http://eslint.org/docs/rules/jquery/no-closest" target="_blank">jquery/no-closest</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 41, Column 6: "Prefer textContent to $.text"
		<a href="http://eslint.org/docs/rules/jquery/no-text" target="_blank">jquery/no-text</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 41, Column 6: "Prefer direct property access to $.prop"
		<a href="http://eslint.org/docs/rules/jquery/no-prop" target="_blank">jquery/no-prop</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 41, Column 6: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 44, Column 14: "Prefer textContent to $.text"
		<a href="http://eslint.org/docs/rules/jquery/no-text" target="_blank">jquery/no-text</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 44, Column 14: "Prefer closest to $.closest"
		<a href="http://eslint.org/docs/rules/jquery/no-closest" target="_blank">jquery/no-closest</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 59, Column 5: "$.show is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-show" target="_blank">jquery/no-show</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-43">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>/* global jQuery */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>/*!</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code> * Animate patrol links to use asynchronous API requests to</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code> * patrol pages, rather than navigating to a different URI.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code> *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code> * @author Florian Schmidt &#60;florian.schmidt.welzow@t-online.de&#62;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code> */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>( function ( M, $ ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>	var user = mw.user;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	if ( !user.tokens.exists( 'patrolToken' ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>		// Current user has no patrol right, or an old cached version of user.tokens</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>		// that didn't have patrolToken yet.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>		return;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 16, Column 2: "$.ready is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-ready" target="_blank">jquery/no-ready</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">16</td>
	<td class="source"><code>	$( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>		var $patrolLinks = $( '.patrollink a' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>			Icon = M.require( 'mobile.startup/Icon' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>			toast = M.require( 'mobile.startup/toast' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>			$spinner = $( new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>				name: 'spinner',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>				additionalClassNames: 'savespinner loading'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>			} ).toHtmlString() ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>			href, rcid, apiRequest;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>		$patrolLinks.on( 'click', function ( e ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>			// Hide the link show a spinner instead.</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 28, Column 4: "$.hide is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-hide" target="_blank">jquery/no-hide</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">28</td>
	<td class="source"><code>			$( e.target ).hide().after( $spinner );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 30, Column 11: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">30</td>
	<td class="source"><code>			href = $( this ).attr( 'href' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>			rcid = mw.util.getParamValue( 'rcid', href );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>			apiRequest = new mw.Api();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>			apiRequest.postWithToken( 'patrol', {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>				action: 'patrol',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>				rcid: rcid</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>			} ).then( function ( data ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>				var title;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>				// Disable all patrollinks from the page.</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 40, Column 5: "Prefer closest to $.closest"
		<a href="http://eslint.org/docs/rules/jquery/no-closest" target="_blank">jquery/no-closest</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">40</td>
	<td class="source"><code>				$patrolLinks.closest( '.patrollink' ).replaceWith(</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 41, Column 6: "Prefer textContent to $.text"
		<a href="http://eslint.org/docs/rules/jquery/no-text" target="_blank">jquery/no-text</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 41, Column 6: "Prefer direct property access to $.prop"
		<a href="http://eslint.org/docs/rules/jquery/no-prop" target="_blank">jquery/no-prop</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 41, Column 6: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">41</td>
	<td class="source"><code>					$( '&#60;button&#62;' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>						.addClass( 'mw-ui-button patrollink' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>						.prop( 'disabled', true )</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 44, Column 14: "Prefer textContent to $.text"
		<a href="http://eslint.org/docs/rules/jquery/no-text" target="_blank">jquery/no-text</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 44, Column 14: "Prefer closest to $.closest"
		<a href="http://eslint.org/docs/rules/jquery/no-closest" target="_blank">jquery/no-closest</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">44</td>
	<td class="source"><code>						.text( $patrolLinks.closest( '.patrollink' ).text() )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>				);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>				$spinner.remove();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>				if ( data.patrol !== undefined ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>					// Success</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>					title = new mw.Title( data.patrol.title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>					toast.show( mw.msg( 'markedaspatrollednotify', title.toText() ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>				} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>					// This should never happen as errors should trigger fail</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>					toast.show( mw.msg( 'markedaspatrollederrornotify' ), 'error' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>			}, function ( error ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>				$spinner.remove();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>				// Restore the patrol link. This allows the user to try again</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>				// (or open it in a new window, bypassing this ajax module).</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 59, Column 5: "$.show is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-show" target="_blank">jquery/no-show</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">59</td>
	<td class="source"><code>				$patrolLinks.show();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>				if ( error === 'noautopatrol' ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>					// Can't patrol own</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>					toast.show( mw.msg( 'markedaspatrollederror-noautopatrol' ), 'warn' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>				} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>					toast.show( mw.msg( 'markedaspatrollederrornotify' ), 'error' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>			e.preventDefault();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>}( mw.mobileFrontend, jQuery ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialMobileoptionsScriptsMobileoptionsJs" class="lint-result bg-error " data-group="f-44" data-problem-count="7" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.special.mobileoptions.scripts/mobileoptions.js
    </th>
    <th class="result-summary">
      7 problems (7 errors, 0 warnings)
    </th>
</tr>
<tr class="f-44 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-44"
								data-content="detailSummary-44"
								aria-controls="detailSummary-44"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-44"
								data-content="sourceCode-44"
								aria-controls="sourceCode-44"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-44">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 29, Column 18: "Prefer textContent to $.text"
		<a href="http://eslint.org/docs/rules/jquery/no-text" target="_blank">jquery/no-text</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 31, Column 4: "Prefer textContent to $.text"
		<a href="http://eslint.org/docs/rules/jquery/no-text" target="_blank">jquery/no-text</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 132, Column 3: "$.hide is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-hide" target="_blank">jquery/no-hide</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 139, Column 4: "Prefer setAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 149, Column 4: "Prefer direct property access to $.prop"
		<a href="http://eslint.org/docs/rules/jquery/no-prop" target="_blank">jquery/no-prop</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 149, Column 4: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 157, Column 5: "Prefer dispatchEvent + form.submit() to $.submit"
		<a href="http://eslint.org/docs/rules/jquery/no-submit" target="_blank">jquery/no-submit</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-44">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>/* global jQuery */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>( function ( M, $ ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	var storage = mw.storage,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		browser = M.require( 'mobile.startup/Browser' ).getSingleton(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		toast = M.require( 'mobile.startup/toast' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		EXPAND_SECTIONS_KEY = 'expandSections',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		msg = mw.msg,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		FONT_SIZE_KEY = 'userFontSize';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	 * Notifies the user that settings were asynchronously saved.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * @param {boolean} isPending if set toast will show after page has been reloaded.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	function notify( isPending ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>		if ( isPending ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>			toast.showOnPageReload( msg( 'mobile-frontend-settings-save' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>		} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>			toast.show( msg( 'mobile-frontend-settings-save' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>	 * Creates a label for use with a form input</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>	 * @param {string} heading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>	 * @param {string} description</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>	 * @return {OO.ui.LabelWidget}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>	function createLabel( heading, description ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>		var $label = $( '&#60;div&#62;' );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 29, Column 18: "Prefer textContent to $.text"
		<a href="http://eslint.org/docs/rules/jquery/no-text" target="_blank">jquery/no-text</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">29</td>
	<td class="source"><code>		$label.append( $( '&#60;strong&#62;' ).text( heading ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>		$label.append(</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 31, Column 4: "Prefer textContent to $.text"
		<a href="http://eslint.org/docs/rules/jquery/no-text" target="_blank">jquery/no-text</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">31</td>
	<td class="source"><code>			$( '&#60;div class="option-description"&#62;' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>				.text( description )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>		return new OO.ui.LabelWidget( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>			label: $label</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>	 * Adds a font changer field to the form</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>	 * @param {jQuery.Object} $form</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>	function addFontChangerToForm( $form ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>		var fontChanger, fontChangerDropdown,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>			currentFontSize = storage.get( FONT_SIZE_KEY );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>		fontChangerDropdown = new OO.ui.DropdownInputWidget( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>			value: currentFontSize || 'regular',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>			options: [</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>				{</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>					data: 'small',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>					label: msg( 'mobile-frontend-fontchanger-option-small' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>				},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>				{</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>					data: 'regular',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>					label: msg( 'mobile-frontend-fontchanger-option-medium' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>				},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>				{</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>					data: 'large',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>					label: msg( 'mobile-frontend-fontchanger-option-large' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>				},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>				{</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>					data: 'x-large',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>					label: msg( 'mobile-frontend-fontchanger-option-xlarge' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>			]</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		fontChanger = new OO.ui.FieldLayout(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>			fontChangerDropdown,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>			{</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>				label: createLabel( mw.msg( 'mobile-frontend-fontchanger-link' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>					mw.msg( 'mobile-frontend-fontchanger-desc' ) ).$element</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>		);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>		fontChangerDropdown.on( 'change', function ( value ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>			storage.set( FONT_SIZE_KEY, value );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>			notify();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>		fontChanger.$element.prependTo( $form );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>	 * Adds an expand all sections field to the form</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>	 * @param {jQuery.Object} $form</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>	function addExpandAllSectionsToForm( $form ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>		var cb, cbField;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>		cb = new OO.ui.ToggleSwitchWidget( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>			name: EXPAND_SECTIONS_KEY,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>			value: storage.get( EXPAND_SECTIONS_KEY ) === 'true'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>		cbField = new OO.ui.FieldLayout(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>			cb,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>			{</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>				label: createLabel(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>					mw.msg( 'mobile-frontend-expand-sections-status' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>					mw.msg( 'mobile-frontend-expand-sections-description' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>				).$element</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>		);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>		cb.on( 'change', function ( value ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>			storage.set( EXPAND_SECTIONS_KEY, value ? 'true' : 'false' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>			notify();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>		cbField.$element.prependTo( $form );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>	 * Add features, that depends on localStorage, such as "exapnd all sections" or "fontchanger".</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>	 * The checkbox is used for turning on/off expansion of all sections on page load.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>	function initLocalStorageElements() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>		var toggleSwitch,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>			enableToggle = OO.ui.infuse( $( '#enable-beta-toggle' ) ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>			$checkbox = enableToggle.$element,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>			$form = $( '#mobile-options' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>		toggleSwitch = new OO.ui.ToggleSwitchWidget( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>			value: enableToggle.isSelected()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>		// Strangely the ToggleSwitchWidget does not behave as an input so any change</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>		// to it is not reflected in the form. (see T182466)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>		// Ideally we'd replaceWith here and not have to hide the original element.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>		toggleSwitch.$element.insertAfter( $checkbox );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>		// although the checkbox is hidden already, that is done via visibility</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>		// as a result, it still takes up space. We don't want it to any more now that the</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>		// new toggle switch has been added.</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 132, Column 3: "$.hide is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-hide" target="_blank">jquery/no-hide</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">132</td>
	<td class="source"><code>		$checkbox.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code>		// listening on checkbox change is required to make the clicking on label working. Otherwise</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>		// clicking on label changes the checkbox "checked" state</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>		// but it's not reflected in the toggle switch</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>		$checkbox.on( 'change', function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>			// disable checkbox as submit is delayed by 0.25s</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 139, Column 4: "Prefer setAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">139</td>
	<td class="source"><code>			$checkbox.attr( 'disabled', true );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>			toggleSwitch.setValue( enableToggle.isSelected() );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>		toggleSwitch.on( 'change', function ( value ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>			// ugly hack, we're delaying submit form by 0.25s</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>			// and we want to disable registering clicks</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>			// we want to disable the toggleSwitch</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>			// but we cannot use setDisabled(true) as it makes button gray</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>			toggleSwitch.setValue = function () {};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 149, Column 4: "Prefer direct property access to $.prop"
		<a href="http://eslint.org/docs/rules/jquery/no-prop" target="_blank">jquery/no-prop</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 149, Column 4: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">149</td>
	<td class="source"><code>			$checkbox.find( 'input' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>				.prop( 'checked', value );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>			notify( true );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>			// On some Android devices animation gets stuck in the middle as browser</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>			// starts submitting the form.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>			// Let's call submit on the form after toggle button transition is done</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>			// (0.25s, defined in OOUI)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>			setTimeout( function () {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 157, Column 5: "Prefer dispatchEvent + form.submit() to $.submit"
		<a href="http://eslint.org/docs/rules/jquery/no-submit" target="_blank">jquery/no-submit</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">157</td>
	<td class="source"><code>				$form.submit();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>			}, 250 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code>		if ( mw.config.get( 'wgMFExpandAllSectionsUserOption' ) &&</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>			// Don't show this option on large screens since it's only honored for small screens.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code>			// This logic should be kept in sync with Toggle._enable().</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>			!browser.isWideScreen()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>		) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>			addExpandAllSectionsToForm( $form );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">168</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">169</td>
	<td class="source"><code>		if ( mw.config.get( 'wgMFEnableFontChanger' ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code>			addFontChangerToForm( $form );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">173</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code>	mw.loader.using( 'oojs-ui-widgets' ).then( initLocalStorageElements );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code>}( mw.mobileFrontend, jQuery ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">176</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialNearbyScriptsNearbyJs" class="lint-result bg-error " data-group="f-45" data-problem-count="2" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.special.nearby.scripts/nearby.js
    </th>
    <th class="result-summary">
      2 problems (2 errors, 0 warnings)
    </th>
</tr>
<tr class="f-45 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-45"
								data-content="detailSummary-45"
								aria-controls="detailSummary-45"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-45"
								data-content="sourceCode-45"
								aria-controls="sourceCode-45"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-45">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 22, Column 23: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 33, Column 3: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-45">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>/* global jQuery */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>( function ( M, config, msg, loader, $ ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	/** @event */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>	var NEARBY_EVENT_POST_RENDER = 'Nearby-postRender',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		LocationProvider = M.require( 'mobile.nearby/LocationProvider' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		LoadingOverlay = mw.mobileFrontend.require( 'mobile.startup/LoadingOverlay' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		endpoint = config.get( 'wgMFNearbyEndpoint' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		router = require( 'mediawiki.router' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>		Nearby = M.require( 'mobile.nearby/Nearby' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>		$infoContainer = $( '#mf-nearby-info-holder' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>		nearby,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>		options = {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>			el: $( '#mw-mf-nearby' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>			funnel: 'nearby',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>			onItemClick: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>				if ( !util.isModifiedEvent( ev ) && !isPageOrCoordFragment( router.getPath() ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>					// Change the URL fragment to the clicked element so that back</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>					// navigation can retain the item position. This behavior is</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>					// unwanted for results displayed around a page or coordinate since</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>					// that information is stored in the hash and would be overwritten.</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 22, Column 23: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">22</td>
	<td class="source"><code>					router.navigate( $( this ).attr( 'id' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>		overlay = new LoadingOverlay();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>	 * Show the title and hide the info container</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>	function hideInitialScreen() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>		$infoContainer.remove();</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 33, Column 3: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">33</td>
	<td class="source"><code>		$( 'body' ).removeClass( 'nearby-accept-pending' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>	 * @param {string} fragment The URL fragment.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>	 * @return {boolean} True if the current URL is based around page or</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>	 *                   coordinates (as opposed to current location or search).</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>	 *                   e.g.: Special:Nearby#/page/San_Francisco and</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>	 *                   Special:Nearby#/coord/0,0.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>	function isPageOrCoordFragment( fragment ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>		return fragment.match( /^(\/page|\/coord)/ );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>	 * @param {string} fragment The URL fragment.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>	 * @return {boolean} True if the current URL doesn't contain an invalid</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>	 *                   identifier expression, such as the slash in</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>	 *                   Special:Nearby#/search, and probably contains the</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>	 *                   target identifier to scroll to.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>	function isFragmentIdentifier( fragment ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>		return fragment && fragment.indexOf( '/' ) === -1;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>	 * Initialize or instantiate Nearby with options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>	 * @param {Object} opt</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>	function refresh( opt ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>		// check, if the api object (options.api) is already created and set</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>		if ( options.api === undefined ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>			// decide, what api module to use to retrieve the pages</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>			if ( endpoint ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>				loader.using( 'mobile.foreignApi' ).then( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>					var JSONPForeignApi = M.require( 'mobile.foreignApi/JSONPForeignApi' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>					options.api = new JSONPForeignApi( endpoint );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>				options.api = new mw.Api();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>		// make sure, that the api object (if created above) is added to the options object used</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>		// in the Nearby module</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>		opt = util.extend( {}, opt, options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>		if ( !nearby ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>			nearby = new Nearby( opt );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>			// todo: use the local emitter when refresh() doesn't recreate the</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>			//       OO.EventEmitter by calling the super's constructor.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>			M.on( NEARBY_EVENT_POST_RENDER, function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>				var fragment = router.getPath(), el;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>				if ( isFragmentIdentifier( fragment ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>					// The hash is expected to be an identifier selector (unless the</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>					// user entered rubbish).</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>					el = nearby.$( '#' + fragment );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>					if ( el[0] && el[0].nodeType ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>						$( window ).scrollTop( el.offset().top );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>				overlay.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>		nearby.refresh( opt );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>	// Routing on the nearby view</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>	/*</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>	 * #/coords/lat,long</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>	router.route( /^\/coord\/(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)/, function ( lat, lon ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>		// TODO this is bad, route shouldn't have side effects but otherwise mediawiki router</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>		// cannot refresh the page. We need to store those so when user hits $refreshButton</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>		// we reload the results</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>		options.latitude = lat;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>		options.longitude = lon;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>		hideInitialScreen();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>		// Search with coordinates</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>		refresh( options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>	/*</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>	 * #/page/PageTitle</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>	router.route( /^\/page\/(.+)$/, function ( pageTitle ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>		hideInitialScreen();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>		overlay.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>		refresh( util.extend( {}, options, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>			pageTitle: mw.Uri.decode( pageTitle )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>		} ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>	router.checkRoute();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>	$( '#showArticles' ).on( 'click', function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>		overlay.show();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>		LocationProvider.getCurrentPosition().then( function ( geo ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>			router.navigate( '#/coord/' + geo.latitude + ',' + geo.longitude );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>		} ).catch( function ( error ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>			overlay.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>			// We want to show the Alert dialog to make sure user sees it</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code>			switch ( error ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>				case 'permission':</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>					// eslint-disable-next-line no-alert</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>					alert( msg( 'mobile-frontend-nearby-permission-denied' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>					break;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>				case 'location':</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>					// eslint-disable-next-line no-alert</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>					alert( msg( 'mobile-frontend-nearby-location-unavailable' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>					break;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>				default:</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>					// timeout or undefined, do nothing for now</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>}( mw.mobileFrontend, mw.config, mw.msg, mw.loader, jQuery ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialUploadsScriptsUploadsJs" class="lint-result bg-error " data-group="f-46" data-problem-count="2" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.special.uploads.scripts/uploads.js
    </th>
    <th class="result-summary">
      2 problems (2 errors, 0 warnings)
    </th>
</tr>
<tr class="f-46 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-46"
								data-content="detailSummary-46"
								aria-controls="detailSummary-46"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-46"
								data-content="sourceCode-46"
								aria-controls="sourceCode-46"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-46">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 31, Column 5: "$.ready is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-ready" target="_blank">jquery/no-ready</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 36, Column 4: "$.ready is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-ready" target="_blank">jquery/no-ready</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-46">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>/* global jQuery */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>( function ( M, $ ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	var</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		user = M.require( 'mobile.startup/user' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		PhotoList = M.require( 'mobile.gallery/PhotoList' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		pageParams = mw.config.get( 'wgPageName' ).split( '/' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		currentUserName = user.getName(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		corsUrl = mw.config.get( 'wgMFPhotoUploadEndpoint' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>		userName = pageParams[1] ? pageParams[1] : currentUserName;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * Initialise a photo upload button at the top of the page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 * @param {mw.Api} api</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	function init( api ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>		// check there are no errors on the page before attempting</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>		// we might have an invalid username</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>		if ( $( '.errorbox' ).length === 0 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>			new PhotoList( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>				api: api,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>				username: userName</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>			} ).appendTo( '#mw-content-text .content' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>	// Assume we are on the special page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>	if ( userName ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>		if ( corsUrl ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>			mw.loader.using( 'mobile.foreignApi' ).then( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>				var JSONPForeignApi = M.require( 'mobile.foreignApi/JSONPForeignApi' );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 31, Column 5: "$.ready is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-ready" target="_blank">jquery/no-ready</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">31</td>
	<td class="source"><code>				$( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>					init( new JSONPForeignApi( corsUrl ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>		} else {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 36, Column 4: "$.ready is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-ready" target="_blank">jquery/no-ready</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">36</td>
	<td class="source"><code>			$( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>				init( new mw.Api() );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>}( mw.mobileFrontend, jQuery ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialUserloginScriptsUserloginJs" class="lint-result bg-error " data-group="f-47" data-problem-count="2" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.special.userlogin.scripts/userlogin.js
    </th>
    <th class="result-summary">
      2 problems (2 errors, 0 warnings)
    </th>
</tr>
<tr class="f-47 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-47"
								data-content="detailSummary-47"
								aria-controls="detailSummary-47"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-47"
								data-content="sourceCode-47"
								aria-controls="sourceCode-47"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-47">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 5, Column 2: "$.ready is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-ready" target="_blank">jquery/no-ready</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 6, Column 3: "Prefer direct property access to $.prop"
		<a href="http://eslint.org/docs/rules/jquery/no-prop" target="_blank">jquery/no-prop</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-47">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>/* global jQuery */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>( function ( $ ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	// Most people on mobile devices are on a personal device so this property should be assumed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>	// To be consistent across platforms do same on desktop</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 5, Column 2: "$.ready is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-ready" target="_blank">jquery/no-ready</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">5</td>
	<td class="source"><code>	$( function () {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 6, Column 3: "Prefer direct property access to $.prop"
		<a href="http://eslint.org/docs/rules/jquery/no-prop" target="_blank">jquery/no-prop</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">6</td>
	<td class="source"><code>		$( '#wpRemember' ).prop( 'checked', true );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>}( jQuery ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileSpecialWatchlistScriptsWatchlistJs" class="lint-result bg-error " data-group="f-48" data-problem-count="3" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.special.watchlist.scripts/watchlist.js
    </th>
    <th class="result-summary">
      3 problems (3 errors, 0 warnings)
    </th>
</tr>
<tr class="f-48 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-48"
								data-content="detailSummary-48"
								aria-controls="detailSummary-48"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-48"
								data-content="sourceCode-48"
								aria-controls="sourceCode-48"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-48">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 28, Column 2: "$.ready is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-ready" target="_blank">jquery/no-ready</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 30, Column 11: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 31, Column 13: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-48">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>/* global jQuery */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>( function ( M, $ ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	var WatchList = M.require( 'mobile.watchlist/WatchList' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		VIEW_OPTION_NAME = 'mfWatchlistView',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		userOptions = mw.user.options.get(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		FILTER_OPTION_NAME = 'mfWatchlistFilter';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>	 * Initialises JavaScript on Special:Watchlist</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	function init() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>		var $watchlist = $( 'ul.page-list' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>		// FIXME: find more elegant way to not show watchlist stars on recent changes</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>		if ( $( '.mw-mf-watchlist-selector' ).length === 0 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>			// eslint-disable-next-line no-new</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>			new WatchList( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>				api: new mw.Api(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>				el: $watchlist,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>				funnel: 'watchlist',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>				skipTemplateRender: true</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>		// not needed now we have JS view which has infinite scrolling</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>		$( '.more' ).remove();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 28, Column 2: "$.ready is not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-ready" target="_blank">jquery/no-ready</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">28</td>
	<td class="source"><code>	$( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>		var api = new mw.Api(),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 30, Column 11: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">30</td>
	<td class="source"><code>			view = $( '.button-bar .is-on a' ).data( 'view' ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 31, Column 13: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">31</td>
	<td class="source"><code>			filter = $( '.mw-mf-watchlist-selector .selected a' ).data( 'filter' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		init();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>		// Only save if the value has changed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>		if ( view !== userOptions[VIEW_OPTION_NAME] ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>			api.saveOption( VIEW_OPTION_NAME, view );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		if ( filter && filter !== userOptions[FILTER_OPTION_NAME] ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>			api.saveOption( FILTER_OPTION_NAME, filter );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>}( mw.mobileFrontend, jQuery ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupAnchorJs" class="lint-result bg-success hidden" data-group="f-49" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/Anchor.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupButtonJs" class="lint-result bg-success hidden" data-group="f-50" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/Button.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupCtaDrawerJs" class="lint-result bg-success hidden" data-group="f-51" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/CtaDrawer.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupDrawerJs" class="lint-result bg-success hidden" data-group="f-52" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/Drawer.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupIconJs" class="lint-result bg-success hidden" data-group="f-53" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/Icon.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupIconsJs" class="lint-result bg-success hidden" data-group="f-54" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/icons.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupLoadingOverlayJs" class="lint-result bg-success hidden" data-group="f-55" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/LoadingOverlay.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupOverlayJs" class="lint-result bg-error " data-group="f-56" data-problem-count="3" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/Overlay.js
    </th>
    <th class="result-summary">
      3 problems (3 errors, 0 warnings)
    </th>
</tr>
<tr class="f-56 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-56"
								data-content="detailSummary-56"
								aria-controls="detailSummary-56"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-56"
								data-content="sourceCode-56"
								aria-controls="sourceCode-56"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-56">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 248, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 254, Column 5: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 283, Column 5: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-56">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	var View = M.require( 'mobile.startup/View' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		Icon = M.require( 'mobile.startup/Icon' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		Button = M.require( 'mobile.startup/Button' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		Anchor = M.require( 'mobile.startup/Anchor' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		icons = M.require( 'mobile.startup/icons' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>		browser = M.require( 'mobile.startup/Browser' ).getSingleton();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * Mobile modal window</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 * @class Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 * @extends View</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 * @uses Icon</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	 * @uses Button</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	 * @fires Overlay#Overlay-exit</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>	 * @fires Overlay#hide</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>	function Overlay() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>		this.isIos = browser.isIos();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>		this.useVirtualKeyboardHack = browser.isIos( 4 ) || browser.isIos( 5 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>		// Set to true when overlay has failed to load</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>		this.hasLoadError = false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>		View.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>	OO.mfExtend( Overlay, View, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>		 * Identify whether the element contains position fixed elements</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		 * @property {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>		hasFixedHeader: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		 * Is overlay fullscreen</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		 * @property {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>		fullScreen: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>		 * True if this.hide() should be invoked before firing the Overlay-exit</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>		 * event</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>		 * @property {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>		hideOnExitClick: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>		 * use '#mw-mf-viewport' rather than 'body' - for some reasons this has</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>		 * odd consequences on Opera Mobile (see bug 52361)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>		 * @property {string|jQuery.Object}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>		appendToElement: '#mw-mf-viewport',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>		 * Default class name</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>		 * @property {string}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>		className: 'overlay',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		templatePartials: {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>			header: mw.template.get( 'mobile.startup', 'header.hogan' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>			anchor: Anchor.prototype.template,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>			button: Button.prototype.template</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>		template: mw.template.get( 'mobile.startup', 'Overlay.hogan' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>		 * @mixes View#defaults</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>		 * @property {Object} defaults Default options hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>		 * @property {string} defaults.saveMessage Caption for save button on edit form.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>		 * @property {string} defaults.cancelButton HTML of the cancel button.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>		 * @property {string} defaults.backButton HTML of the back button.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>		 * @property {string} defaults.headerButtonsListClassName A comma separated string of class</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>		 * names of the wrapper of the header buttons.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>		 * @property {boolean} defaults.headerChrome Whether the header has chrome.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>		 * @property {boolean} defaults.fixedHeader Whether the header is fixed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>		 * @property {string} defaults.spinner HTML of the spinner icon.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>		 * @property {Object} [defaults.footerAnchor] options for an optional Anchor</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>		 *  that can appear in the footer</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>		defaults: {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>			saveMsg: mw.msg( 'mobile-frontend-editor-save' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>			cancelButton: new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>				tagName: 'button',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>				name: 'overlay-close',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>				additionalClassNames: 'cancel',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-overlay-close' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>			} ).toHtmlString(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>			backButton: new Icon( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>				tagName: 'button',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>				name: 'back',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>				additionalClassNames: 'back',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-overlay-close' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>			} ).toHtmlString(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>			headerButtonsListClassName: '',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>			headerChrome: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>			fixedHeader: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>			spinner: icons.spinner().toHtmlString()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>		events: {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>			// FIXME: Remove .initial-header selector when bug 71203 resolved.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>			'click .cancel, .confirm, .initial-header .back': 'onExitClick',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>			click: 'stopPropagation'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>		 * Flag overlay to close on content tap</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>		 * @property {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>		closeOnContentTap: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>		 * Shows the spinner right to the input field.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>		 * @method</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>		showSpinner: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code>			this.$spinner.removeClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>		 * Hide the spinner near to the input field.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>		 * @method</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>		hideSpinner: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>			this.$spinner.addClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>		postRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>			this.$overlayContent = this.$( '.overlay-content' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>			this.$spinner = this.$( '.spinner' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>			if ( this.isIos ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>				this.$el.addClass( 'overlay-ios' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>			// Truncate any text inside in the overlay header.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>			this.$( '.overlay-header h2 span' ).addClass( 'truncated-text' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code>			this.setupEmulatedIosOverlayScrolling();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>		 * Setups an emulated scroll behaviour for overlays in ios.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">168</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">169</td>
	<td class="source"><code>		setupEmulatedIosOverlayScrolling: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code>			var self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code>			if ( this.isIos && this.hasFixedHeader ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>				this.$( '.overlay-content' ).on( 'touchstart', this.onTouchStart.bind( this ) )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">173</td>
	<td class="source"><code>					.on( 'touchmove', this.onTouchMove.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code>				// wait for things to render before doing any calculations</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code>				setTimeout( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">176</td>
	<td class="source"><code>					self._fixIosHeader( self.$( 'textarea, input' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">177</td>
	<td class="source"><code>				}, 0 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">178</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">179</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">180</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">181</td>
	<td class="source"><code>		 * ClickBack event handler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">182</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">183</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">184</td>
	<td class="source"><code>		 * @param {Object} ev event object</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">185</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">186</td>
	<td class="source"><code>		onExitClick: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">187</td>
	<td class="source"><code>			ev.preventDefault();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">188</td>
	<td class="source"><code>			ev.stopPropagation();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">189</td>
	<td class="source"><code>			if ( this.hideOnExitClick ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">190</td>
	<td class="source"><code>				this.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">191</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">192</td>
	<td class="source"><code>			this.emit( Overlay.EVENT_EXIT );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">193</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">194</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">195</td>
	<td class="source"><code>		 * Event handler for touchstart, for IOS</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">196</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">197</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">198</td>
	<td class="source"><code>		 * @param {Object} ev Event Object</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">199</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">200</td>
	<td class="source"><code>		onTouchStart: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">201</td>
	<td class="source"><code>			this.startY = ev.originalEvent.touches[0].pageY;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">202</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">203</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">204</td>
	<td class="source"><code>		 * Event handler for touch move, for IOS</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">205</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">206</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">207</td>
	<td class="source"><code>		 * @param {Object} ev Event Object</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">208</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">209</td>
	<td class="source"><code>		onTouchMove: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">210</td>
	<td class="source"><code>			var</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">211</td>
	<td class="source"><code>				y = ev.originalEvent.touches[0].pageY,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">212</td>
	<td class="source"><code>				contentOuterHeight = this.$overlayContent.outerHeight(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">213</td>
	<td class="source"><code>				contentLength = this.$overlayContent.prop( 'scrollHeight' ) - contentOuterHeight;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">214</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">215</td>
	<td class="source"><code>			ev.stopPropagation();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">216</td>
	<td class="source"><code>			// prevent scrolling and bouncing outside of .overlay-content</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">217</td>
	<td class="source"><code>			if (</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">218</td>
	<td class="source"><code>				( this.$overlayContent.scrollTop() === 0 && this.startY &#60; y ) ||</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">219</td>
	<td class="source"><code>				( this.$overlayContent.scrollTop() === contentLength && this.startY &#62; y )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">220</td>
	<td class="source"><code>			) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">221</td>
	<td class="source"><code>				ev.preventDefault();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">222</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">223</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">224</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">225</td>
	<td class="source"><code>		 * Stop clicks in the overlay from propagating to the page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">226</td>
	<td class="source"><code>		 * (prevents non-fullscreen overlays from being closed when they're tapped)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">227</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">228</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">229</td>
	<td class="source"><code>		 * @param {Object} ev Event Object</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">230</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">231</td>
	<td class="source"><code>		stopPropagation: function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">232</td>
	<td class="source"><code>			ev.stopPropagation();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">233</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">234</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">235</td>
	<td class="source"><code>		 * Attach overlay to current view and show it.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">236</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">237</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">238</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">239</td>
	<td class="source"><code>		show: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">240</td>
	<td class="source"><code>			var self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">241</td>
	<td class="source"><code>				$html = util.getDocument(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">242</td>
	<td class="source"><code>				$window = util.getWindow();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">243</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">244</td>
	<td class="source"><code>			this.$el.appendTo( this.appendToElement );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">245</td>
	<td class="source"><code>			this.scrollTop = window.pageYOffset;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">246</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">247</td>
	<td class="source"><code>			if ( this.fullScreen ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 248, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">248</td>
	<td class="source"><code>				$html.addClass( 'overlay-enabled' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">249</td>
	<td class="source"><code>				// skip the URL bar if possible</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">250</td>
	<td class="source"><code>				window.scrollTo( 0, 1 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">251</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">252</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">253</td>
	<td class="source"><code>			if ( this.closeOnContentTap ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 254, Column 5: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">254</td>
	<td class="source"><code>				$html.find( '#mw-mf-page-center' ).one( 'click', this.hide.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">255</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">256</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">257</td>
	<td class="source"><code>			// prevent scrolling and bouncing outside of .overlay-content</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">258</td>
	<td class="source"><code>			if ( this.isIos && this.hasFixedHeader ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">259</td>
	<td class="source"><code>				$window</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">260</td>
	<td class="source"><code>					.on( 'touchmove.ios', function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">261</td>
	<td class="source"><code>						ev.preventDefault();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">262</td>
	<td class="source"><code>					} )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">263</td>
	<td class="source"><code>					.on( 'resize.ios', function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">264</td>
	<td class="source"><code>						self._resizeContent( $window.height() );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">265</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">266</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">267</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">268</td>
	<td class="source"><code>			this.$el.addClass( 'visible' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">269</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">270</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">271</td>
	<td class="source"><code>		 * Detach the overlay from the current view</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">272</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">273</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">274</td>
	<td class="source"><code>		 * @param {boolean} [force] Whether the overlay should be closed regardless of</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">275</td>
	<td class="source"><code>		 * state (see PhotoUploadProgress)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">276</td>
	<td class="source"><code>		 * @return {boolean} Whether the overlay was successfully hidden or not</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">277</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">278</td>
	<td class="source"><code>		hide: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">279</td>
	<td class="source"><code>			var $window = util.getWindow(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">280</td>
	<td class="source"><code>				$html = util.getDocument();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">281</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">282</td>
	<td class="source"><code>			if ( this.fullScreen ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 283, Column 5: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">283</td>
	<td class="source"><code>				$html.removeClass( 'overlay-enabled' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">284</td>
	<td class="source"><code>				// return to last known scroll position</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">285</td>
	<td class="source"><code>				window.scrollTo( window.pageXOffset, this.scrollTop );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">286</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">287</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">288</td>
	<td class="source"><code>			this.$el.detach();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">289</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">290</td>
	<td class="source"><code>			if ( this.isIos ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">291</td>
	<td class="source"><code>				$window.off( '.ios' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">292</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">293</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">294</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">295</td>
	<td class="source"><code>			 * Fired when the overlay is closed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">296</td>
	<td class="source"><code>			 * @event Overlay#hide</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">297</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">298</td>
	<td class="source"><code>			this.emit( 'hide' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">299</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">300</td>
	<td class="source"><code>			return true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">301</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">302</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">303</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">304</td>
	<td class="source"><code>		 * Fit the overlay content height to the window taking overlay header and footer heights</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">305</td>
	<td class="source"><code>		 * into consideration.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">306</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">307</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">308</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">309</td>
	<td class="source"><code>		 * @param {number} windowHeight The height of the window</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">310</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">311</td>
	<td class="source"><code>		_resizeContent: function ( windowHeight ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">312</td>
	<td class="source"><code>			this.$overlayContent.height(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">313</td>
	<td class="source"><code>				windowHeight -</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">314</td>
	<td class="source"><code>				this.$( '.overlay-header-container' ).outerHeight() -</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">315</td>
	<td class="source"><code>				this.$( '.overlay-footer-container' ).outerHeight()</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">316</td>
	<td class="source"><code>			);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">317</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">318</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">319</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">320</td>
	<td class="source"><code>		 * Resize .overlay-content to occupy 100% of screen space when virtual</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">321</td>
	<td class="source"><code>		 * keyboard is shown/hidden on iOS.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">322</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">323</td>
	<td class="source"><code>		 * This function supplements the custom styles for Overlays on iOS.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">324</td>
	<td class="source"><code>		 * On iOS we scroll the content inside of .overlay-content div instead</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">325</td>
	<td class="source"><code>		 * of scrolling the whole page to achieve a consistent sticky header</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">326</td>
	<td class="source"><code>		 * effect (position: fixed doesn't work on iOS when the virtual keyboard</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">327</td>
	<td class="source"><code>		 * is open).</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">328</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">329</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">330</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">331</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">332</td>
	<td class="source"><code>		 * @param {jQuery.Object} $el for elements that may trigger virtual</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">333</td>
	<td class="source"><code>		 * keyboard (usually inputs, textareas, contenteditables).</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">334</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">335</td>
	<td class="source"><code>		_fixIosHeader: function ( $el ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">336</td>
	<td class="source"><code>			var self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">337</td>
	<td class="source"><code>				$window = util.getWindow();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">338</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">339</td>
	<td class="source"><code>			if ( this.isIos ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">340</td>
	<td class="source"><code>				this._resizeContent( $window.height() );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">341</td>
	<td class="source"><code>				$el</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">342</td>
	<td class="source"><code>					.on( 'focus', function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">343</td>
	<td class="source"><code>						setTimeout( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">344</td>
	<td class="source"><code>							var keyboardHeight = 0;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">345</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">346</td>
	<td class="source"><code>							// detect virtual keyboard height</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">347</td>
	<td class="source"><code>							if ( self.useVirtualKeyboardHack ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">348</td>
	<td class="source"><code>								// this method does not work in iOS 8.02</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">349</td>
	<td class="source"><code>								$window.scrollTop( 999 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">350</td>
	<td class="source"><code>								keyboardHeight = $window.scrollTop();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">351</td>
	<td class="source"><code>								$window.scrollTop( 0 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">352</td>
	<td class="source"><code>							}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">353</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">354</td>
	<td class="source"><code>							if ( $window.height() &#62; keyboardHeight ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">355</td>
	<td class="source"><code>								self._resizeContent( $window.height() - keyboardHeight );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">356</td>
	<td class="source"><code>							}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">357</td>
	<td class="source"><code>						}, 0 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">358</td>
	<td class="source"><code>					} )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">359</td>
	<td class="source"><code>					.on( 'blur', function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">360</td>
	<td class="source"><code>						self._resizeContent( $window.height() );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">361</td>
	<td class="source"><code>						// restore the fixed header in view.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">362</td>
	<td class="source"><code>						$window.scrollTop( 0 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">363</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">364</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">365</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">366</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">367</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">368</td>
	<td class="source"><code>		 * Show elements that are selected by the className.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">369</td>
	<td class="source"><code>		 * Also hide .hideable elements</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">370</td>
	<td class="source"><code>		 * Can't use jQuery's hide() and show() because show() sets display: block.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">371</td>
	<td class="source"><code>		 * And we want display: table for headers.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">372</td>
	<td class="source"><code>		 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">373</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">374</td>
	<td class="source"><code>		 * @protected</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">375</td>
	<td class="source"><code>		 * @param {string} className CSS selector to show</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">376</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">377</td>
	<td class="source"><code>		showHidden: function ( className ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">378</td>
	<td class="source"><code>			this.$( '.hideable' ).addClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">379</td>
	<td class="source"><code>			this.$( className ).removeClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">380</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">381</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">382</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">383</td>
	<td class="source"><code>	/*</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">384</td>
	<td class="source"><code>	 * Fires when close button is clicked. Not to be confused with hide event.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">385</td>
	<td class="source"><code>	 * @memberof Overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">386</td>
	<td class="source"><code>	 * @event Overlay#Overlay-exit</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">387</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">388</td>
	<td class="source"><code>	Overlay.EVENT_EXIT = 'Overlay-exit';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">389</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">390</td>
	<td class="source"><code>	M.define( 'mobile.startup/Overlay', Overlay );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">391</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">392</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupOverlayManagerJs" class="lint-result bg-success hidden" data-group="f-57" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/OverlayManager.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupPageJs" class="lint-result bg-error " data-group="f-58" data-problem-count="12" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/Page.js
    </th>
    <th class="result-summary">
      12 problems (12 errors, 0 warnings)
    </th>
</tr>
<tr class="f-58 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-58"
								data-content="detailSummary-58"
								aria-controls="detailSummary-58"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-58"
								data-content="sourceCode-58"
								aria-controls="sourceCode-58"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-58">
				<div class="row"><div class="column">
	<h3 class="text-error">Top errors</h3>
	<table class="summary-table"><thead>
		<tr>
			<th>rule</th>
			<th>count</th>
		</tr>
	</thead><tbody>
		<tr>
	<td><strong>jquery/no-find</strong> <small>(Prefer querySelectorAll to $.find)</small></td>
	<td>6</td>
</tr>

<tr>
	<td><strong>jquery/no-attr</strong> <small>(Prefer getAttribute to $.attr)</small></td>
	<td>2</td>
</tr>

<tr>
	<td><strong>jquery/no-class</strong> <small>(Prefer classList to $.hasClass)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-each</strong> <small>(Prefer Array#forEach to $.each)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-parents</strong> <small>(Prefer closest to $.parents)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-data</strong> <small>(Prefer WeakMap to $.data)</small></td>
	<td>1</td>
</tr>

	</tbody></table>
</div>
</div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 166, Column 12: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 192, Column 9: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 196, Column 20: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 362, Column 15: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 365, Column 5: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 366, Column 15: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 367, Column 20: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 369, Column 15: "Prefer closest to $.parents"
		<a href="http://eslint.org/docs/rules/jquery/no-parents" target="_blank">jquery/no-parents</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 370, Column 8: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 371, Column 21: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 372, Column 15: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 379, Column 15: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-58">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( HTML, M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	var time = M.require( 'mobile.startup/time' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		View = M.require( 'mobile.startup/View' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		Section = M.require( 'mobile.startup/Section' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		Thumbnail = M.require( 'mobile.startup/Thumbnail' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		HEADING_SELECTOR = mw.config.get( 'wgMFMobileFormatterHeadings' ).join( ',' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>		BLACKLISTED_THUMBNAIL_CLASS_SELECTORS = [ 'noviewer', 'metadata' ];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * Mobile page view object</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 * @class Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 * @uses Section</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	 * @extends View</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>	 * @param {Object} options Configuration options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>	function Page( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>		var thumb;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>		// If thumbnail is not passed it should be made false (truthy) so that it</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>		// renders a placeholder when absent.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>		if ( options.thumbnail === undefined ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>			options.thumbnail = false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>		this.options = options;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>		options.languageUrl = mw.util.getUrl( 'Special:MobileLanguages/' + options.title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>		View.call( this, options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>		// Fallback if no displayTitle provided</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>		options.displayTitle = this.getDisplayTitle();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>		// allow usage in templates.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		// FIXME: Should View map all options to properties?</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>		this.title = options.title;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>		this.displayTitle = options.displayTitle;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>		this.thumbnail = options.thumbnail;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		this.url = options.url || mw.util.getUrl( options.title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		this.id = options.id;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		this.isMissing = options.isMissing !== undefined ? options.isMissing : options.id === 0;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		thumb = this.thumbnail;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>		if ( thumb && thumb.width ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>			this.thumbnail.isLandscape = thumb.width &#62; thumb.height;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>		this.wikidataDescription = options.wikidataDescription;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>	OO.mfExtend( Page, View, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>		 * @mixes View#defaults</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>		 * @property {Object} defaults Default options hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>		 * @property {number} defaults.id Page ID. The default value of 0 represents a</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>		 * new or missing page. Be sure to override it to avoid side effects.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>		 * @property {string} defaults.title Title of the page. It includes prefix where needed and</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>		 * is human readable, e.g. Talk:The man who lived.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>		 * @property {string} defaults.displayTitle HTML title of the page for display. Falls back</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>		 * to defaults.title (escaped) if no value is provided. Must be safe HTML!</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>		 * @property {number} defaults.namespaceNumber the number of the</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>		 *  namespace the page belongs to</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>		 * @property {Object} defaults.protection List of permissions as returned by API,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>		 * e.g. [{ edit: ['*'] }]</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>		 * @property {Array} defaults.sections Array of {Section} objects.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>		 * @property {boolean} defaults.isMainPage Whether the page is the Main Page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>		 * @property {boolean} defaults.isMissing Whether the page exists in the wiki.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>		 * @property {Object} defaults.thumbnail thumbnail definition corresponding to page image</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>		 * @property {boolean} defaults.thumbnail.isLandscape whether the image is in</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>		 *  landscape format</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		 * @property {number} defaults.thumbnail.width of image in pixels.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>		 * @property {number} defaults.thumbnail.height of image in pixels.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>		 * @property {string} defaults.thumbnail.source url for image</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>		defaults: {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>			id: 0,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>			title: '',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>			displayTitle: '',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>			namespaceNumber: 0,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>			protection: {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>				edit: [ '*' ]</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>			},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>			sections: [],</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>			isMissing: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>			isMainPage: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>			url: undefined,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>			thumbnail: {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>				isLandscape: undefined,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>				source: undefined,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>				width: undefined,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>				height: undefined</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>		isBorderBox: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>		 * Retrieve the title that should be displayed to the user</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>		 * @return {string} HTML</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>		getDisplayTitle: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>			return this.options.displayTitle || HTML.escape( this.options.title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>		 * Determine if current page is in a specified namespace</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>		 * @param {string} namespace Name of namespace</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>		 * @return {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>		inNamespace: function ( namespace ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>			return this.options.namespaceNumber === mw.config.get( 'wgNamespaceIds' )[namespace];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>		 * Find the heading in the page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>		 * This has the benefit of excluding any additional h2s and h3s that may</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>		 * have been added programatically.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>		 * @method</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>		 * @param {number} sectionIndex as defined by the PHP parser.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>		 *  It should correspond to the section id</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>		 *  used in the edit link for the section.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>		 *  Note, confusingly, this is different from section "ID" which is</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>		 * used in methods</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>		 * @return {jQuery.Object}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>		findSectionHeadingByIndex: function ( sectionIndex ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>			if ( sectionIndex &#60; 1 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>				// negative indexes will search from the end, which is behaviour we do not want.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>				// return an empty set when this happens.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code>				return this.$();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>				return this.$( HEADING_SELECTOR )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>					// Headings must strictly be a child element of a section element</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>					// or the parser-output.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>					// Not an ancestor!</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>					.filter( '.mw-parser-output &#62; *, [class^="mf-section-"] &#62; *' ).eq( sectionIndex - 1 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>		 * Finds all child elements that match the selector in a given section or subsection.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>		 * Returns any direct child elements that match the selector,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>		 * (i.e. searches only one level deep)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>		 * as well as any elements that match the selector within those children.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code>		 * If the Page has no headings (e.g. a stub),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>		 * then the search will target all nodes within the page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>		 * This code should work on desktop (PHP parser HTML)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>		 * as well as mobile formatted HTML (PHP parser + MobileFormatter)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>		 * @method</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>		 * @param {number} sectionIndex as defined by the PHP parser. It should correspond to</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>		 *  the section id used in the edit link for the section.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>		 *  Note, confusingly, this is different from section "ID" which is</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>		 *  used in methods</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>		 * @param {string} selector to match</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>		 * @return {jQuery.Object}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code>		findChildInSectionLead: function ( sectionIndex, selector ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>			var $heading, $nextHeading, $container, $lead,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code>				headingSelector = HEADING_SELECTOR;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>			function withNestedChildren( $matchingNodes ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 166, Column 12: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">166</td>
	<td class="source"><code>				return $matchingNodes.find( selector ).addBack();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">168</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">169</td>
	<td class="source"><code>			if ( sectionIndex === 0 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code>				// lead is easy</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code>				$lead = this.getLeadSectionElement();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>				if ( $lead && $lead.length ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">173</td>
	<td class="source"><code>					return withNestedChildren( $lead.children( selector ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code>				} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code>					$heading = this.findSectionHeadingByIndex( 1 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">176</td>
	<td class="source"><code>					return $heading.length ? withNestedChildren( $heading.prevAll( selector ) ) :</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">177</td>
	<td class="source"><code>						// this page is a stub so search entire page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">178</td>
	<td class="source"><code>						this.$( selector );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">179</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">180</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">181</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">182</td>
	<td class="source"><code>			// find heading associated with the section by looking at its</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">183</td>
	<td class="source"><code>			// index position in the article</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">184</td>
	<td class="source"><code>			// section ids relate to the element position in the page and the first heading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">185</td>
	<td class="source"><code>			// lead has been dealt with above, so first heading corresponds to section 1,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">186</td>
	<td class="source"><code>			// the first heading in the article.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">187</td>
	<td class="source"><code>			$heading = this.findSectionHeadingByIndex( sectionIndex );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">188</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">189</td>
	<td class="source"><code>			// If section-heading is present on the heading,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">190</td>
	<td class="source"><code>			// then we know the page has been MobileFormatted</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">191</td>
	<td class="source"><code>			// and that this is a wrapped section</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 192, Column 9: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">192</td>
	<td class="source"><code>			if ( $heading.hasClass( 'section-heading' ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">193</td>
	<td class="source"><code>				// get content of section</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">194</td>
	<td class="source"><code>				$container = $heading.next();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">195</td>
	<td class="source"><code>				// inside section find the first heading</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 196, Column 20: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">196</td>
	<td class="source"><code>				$nextHeading = $container.find( headingSelector ).eq( 0 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">197</td>
	<td class="source"><code>				return $nextHeading.length ?</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">198</td>
	<td class="source"><code>					// find all amboxes before the next heading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">199</td>
	<td class="source"><code>					withNestedChildren( $nextHeading.prevAll( selector ) ) :</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">200</td>
	<td class="source"><code>					// There is no subheadings inside</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">201</td>
	<td class="source"><code>					// Grab all issues in section</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">202</td>
	<td class="source"><code>					withNestedChildren( $container.children( selector ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">203</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">204</td>
	<td class="source"><code>				// the heading relates to a subsection (or unwrapped desktop section),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">205</td>
	<td class="source"><code>				// so grab elements between this and the next one</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">206</td>
	<td class="source"><code>				$nextHeading = $heading.eq( 0 ).nextAll( headingSelector ).eq( 0 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">207</td>
	<td class="source"><code>				return $heading.nextUntil( $nextHeading, selector );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">208</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">209</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">210</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">211</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">212</td>
	<td class="source"><code>		 * Get the lead section of the page view.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">213</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">214</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">215</td>
	<td class="source"><code>		 * @return {jQuery.Object|null}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">216</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">217</td>
	<td class="source"><code>		getLeadSectionElement: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">218</td>
	<td class="source"><code>			/*</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">219</td>
	<td class="source"><code>			 * The page is formatted as follows:</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">220</td>
	<td class="source"><code>			 * &#60;div id="bodyContent"&#62;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">221</td>
	<td class="source"><code>			 *   &#60;!-- content of the page.. --&#62;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">222</td>
	<td class="source"><code>			 *   &#60;div id="mw-content-text"&#62;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">223</td>
	<td class="source"><code>			 *     &#60;div class="mf-section-0"&#62;lead section&#60;/div&#62;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">224</td>
	<td class="source"><code>			 *     &#60;h2&#62;&#60;/h2&#62;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">225</td>
	<td class="source"><code>			 *     &#60;div class="mf-section-1"&#62;second section&#60;/div&#62;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">226</td>
	<td class="source"><code>			 *   &#60;/div&#62;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">227</td>
	<td class="source"><code>			 * &#60;/div&#62;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">228</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">229</td>
	<td class="source"><code>			if ( this.$( '.mf-section-0' ).length ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">230</td>
	<td class="source"><code>				return this.$( '.mf-section-0' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">231</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">232</td>
	<td class="source"><code>			// no lead section found</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">233</td>
	<td class="source"><code>			return null;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">234</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">235</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">236</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">237</td>
	<td class="source"><code>		 * Determines if content model is wikitext</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">238</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">239</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">240</td>
	<td class="source"><code>		 * @return {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">241</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">242</td>
	<td class="source"><code>		isWikiText: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">243</td>
	<td class="source"><code>			return mw.config.get( 'wgPageContentModel' ) === 'wikitext';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">244</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">245</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">246</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">247</td>
	<td class="source"><code>		 * Checks whether the current page is the main page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">248</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">249</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">250</td>
	<td class="source"><code>		 * @return {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">251</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">252</td>
	<td class="source"><code>		isMainPage: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">253</td>
	<td class="source"><code>			return this.options.isMainPage;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">254</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">255</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">256</td>
	<td class="source"><code>		 * Checks whether the current page is watched</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">257</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">258</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">259</td>
	<td class="source"><code>		 * @return {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">260</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">261</td>
	<td class="source"><code>		isWatched: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">262</td>
	<td class="source"><code>			return this.options.isWatched;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">263</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">264</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">265</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">266</td>
	<td class="source"><code>		 * Return the latest revision id for this page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">267</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">268</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">269</td>
	<td class="source"><code>		 * @return {number}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">270</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">271</td>
	<td class="source"><code>		getRevisionId: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">272</td>
	<td class="source"><code>			return this.options.revId;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">273</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">274</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">275</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">276</td>
	<td class="source"><code>		 * Return prefixed page title</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">277</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">278</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">279</td>
	<td class="source"><code>		 * @return {string}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">280</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">281</td>
	<td class="source"><code>		getTitle: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">282</td>
	<td class="source"><code>			return this.options.title;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">283</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">284</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">285</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">286</td>
	<td class="source"><code>		 * Return page id</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">287</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">288</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">289</td>
	<td class="source"><code>		 * @return {number}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">290</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">291</td>
	<td class="source"><code>		getId: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">292</td>
	<td class="source"><code>			return this.options.id;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">293</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">294</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">295</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">296</td>
	<td class="source"><code>		 * return namespace id</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">297</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">298</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">299</td>
	<td class="source"><code>		 * @return {number} namespace Number</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">300</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">301</td>
	<td class="source"><code>		getNamespaceId: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">302</td>
	<td class="source"><code>			var nsId,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">303</td>
	<td class="source"><code>				args = this.options.title.split( ':' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">304</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">305</td>
	<td class="source"><code>			if ( args[1] ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">306</td>
	<td class="source"><code>				nsId = mw.config.get( 'wgNamespaceIds' )[ args[0].toLowerCase().replace( ' ', '_' ) ] || 0;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">307</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">308</td>
	<td class="source"><code>				nsId = 0;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">309</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">310</td>
	<td class="source"><code>			return nsId;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">311</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">312</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">313</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">314</td>
	<td class="source"><code>		 * Determines if current page is a talk page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">315</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">316</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">317</td>
	<td class="source"><code>		 * @return {boolean} Whether the page is a talk page or not</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">318</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">319</td>
	<td class="source"><code>		isTalkPage: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">320</td>
	<td class="source"><code>			var ns = this.getNamespaceId();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">321</td>
	<td class="source"><code>			// all talk pages are odd Numbers (except the case of special pages)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">322</td>
	<td class="source"><code>			return ns &#62; 0 && ns % 2 === 1;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">323</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">324</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">325</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">326</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">327</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">328</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">329</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">330</td>
	<td class="source"><code>		preRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">331</td>
	<td class="source"><code>			this.sections = [];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">332</td>
	<td class="source"><code>			this._sectionLookup = {};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">333</td>
	<td class="source"><code>			this.title = this.options.title;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">334</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">335</td>
	<td class="source"><code>			this.options.sections.forEach( function ( sectionData ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">336</td>
	<td class="source"><code>				var section = new Section( sectionData );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">337</td>
	<td class="source"><code>				this.sections.push( section );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">338</td>
	<td class="source"><code>				this._sectionLookup[section.id] = section;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">339</td>
	<td class="source"><code>			}.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">340</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">341</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">342</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">343</td>
	<td class="source"><code>		 * Return all the thumbnails in the article.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">344</td>
	<td class="source"><code>		 * Images which have a class or link container (.image|.thumbimage)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">345</td>
	<td class="source"><code>		 * that matches one of the items of the constant BLACKLISTED_THUMBNAIL_CLASS_SELECTORS</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">346</td>
	<td class="source"><code>		 * will be excluded.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">347</td>
	<td class="source"><code>		 * A thumbnail nested inside one of these classes will still be returned.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">348</td>
	<td class="source"><code>		 * e.g. `&#60;div class="noviewer"&#62;&#60;a class="image"&#62;&#60;img&#62;&#60;/a&#62;&#60;/div&#62;` is not a valid thumbnail</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">349</td>
	<td class="source"><code>		 * `&#60;a class="image noviewer"&#62;&#60;img&#62;&#60;/a&#62;` is not a valid thumbnail</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">350</td>
	<td class="source"><code>		 * `&#60;a class="image"&#62;&#60;img class="noviewer"&#62;&#60;/a&#62;` is not a valid thumbnail</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">351</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">352</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">353</td>
	<td class="source"><code>		 * @return {Thumbnail[]}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">354</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">355</td>
	<td class="source"><code>		getThumbnails: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">356</td>
	<td class="source"><code>			var $thumbs,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">357</td>
	<td class="source"><code>				$el = this.$el,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">358</td>
	<td class="source"><code>				blacklistSelector = '.' + BLACKLISTED_THUMBNAIL_CLASS_SELECTORS.join( ',.' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">359</td>
	<td class="source"><code>				thumbs = [];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">360</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">361</td>
	<td class="source"><code>			if ( !this._thumbs ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 362, Column 15: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">362</td>
	<td class="source"><code>				$thumbs = $el.find( 'a.image, a.thumbimage' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">363</td>
	<td class="source"><code>					.not( blacklistSelector );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">364</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 365, Column 5: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">365</td>
	<td class="source"><code>				$thumbs.each( function () {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 366, Column 15: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">366</td>
	<td class="source"><code>					var $a = $el.find( this ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 367, Column 20: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">367</td>
	<td class="source"><code>						$lazyImage = $a.find( '.lazy-image-placeholder' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">368</td>
	<td class="source"><code>						// Parents need to be checked as well.</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 369, Column 15: "Prefer closest to $.parents"
		<a href="http://eslint.org/docs/rules/jquery/no-parents" target="_blank">jquery/no-parents</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">369</td>
	<td class="source"><code>						valid = $a.parents( blacklistSelector ).length === 0 &&</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 370, Column 8: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">370</td>
	<td class="source"><code>							$a.find( blacklistSelector ).length === 0,</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 371, Column 21: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">371</td>
	<td class="source"><code>						legacyMatch = $a.attr( 'href' ).match( /title=([^/&]+)/ ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 372, Column 15: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">372</td>
	<td class="source"><code>						match = $a.attr( 'href' ).match( /[^/]+$/ );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">373</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">374</td>
	<td class="source"><code>					// filter out invalid lazy loaded images if so far image is valid</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">375</td>
	<td class="source"><code>					if ( $lazyImage.length && valid ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">376</td>
	<td class="source"><code>						// if the regex matches it means the image has one of the classes</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">377</td>
	<td class="source"><code>						// thus we must invert the result</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">378</td>
	<td class="source"><code>						valid = !new RegExp( '\\b(' + BLACKLISTED_THUMBNAIL_CLASS_SELECTORS.join( '|' ) + ')\\b' )</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 379, Column 15: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">379</td>
	<td class="source"><code>							.test( $lazyImage.data( 'class' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">380</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">381</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">382</td>
	<td class="source"><code>					if ( valid && ( legacyMatch || match ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">383</td>
	<td class="source"><code>						thumbs.push(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">384</td>
	<td class="source"><code>							new Thumbnail( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">385</td>
	<td class="source"><code>								el: $a,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">386</td>
	<td class="source"><code>								filename: decodeURIComponent(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">387</td>
	<td class="source"><code>									legacyMatch ? legacyMatch[1] : match[0]</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">388</td>
	<td class="source"><code>								)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">389</td>
	<td class="source"><code>							} )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">390</td>
	<td class="source"><code>						);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">391</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">392</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">393</td>
	<td class="source"><code>				this._thumbs = thumbs;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">394</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">395</td>
	<td class="source"><code>			return this._thumbs;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">396</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">397</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">398</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">399</td>
	<td class="source"><code>		 * FIXME: Change function signature to take the anchor of the heading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">400</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">401</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">402</td>
	<td class="source"><code>		 * @param {string} id of the section as defined by MobileFormatter.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">403</td>
	<td class="source"><code>		 * Note, that currently, this is different from</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">404</td>
	<td class="source"><code>		 * the PHP parser in that it relates to top-level sections.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">405</td>
	<td class="source"><code>		 * For example, mf-section-1 would relate to section 1. See FIXME.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">406</td>
	<td class="source"><code>		 * @return {Section}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">407</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">408</td>
	<td class="source"><code>		getSection: function ( id ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">409</td>
	<td class="source"><code>			return this._sectionLookup[ id ];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">410</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">411</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">412</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">413</td>
	<td class="source"><code>		 * Obtain the list of high level (and grouped) sections.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">414</td>
	<td class="source"><code>		 * Note that this list will not include subsections.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">415</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">416</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">417</td>
	<td class="source"><code>		 * @return {Array} of Section instances</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">418</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">419</td>
	<td class="source"><code>		getSections: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">420</td>
	<td class="source"><code>			return this.sections;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">421</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">422</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">423</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">424</td>
	<td class="source"><code>		 * Returns a jQuery object representing all redlinks on the page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">425</td>
	<td class="source"><code>		 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">426</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">427</td>
	<td class="source"><code>		 * @return {jQuery.Object}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">428</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">429</td>
	<td class="source"><code>		getRedLinks: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">430</td>
	<td class="source"><code>			return this.$( '.new' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">431</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">432</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">433</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">434</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">435</td>
	<td class="source"><code>	 * Create a Page object from an API response.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">436</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">437</td>
	<td class="source"><code>	 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">438</td>
	<td class="source"><code>	 * @param {Object} resp as representing a page in the API</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">439</td>
	<td class="source"><code>	 * @return {Page}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">440</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">441</td>
	<td class="source"><code>	Page.newFromJSON = function ( resp ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">442</td>
	<td class="source"><code>		var revision, displayTitle,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">443</td>
	<td class="source"><code>			thumb = resp.thumbnail,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">444</td>
	<td class="source"><code>			pageprops = resp.pageprops || {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">445</td>
	<td class="source"><code>				displaytitle: HTML.escape( resp.title )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">446</td>
	<td class="source"><code>			},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">447</td>
	<td class="source"><code>			terms = resp.terms;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">448</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">449</td>
	<td class="source"><code>		if ( pageprops || terms ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">450</td>
	<td class="source"><code>			// The label is either the display title or the label pageprop</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">451</td>
	<td class="source"><code>			// (the latter used by Wikidata)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">452</td>
	<td class="source"><code>			// Long term we want to consolidate these.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">453</td>
	<td class="source"><code>			// Note that pageprops.displaytitle is HTML, while</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">454</td>
	<td class="source"><code>			// terms.label[0] is plain text.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">455</td>
	<td class="source"><code>			displayTitle = terms && terms.label ?</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">456</td>
	<td class="source"><code>				HTML.escape( terms.label[0] ) : pageprops.displaytitle;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">457</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">458</td>
	<td class="source"><code>		// Add Wikidata descriptions if available (T101719)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">459</td>
	<td class="source"><code>		resp.wikidataDescription = resp.description || undefined;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">460</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">461</td>
	<td class="source"><code>		if ( thumb ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">462</td>
	<td class="source"><code>			resp.thumbnail.isLandscape = thumb.width &#62; thumb.height;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">463</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">464</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">465</td>
	<td class="source"><code>		// page may or may not exist.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">466</td>
	<td class="source"><code>		if ( resp.revisions && resp.revisions[0] ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">467</td>
	<td class="source"><code>			revision = resp.revisions[0];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">468</td>
	<td class="source"><code>			resp.lastModified = time.getLastModifiedMessage(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">469</td>
	<td class="source"><code>				new Date( revision.timestamp ).getTime() / 1000,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">470</td>
	<td class="source"><code>				revision.user</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">471</td>
	<td class="source"><code>			);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">472</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">473</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">474</td>
	<td class="source"><code>		return new Page(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">475</td>
	<td class="source"><code>			util.extend( resp, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">476</td>
	<td class="source"><code>				id: resp.pageid,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">477</td>
	<td class="source"><code>				isMissing: !!resp.missing,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">478</td>
	<td class="source"><code>				url: mw.util.getUrl( resp.title ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">479</td>
	<td class="source"><code>				displayTitle: displayTitle // this is HTML!</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">480</td>
	<td class="source"><code>			} )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">481</td>
	<td class="source"><code>		);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">482</td>
	<td class="source"><code>	};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">483</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">484</td>
	<td class="source"><code>	 * Selector for matching headings</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">485</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">486</td>
	<td class="source"><code>	 * @memberof Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">487</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">488</td>
	<td class="source"><code>	Page.HEADING_SELECTOR = HEADING_SELECTOR;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">489</td>
	<td class="source"><code>	M.define( 'mobile.startup/Page', Page );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">490</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">491</td>
	<td class="source"><code>}( mw.html, mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">492</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupPageListJs" class="lint-result bg-success hidden" data-group="f-59" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/PageList.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupPanelJs" class="lint-result bg-success hidden" data-group="f-60" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/Panel.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupRlModuleLoaderJs" class="lint-result bg-success hidden" data-group="f-61" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/rlModuleLoader.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupSectionJs" class="lint-result bg-success hidden" data-group="f-62" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/Section.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupSkinJs" class="lint-result bg-error " data-group="f-63" data-problem-count="26" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/Skin.js
    </th>
    <th class="result-summary">
      26 problems (26 errors, 0 warnings)
    </th>
</tr>
<tr class="f-63 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-63"
								data-content="detailSummary-63"
								aria-controls="detailSummary-63"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-63"
								data-content="sourceCode-63"
								aria-controls="sourceCode-63"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-63">
				<div class="row"><div class="column">
	<h3 class="text-error">Top errors</h3>
	<table class="summary-table"><thead>
		<tr>
			<th>rule</th>
			<th>count</th>
		</tr>
	</thead><tbody>
		<tr>
	<td><strong>jquery/no-attr</strong> <small>(Prefer getAttribute to $.attr)</small></td>
	<td>9</td>
</tr>

<tr>
	<td><strong>jquery/no-class</strong> <small>(Prefer classList to $.addClass)</small></td>
	<td>6</td>
</tr>

<tr>
	<td><strong>jquery/no-find</strong> <small>(Prefer querySelectorAll to $.find)</small></td>
	<td>5</td>
</tr>

<tr>
	<td><strong>jquery/no-data</strong> <small>(Prefer WeakMap to $.data)</small></td>
	<td>2</td>
</tr>

<tr>
	<td><strong>jquery/no-parent</strong> <small>(Prefer parentElement to $.parent)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-sizzle</strong> <small>(Selector extensions are not allowed)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-is</strong> <small>(Prefer matches to $.is)</small></td>
	<td>1</td>
</tr>

<tr>
	<td><strong>jquery/no-each</strong> <small>(Prefer Array#forEach to $.each)</small></td>
	<td>1</td>
</tr>

	</tbody></table>
</div>
</div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 22, Column 14: "Prefer parentElement to $.parent"
		<a href="http://eslint.org/docs/rules/jquery/no-parent" target="_blank">jquery/no-parent</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 28, Column 9: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 28, Column 9: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 115, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 118, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 121, Column 16: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 144, Column 11: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 173, Column 8: "Selector extensions are not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-sizzle" target="_blank">jquery/no-sizzle</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 173, Column 8: "Prefer matches to $.is"
		<a href="http://eslint.org/docs/rules/jquery/no-is" target="_blank">jquery/no-is</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 242, Column 13: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 243, Column 14: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 251, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 260, Column 4: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 261, Column 14: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 264, Column 10: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 265, Column 10: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 266, Column 12: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 267, Column 13: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 311, Column 5: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 314, Column 10: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 315, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 323, Column 7: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 323, Column 7: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 325, Column 24: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 354, Column 7: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 365, Column 7: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-63">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>	var browser = M.require( 'mobile.startup/Browser' ).getSingleton(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		View = M.require( 'mobile.startup/View' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		Page = M.require( 'mobile.startup/Page' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		Deferred = util.Deferred,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		when = util.when,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>		icons = M.require( 'mobile.startup/icons' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>		viewport = mw.viewport,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>		spinner = icons.spinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 * Get the id of the section $el belongs to.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 * @param {jQuery.Object} $el</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	 * @return {string|null} either the anchor (id attribute of the section heading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	 *  or null if none found)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>	function getSectionId( $el ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>		var id,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>			hSelector = Page.HEADING_SELECTOR,</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 22, Column 14: "Prefer parentElement to $.parent"
		<a href="http://eslint.org/docs/rules/jquery/no-parent" target="_blank">jquery/no-parent</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">22</td>
	<td class="source"><code>			$parent = $el.parent(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>			// e.g. matches Subheading in</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>			// &#60;h2&#62;H&#60;/h2&#62;&#60;div&#62;&#60;h3 id="subheading"&#62;Subh&#60;/h3&#62;&#60;a class="element"&#62;&#60;/a&#62;&#60;/div&#62;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>			$heading = $el.prevAll( hSelector ).eq( 0 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>		if ( $heading.length ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 28, Column 9: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 28, Column 9: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">28</td>
	<td class="source"><code>			id = $heading.find( '.mw-headline' ).attr( 'id' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>			if ( id ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>				return id;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		if ( $parent.length ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>			// if we couldnt find a sibling heading, check the sibling of the parents</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>			// consider &#60;div&#62;&#60;h2 /&#62;&#60;div&#62;&#60;$el/&#62;&#60;/div&#62;&#60;/div&#62;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>			return getSectionId( $parent );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>			return null;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>	 * Representation of the current skin being rendered.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>	 * @class Skin</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>	 * @extends View</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>	 * @uses Browser</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>	 * @uses Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>	 * @fires Skin#click</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>	 * @fires Skin#references-loaded</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>	 * @fires Skin#changed</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>	 * @param {Object} options Configuration options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>	function Skin( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>		var self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>		this.page = options.page;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>		this.name = options.name;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>		if ( options.mainMenu ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>			this.mainMenu = options.mainMenu;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>			mw.log.warn( 'Skin: Use of mainMenu is deprecated.' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>		View.call( this, options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>		this.referencesGateway = options.referencesGateway;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>		if (</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>			mw.config.get( 'wgMFLazyLoadImages' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>		) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>			util.docReady( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>				self.setupImageLoading();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>		if ( mw.config.get( 'wgMFLazyLoadReferences' ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>			M.on( 'before-section-toggled', this.lazyLoadReferences.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>	OO.mfExtend( Skin, View, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code>		 * Skin contains components that we do not control</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>		 * @memberof Skin</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>		isBorderBox: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>		 * @memberof Skin</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>		 * @mixes View#defaults</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>		 * @property {Object} defaults Default options hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>		 * @property {Page} defaults.page page the skin is currently rendering</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>		 * @property {ReferencesGateway} defaults.referencesGateway instance of references gateway</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>		defaults: {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>			page: undefined</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>		 * @memberof Skin</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>		events: {},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>		 * @memberof Skin</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>		postRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>			var $el = this.$el;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>			if ( browser.supportsAnimations() ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 115, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">115</td>
	<td class="source"><code>				$el.addClass( 'animations' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>			if ( browser.supportsTouchEvents() ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 118, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">118</td>
	<td class="source"><code>				$el.addClass( 'touch-events' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>			util.parseHTML( '&#60;div class="transparent-shield cloaked-element"&#62;' )</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 121, Column 16: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">121</td>
	<td class="source"><code>				.appendTo( $el.find( '#mw-mf-page-center' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>			 * Fired when appearance of skin changes.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>			 * @event Skin#changed</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>			this.emit( 'changed' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>			 * Fired when the skin is clicked.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>			 * @event Skin#click</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>			this.$( '#mw-mf-page-center' ).on( 'click', this.emit.bind( this, 'click' ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>		 * Get images that have not yet been loaded in the page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>		 * @memberof Skin</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>		 * @param {jQuery.Object} [$container] The container that should be</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>		 *  searched for image placeholders. Defaults to "#content".</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>		 * @return {Array} of unloaded image placeholders in the page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>		getUnloadedImages: function ( $container ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>			$container = $container || this.$( '#content' );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 144, Column 11: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">144</td>
	<td class="source"><code>			return $container.find( '.lazy-image-placeholder' ).toArray();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>		 * Setup listeners to watch unloaded images and load them into the page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code>		 * as and when they are needed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>		 * @memberof Skin</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>		 * @param {jQuery.Object} [$container] The container that should be</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>		 *  searched for image placeholders. Defaults to "#content".</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>		 * @return {jQuery.Deferred} which will be resolved when the attempts to</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>		 *  load all images subject to loading have been completed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>		setupImageLoading: function ( $container ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>			var self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>				offset = util.getWindow().height() * 1.5,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>				loadImagesList = this.loadImagesList.bind( this ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>				imagePlaceholders = this.getUnloadedImages( $container );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code>			 * Check whether an image should be loaded based on its proximity to the</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>			 * viewport; and whether it is displayed to the user.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>			 * @param {jQuery.Object} $placeholder</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>			 * @return {boolean}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">168</td>
	<td class="source"><code>			function shouldLoadImage( $placeholder ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">169</td>
	<td class="source"><code>				return viewport.isElementCloseToViewport( $placeholder[0], offset ) &&</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code>					// If a placeholder is an inline element without a height attribute set</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code>					// it will record as hidden</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>					// to circumvent this we also need to test the height (see T143768).</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 173, Column 8: "Selector extensions are not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-sizzle" target="_blank">jquery/no-sizzle</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 173, Column 8: "Prefer matches to $.is"
		<a href="http://eslint.org/docs/rules/jquery/no-is" target="_blank">jquery/no-is</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">173</td>
	<td class="source"><code>					( $placeholder.is( ':visible' ) || $placeholder.height() === 0 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">176</td>
	<td class="source"><code>			/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">177</td>
	<td class="source"><code>			 * Load remaining images in viewport</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">178</td>
	<td class="source"><code>			 * @return {jQuery.Deferred}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">179</td>
	<td class="source"><code>			 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">180</td>
	<td class="source"><code>			function _loadImages() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">181</td>
	<td class="source"><code>				var images = [];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">182</td>
	<td class="source"><code>				// Filter unloaded images to only the images that still need to be loaded</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">183</td>
	<td class="source"><code>				imagePlaceholders = util.grep( imagePlaceholders, function ( placeholder ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">184</td>
	<td class="source"><code>					var $placeholder = self.$( placeholder );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">185</td>
	<td class="source"><code>					// Check length to ensure the image is still in the DOM.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">186</td>
	<td class="source"><code>					if ( $placeholder.length && shouldLoadImage( $placeholder ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">187</td>
	<td class="source"><code>						images.push( placeholder );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">188</td>
	<td class="source"><code>						return false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">189</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">190</td>
	<td class="source"><code>					return true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">191</td>
	<td class="source"><code>				} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">192</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">193</td>
	<td class="source"><code>				// When no images are left unbind all events</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">194</td>
	<td class="source"><code>				if ( !imagePlaceholders.length ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">195</td>
	<td class="source"><code>					M.off( 'scroll:throttled', _loadImages );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">196</td>
	<td class="source"><code>					M.off( 'resize:throttled', _loadImages );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">197</td>
	<td class="source"><code>					M.off( 'section-toggled', _loadImages );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">198</td>
	<td class="source"><code>					self.off( 'changed', _loadImages );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">199</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">200</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">201</td>
	<td class="source"><code>				// load any remaining images.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">202</td>
	<td class="source"><code>				return loadImagesList( images );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">203</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">204</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">205</td>
	<td class="source"><code>			M.on( 'scroll:throttled', _loadImages );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">206</td>
	<td class="source"><code>			M.on( 'resize:throttled', _loadImages );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">207</td>
	<td class="source"><code>			M.on( 'section-toggled', _loadImages );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">208</td>
	<td class="source"><code>			this.on( 'changed', _loadImages );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">209</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">210</td>
	<td class="source"><code>			return _loadImages();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">211</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">212</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">213</td>
	<td class="source"><code>		 * Load an image on demand</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">214</td>
	<td class="source"><code>		 * @memberof Skin</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">215</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">216</td>
	<td class="source"><code>		 * @param {Array} [images] a list of images that have not been loaded.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">217</td>
	<td class="source"><code>		 *  If none given all will be loaded.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">218</td>
	<td class="source"><code>		 * @return {jQuery.Deferred}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">219</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">220</td>
	<td class="source"><code>		loadImagesList: function ( images ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">221</td>
	<td class="source"><code>			var callbacks,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">222</td>
	<td class="source"><code>				$ = this.$.bind( this ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">223</td>
	<td class="source"><code>				loadImage = this.loadImage.bind( this );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">224</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">225</td>
	<td class="source"><code>			images = images || this.getUnloadedImages();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">226</td>
	<td class="source"><code>			callbacks = images.map( function ( placeholder ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">227</td>
	<td class="source"><code>				return loadImage( $( placeholder ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">228</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">229</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">230</td>
	<td class="source"><code>			return when.apply( null, callbacks );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">231</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">232</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">233</td>
	<td class="source"><code>		 * Load an image on demand</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">234</td>
	<td class="source"><code>		 * @memberof Skin</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">235</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">236</td>
	<td class="source"><code>		 * @param {jQuery.Object} $placeholder</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">237</td>
	<td class="source"><code>		 * @return {jQuery.Deferred}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">238</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">239</td>
	<td class="source"><code>		loadImage: function ( $placeholder ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">240</td>
	<td class="source"><code>			var</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">241</td>
	<td class="source"><code>				d = Deferred(),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 242, Column 13: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">242</td>
	<td class="source"><code>				width = $placeholder.attr( 'data-width' ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 243, Column 14: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">243</td>
	<td class="source"><code>				height = $placeholder.attr( 'data-height' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">244</td>
	<td class="source"><code>				// document must be passed to ensure image will start downloading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">245</td>
	<td class="source"><code>				$downloadingImage = util.parseHTML( '&#60;img&#62;', this.$el[0].ownerDocument );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">246</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">247</td>
	<td class="source"><code>			// When the image has loaded</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">248</td>
	<td class="source"><code>			$downloadingImage.on( 'load', function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">249</td>
	<td class="source"><code>				// Swap the HTML inside the placeholder (to keep the layout and</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">250</td>
	<td class="source"><code>				// dimensions the same and not trigger layouts</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 251, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">251</td>
	<td class="source"><code>				$downloadingImage.addClass( 'image-lazy-loaded' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">252</td>
	<td class="source"><code>				$placeholder.replaceWith( $downloadingImage );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">253</td>
	<td class="source"><code>				d.resolve();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">254</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">255</td>
	<td class="source"><code>			$downloadingImage.on( 'error', function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">256</td>
	<td class="source"><code>				d.reject();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">257</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">258</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">259</td>
	<td class="source"><code>			// Trigger image download after binding the load handler</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 260, Column 4: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">260</td>
	<td class="source"><code>			$downloadingImage.attr( {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 261, Column 14: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">261</td>
	<td class="source"><code>				'class': $placeholder.attr( 'data-class' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">262</td>
	<td class="source"><code>				width: width,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">263</td>
	<td class="source"><code>				height: height,</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 264, Column 10: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">264</td>
	<td class="source"><code>				src: $placeholder.attr( 'data-src' ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 265, Column 10: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">265</td>
	<td class="source"><code>				alt: $placeholder.attr( 'data-alt' ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 266, Column 12: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">266</td>
	<td class="source"><code>				style: $placeholder.attr( 'style' ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 267, Column 13: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">267</td>
	<td class="source"><code>				srcset: $placeholder.attr( 'data-srcset' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">268</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">269</td>
	<td class="source"><code>			return d;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">270</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">271</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">272</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">273</td>
	<td class="source"><code>		 * Load the references section content from API if it's not already loaded.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">274</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">275</td>
	<td class="source"><code>		 * All references tags content will be loaded per section.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">276</td>
	<td class="source"><code>		 * @memberof Skin</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">277</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">278</td>
	<td class="source"><code>		 * @param {Object} data Information about the section. It's in the following form:</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">279</td>
	<td class="source"><code>		 * {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">280</td>
	<td class="source"><code>		 *     @property {string} page,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">281</td>
	<td class="source"><code>		 *     @property {boolean} wasExpanded,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">282</td>
	<td class="source"><code>		 *     @property {jQuery.Object} $heading,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">283</td>
	<td class="source"><code>		 *     @property {boolean} isReferenceSection</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">284</td>
	<td class="source"><code>		 * }</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">285</td>
	<td class="source"><code>		 * @return {jQuery.Promise} rejected when not a reference section.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">286</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">287</td>
	<td class="source"><code>		lazyLoadReferences: function ( data ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">288</td>
	<td class="source"><code>			var $content, $spinner,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">289</td>
	<td class="source"><code>				gateway = this.referencesGateway,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">290</td>
	<td class="source"><code>				getUnloadedImages = this.getUnloadedImages.bind( this ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">291</td>
	<td class="source"><code>				loadImagesList = this.loadImagesList.bind( this ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">292</td>
	<td class="source"><code>				self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">293</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">294</td>
	<td class="source"><code>			// If the section was expanded before toggling, do not load anything as</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">295</td>
	<td class="source"><code>			// section is being collapsed now.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">296</td>
	<td class="source"><code>			// Also return early if lazy loading is not required or the section is</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">297</td>
	<td class="source"><code>			// not a reference section</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">298</td>
	<td class="source"><code>			if (</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">299</td>
	<td class="source"><code>				data.wasExpanded ||</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">300</td>
	<td class="source"><code>				!data.isReferenceSection</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">301</td>
	<td class="source"><code>			) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">302</td>
	<td class="source"><code>				return;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">303</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">304</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">305</td>
	<td class="source"><code>			$content = data.$heading.next();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">306</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">307</td>
	<td class="source"><code>			function loadImagesAndSetData() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">308</td>
	<td class="source"><code>				// lazy load images if any</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">309</td>
	<td class="source"><code>				loadImagesList( getUnloadedImages( $content ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">310</td>
	<td class="source"><code>				// Do not attempt further loading even if we're unable to load this time.</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 311, Column 5: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">311</td>
	<td class="source"><code>				$content.data( 'are-references-loaded', 1 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">312</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">313</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 314, Column 10: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">314</td>
	<td class="source"><code>			if ( !$content.data( 'are-references-loaded' ) ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 315, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">315</td>
	<td class="source"><code>				$content.children().addClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">316</td>
	<td class="source"><code>				$spinner = spinner.$el.prependTo( $content );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">317</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">318</td>
	<td class="source"><code>				// First ensure we retrieve all of the possible lists</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">319</td>
	<td class="source"><code>				return gateway.getReferencesLists( data.page )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">320</td>
	<td class="source"><code>					.then( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">321</td>
	<td class="source"><code>						var lastId;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">322</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 323, Column 7: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 323, Column 7: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">323</td>
	<td class="source"><code>						$content.find( '.mf-lazy-references-placeholder' ).each( function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">324</td>
	<td class="source"><code>							var refListIndex = 0,</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 325, Column 24: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">325</td>
	<td class="source"><code>								$placeholder = $content.find( this ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">326</td>
	<td class="source"><code>								// search for id of the collapsible heading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">327</td>
	<td class="source"><code>								id = getSectionId( $placeholder );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">328</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">329</td>
	<td class="source"><code>							if ( lastId !== id ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">330</td>
	<td class="source"><code>								// If the placeholder belongs to a new section reset index</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">331</td>
	<td class="source"><code>								refListIndex = 0;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">332</td>
	<td class="source"><code>								lastId = id;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">333</td>
	<td class="source"><code>							} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">334</td>
	<td class="source"><code>								// otherwise increment it</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">335</td>
	<td class="source"><code>								refListIndex++;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">336</td>
	<td class="source"><code>							}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">337</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">338</td>
	<td class="source"><code>							if ( id ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">339</td>
	<td class="source"><code>								gateway.getReferencesList( data.page, id )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">340</td>
	<td class="source"><code>									.then( function ( refListElements ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">341</td>
	<td class="source"><code>										// Note if no section html is provided</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">342</td>
	<td class="source"><code>										// no substitution will happen</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">343</td>
	<td class="source"><code>										// so user is forced to rely on placeholder link.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">344</td>
	<td class="source"><code>										if ( refListElements && refListElements[refListIndex] ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">345</td>
	<td class="source"><code>											$placeholder.replaceWith(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">346</td>
	<td class="source"><code>												refListElements[refListIndex]</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">347</td>
	<td class="source"><code>											);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">348</td>
	<td class="source"><code>										}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">349</td>
	<td class="source"><code>									} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">350</td>
	<td class="source"><code>							}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">351</td>
	<td class="source"><code>						} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">352</td>
	<td class="source"><code>						// Show the section now the references lists have been placed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">353</td>
	<td class="source"><code>						$spinner.remove();</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 354, Column 7: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">354</td>
	<td class="source"><code>						$content.children().removeClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">355</td>
	<td class="source"><code>						/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">356</td>
	<td class="source"><code>						 * Fired when references list is loaded into the HTML</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">357</td>
	<td class="source"><code>						 * @event references-loaded</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">358</td>
	<td class="source"><code>						 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">359</td>
	<td class="source"><code>						self.emit( 'references-loaded', self.page );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">360</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">361</td>
	<td class="source"><code>						loadImagesAndSetData();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">362</td>
	<td class="source"><code>					}, function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">363</td>
	<td class="source"><code>						$spinner.remove();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">364</td>
	<td class="source"><code>						// unhide on a failure</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 365, Column 7: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">365</td>
	<td class="source"><code>						$content.children().removeClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">366</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">367</td>
	<td class="source"><code>						loadImagesAndSetData();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">368</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">369</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">370</td>
	<td class="source"><code>				return Deferred().reject().promise();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">371</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">372</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">373</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">374</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">375</td>
	<td class="source"><code>		 * Returns the appropriate license message including links/name to</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">376</td>
	<td class="source"><code>		 * terms of use (if any) and license page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">377</td>
	<td class="source"><code>		 * @memberof Skin</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">378</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">379</td>
	<td class="source"><code>		 * @return {string}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">380</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">381</td>
	<td class="source"><code>		getLicenseMsg: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">382</td>
	<td class="source"><code>			var licenseMsg,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">383</td>
	<td class="source"><code>				mfLicense = mw.config.get( 'wgMFLicense' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">384</td>
	<td class="source"><code>				licensePlural = mw.language.convertNumber( mfLicense.plural );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">385</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">386</td>
	<td class="source"><code>			if ( mfLicense.link ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">387</td>
	<td class="source"><code>				if ( this.$( '#footer-places-terms-use' ).length &#62; 0 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">388</td>
	<td class="source"><code>					licenseMsg = mw.msg(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">389</td>
	<td class="source"><code>						'mobile-frontend-editor-licensing-with-terms',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">390</td>
	<td class="source"><code>						mw.message(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">391</td>
	<td class="source"><code>							'mobile-frontend-editor-terms-link',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">392</td>
	<td class="source"><code>							this.$( '#footer-places-terms-use a' ).attr( 'href' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">393</td>
	<td class="source"><code>						).parse(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">394</td>
	<td class="source"><code>						mfLicense.link,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">395</td>
	<td class="source"><code>						licensePlural</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">396</td>
	<td class="source"><code>					);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">397</td>
	<td class="source"><code>				} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">398</td>
	<td class="source"><code>					licenseMsg = mw.msg(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">399</td>
	<td class="source"><code>						'mobile-frontend-editor-licensing',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">400</td>
	<td class="source"><code>						mfLicense.link,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">401</td>
	<td class="source"><code>						licensePlural</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">402</td>
	<td class="source"><code>					);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">403</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">404</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">405</td>
	<td class="source"><code>			return licenseMsg;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">406</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">407</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">408</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">409</td>
	<td class="source"><code>	Skin.getSectionId = getSectionId;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">410</td>
	<td class="source"><code>	M.define( 'mobile.startup/Skin', Skin );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">411</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">412</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">413</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupThumbnailJs" class="lint-result bg-success hidden" data-group="f-64" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/Thumbnail.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileStartupToastJs" class="lint-result bg-success hidden" data-group="f-65" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.startup/toast.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileTalkOverlaysTalkOverlayJs" class="lint-result bg-error " data-group="f-66" data-problem-count="1" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.talk.overlays/TalkOverlay.js
    </th>
    <th class="result-summary">
      1 problem (1 error, 0 warnings)
    </th>
</tr>
<tr class="f-66 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-66"
								data-content="detailSummary-66"
								aria-controls="detailSummary-66"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-66"
								data-content="sourceCode-66"
								aria-controls="sourceCode-66"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-66">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 168, Column 5: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-66">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>	var TalkOverlayBase = M.require( 'mobile.talk.overlays/TalkOverlayBase' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		Page = M.require( 'mobile.startup/Page' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		Anchor = M.require( 'mobile.startup/Anchor' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		user = M.require( 'mobile.startup/user' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>	 * Overlay for talk page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>	 * @extends TalkOverlayBase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>	 * @class TalkOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	 * @uses Page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * @uses TalkSectionOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 * @uses TalkSectionAddOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	function TalkOverlay() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>		TalkOverlayBase.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>	OO.mfExtend( TalkOverlay, TalkOverlayBase, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>		templatePartials: util.extend( {}, TalkOverlayBase.prototype.templatePartials, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>			content: mw.template.get( 'mobile.talk.overlays', 'content.hogan' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>		 * @memberof TalkOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>		 * @mixes TalkOverlayBase#defaults</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>		 * @property {Object} defaults Default options hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>		 * @property {Array} defaults.headings A list of {Section} objects to render heading links</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>		 * for. If not set ajax request will be performed.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>		 * @property {string} defaults.heading Heading for talk overlay.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>		 * @property {string} defaults.leadHeading Heading for a discussion which has no heading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>		 * (lead section of talk page).</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		 * @property {string} defaults.headerButtonsListClassName Class name of the header buttons</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>		 * list</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>		 * @property {Array} defaults.headerButtons Objects that will be used as defaults for</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>		 * generating header buttons. Default list includes an 'add' button, which opens</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		 * a new talk overlay.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		defaults: util.extend( {}, TalkOverlayBase.prototype.defaults, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>			headings: undefined,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>			heading: '&#60;strong&#62;' + mw.msg( 'mobile-frontend-talk-overlay-header' ) + '&#60;/strong&#62;',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>			leadHeading: mw.msg( 'mobile-frontend-talk-overlay-lead-header' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>			headerButtonsListClassName: 'header-action',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>			headerButtons: [ {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>				href: '#/talk/new',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>				className: 'add continue hidden',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>				msg: mw.msg( 'mobile-frontend-talk-add-overlay-submit' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>			} ],</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>			footerAnchor: new Anchor( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>				progressive: true,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>				additionalClassNames: 'footer-link talk-fullpage',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>				label: mw.msg( 'mobile-frontend-talk-fullpage' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>			} ).options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>		} ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>		 * @memberof TalkOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>		postRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>			TalkOverlayBase.prototype.postRender.apply( this );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>			this.$board = this.$( '.board' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>			this.$( '.talk-fullpage' ).attr( 'href', mw.util.getUrl( this.options.title ) )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>				.removeClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code>			if ( !this.options.headings ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>				this._loadContent( this.options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>			this._setupAddDiscussionButton( this.options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>			this.showHidden( '.initial-header' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>		 * Show a loading spinner</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>		 * @memberof TalkOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>		showSpinner: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>			this.$board.hide();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>			TalkOverlayBase.prototype.showSpinner.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>		 * Hide the loading spinner</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>		 * @memberof TalkOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>		hideSpinner: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>			TalkOverlayBase.prototype.hideSpinner.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>			this.$board.show();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>		 * Load content of the talk page into the overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>		 * @memberof TalkOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>		 * @param {Object} options for the overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>		_loadContent: function ( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>			var self = this;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>			options = options || this.options;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>			// show a spinner</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>			this.showSpinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>			// clear actual content, if any</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>			this.$( '.topic-title-list' ).empty();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>			this.pageGateway.getPage( options.title ).then( function ( pageData ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>				self._addContent( pageData, options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>			}, function ( resp ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>				// If the API returns the error code 'missingtitle', that means the</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>				// talk page doesn't exist yet.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>				if ( resp === 'missingtitle' ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>					// Create an empty page for new pages</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>					self._addContent( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>						title: options.title,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>						sections: []</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>					}, options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>				} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>					if ( self.options.onFail ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>						// Run failure callback with current title</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>						self.options.onFail( options.title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>					} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>						// If the API request fails for any other reason, load the talk</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>						// page manually rather than leaving the spinner spinning.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code>						// eslint-disable-next-line no-restricted-properties</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">129</td>
	<td class="source"><code>						window.location = mw.util.getUrl( options.title );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">130</td>
	<td class="source"><code>					}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">133</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">134</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>		 * Adds the content received from _loadContent to the Overlay and re-renders it.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>		 * @memberof TalkOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>		 * @param {Object} pageData As returned from PageApi#getPage</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>		 * @param {Object} options for the overlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">142</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code>		_addContent: function ( pageData, options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>			var page = new Page( pageData ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>				sections = page.getSections();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>			this.page = page;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>			options.explanation = sections.length &#62; 0 ? mw.msg( 'mobile-frontend-talk-explained' ) :</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>				mw.msg( 'mobile-frontend-talk-explained-empty' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>			options.headings = sections;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>			// content is there so re-render and hide the spinner</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>			this.render( options );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>			this.hideSpinner();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">158</td>
	<td class="source"><code>		 * Shows the add topic button to logged in users.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>		 * Ensures the overlay refreshes when a discussion is added.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code>		 * @memberof TalkOverlay</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">161</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>		 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>		_setupAddDiscussionButton: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>			var $add = this.$( '.header-action .add' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>			M.on( 'talk-discussion-added', this._loadContent.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code>			if ( !user.isAnon() ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 168, Column 5: "Prefer classList to $.removeClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">168</td>
	<td class="source"><code>				$add.removeClass( 'hidden' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">169</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code>				$add.remove();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">173</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code>	M.define( 'mobile.talk.overlays/TalkOverlay', TalkOverlay ); // resource-modules-disable-line</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">176</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">177</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">178</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileTalkOverlaysTalkOverlayBaseJs" class="lint-result bg-success hidden" data-group="f-67" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.talk.overlays/TalkOverlayBase.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileTalkOverlaysTalkSectionAddOverlayJs" class="lint-result bg-success hidden" data-group="f-68" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.talk.overlays/TalkSectionAddOverlay.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileTalkOverlaysTalkSectionOverlayJs" class="lint-result bg-success hidden" data-group="f-69" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.talk.overlays/TalkSectionOverlay.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileTocTableOfContentsJs" class="lint-result bg-success hidden" data-group="f-70" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.toc/TableOfContents.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileToggleToggleJs" class="lint-result bg-error " data-group="f-71" data-problem-count="40" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.toggle/toggle.js
    </th>
    <th class="result-summary">
      40 problems (40 errors, 0 warnings)
    </th>
</tr>
<tr class="f-71 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-71"
								data-content="detailSummary-71"
								aria-controls="detailSummary-71"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-71"
								data-content="sourceCode-71"
								aria-controls="sourceCode-71"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-71">
				<div class="row"><div class="column">
	<h3 class="text-error">Top errors</h3>
	<table class="summary-table"><thead>
		<tr>
			<th>rule</th>
			<th>count</th>
		</tr>
	</thead><tbody>
		<tr>
	<td><strong>jquery/no-attr</strong> <small>(Prefer getAttribute to $.attr)</small></td>
	<td>9</td>
</tr>

<tr>
	<td><strong>jquery/no-find</strong> <small>(Prefer querySelectorAll to $.find)</small></td>
	<td>9</td>
</tr>

<tr>
	<td><strong>jquery/no-class</strong> <small>(Prefer classList to $.hasClass)</small></td>
	<td>7</td>
</tr>

<tr>
	<td><strong>jquery/no-data</strong> <small>(Prefer WeakMap to $.data)</small></td>
	<td>7</td>
</tr>

<tr>
	<td><strong>jquery/no-parents</strong> <small>(Prefer closest to $.parents)</small></td>
	<td>3</td>
</tr>

<tr>
	<td><strong>jquery/no-each</strong> <small>(Prefer Array#forEach to $.each)</small></td>
	<td>2</td>
</tr>

<tr>
	<td><strong>jquery/no-is</strong> <small>(Prefer matches to $.is)</small></td>
	<td>2</td>
</tr>

<tr>
	<td><strong>jquery/no-prop</strong> <small>(Prefer direct property access to $.prop)</small></td>
	<td>1</td>
</tr>

	</tbody></table>
</div>
</div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 56, Column 18: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 56, Column 18: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 57, Column 20: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 80, Column 17: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 82, Column 3: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 83, Column 16: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 84, Column 22: "Prefer closest to $.parents"
		<a href="http://eslint.org/docs/rules/jquery/no-parents" target="_blank">jquery/no-parents</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 87, Column 34: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 88, Column 6: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 128, Column 18: "Prefer matches to $.is"
		<a href="http://eslint.org/docs/rules/jquery/no-is" target="_blank">jquery/no-is</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 129, Column 11: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 130, Column 20: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 133, Column 3: "Prefer classList to $.toggleClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 134, Column 3: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 142, Column 3: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 158, Column 33: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 161, Column 3: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 161, Column 3: "Prefer classList to $.toggleClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 186, Column 3: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 209, Column 14: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 210, Column 15: "Prefer closest to $.parents"
		<a href="http://eslint.org/docs/rules/jquery/no-parents" target="_blank">jquery/no-parents</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 213, Column 16: "Prefer closest to $.parents"
		<a href="http://eslint.org/docs/rules/jquery/no-parents" target="_blank">jquery/no-parents</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 215, Column 29: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 246, Column 19: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 247, Column 13: "Prefer direct property access to $.prop"
		<a href="http://eslint.org/docs/rules/jquery/no-prop" target="_blank">jquery/no-prop</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 256, Column 3: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 258, Column 16: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 259, Column 18: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 263, Column 9: "Prefer matches to $.is"
		<a href="http://eslint.org/docs/rules/jquery/no-is" target="_blank">jquery/no-is</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 265, Column 35: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 266, Column 5: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 266, Column 5: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 266, Column 5: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 266, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 294, Column 5: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 295, Column 5: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 295, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 356, Column 11: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 360, Column 9: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 361, Column 5: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-71">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>	var browser = M.require( 'mobile.startup/Browser' ).getSingleton(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		escapeHash = util.escapeHash,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		arrowOptions = {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>			name: 'arrow',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>			additionalClassNames: 'indicator'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>		Icon = M.require( 'mobile.startup/Icon' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * A class for enabling toggling</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 * @class Toggler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 * @extends OO.EventEmitter</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	function Toggler() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>		OO.EventEmitter.call( this );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>		this._enable.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>	OO.mixinClass( Toggler, OO.EventEmitter );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>	 * Using the settings module looks at what sections were previously expanded on</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>	 * existing page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code>	 * @param {Page} page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>	 * @return {Object} representing open sections</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>	function getExpandedSections( page ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>		var expandedSections = JSON.parse(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code>			mw.storage.get( 'expandedSections' ) || '{}'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>		expandedSections[page.title] = expandedSections[page.title] || {};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code>		return expandedSections;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>	 * @param {Object} expandedSections</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>	 * Save expandedSections to localStorage</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>	function saveExpandedSections( expandedSections ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>		mw.storage.set(</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>			'expandedSections', JSON.stringify( expandedSections )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>		);</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>	 * Given an expanded heading, store it to localStorage.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>	 * If the heading is collapsed, remove it from localStorage.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>	 * @param {jQuery.Object} $heading - A heading belonging to a section</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>	 * @param {Page} page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>	function storeSectionToggleState( $heading, page ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 56, Column 18: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 56, Column 18: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">56</td>
	<td class="source"><code>		var headline = $heading.find( 'span' ).attr( 'id' ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 57, Column 20: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">57</td>
	<td class="source"><code>			isSectionOpen = $heading.hasClass( 'open-block' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>			expandedSections = getExpandedSections( page );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>		if ( headline ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>			if ( isSectionOpen ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>				expandedSections[page.title][headline] = ( new Date() ).getTime();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code>			} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>				delete expandedSections[page.title][headline];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>			saveExpandedSections( expandedSections );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>	 * Expand sections that were previously expanded before leaving this page.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>	 * @param {Toggler} toggler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>	 * @param {jQuery.Object} $container</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>	 * @param {Page} page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>	function expandStoredSections( toggler, $container, page ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code>		var $sectionHeading, $headline,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>			expandedSections = getExpandedSections( page ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 80, Column 17: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">80</td>
	<td class="source"><code>			$headlines = $container.find( '.section-heading span' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 82, Column 3: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">82</td>
	<td class="source"><code>		$headlines.each( function () {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 83, Column 16: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">83</td>
	<td class="source"><code>			$headline = $container.find( this );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 84, Column 22: "Prefer closest to $.parents"
		<a href="http://eslint.org/docs/rules/jquery/no-parents" target="_blank">jquery/no-parents</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">84</td>
	<td class="source"><code>			$sectionHeading = $headline.parents( '.section-heading' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>			// toggle only if the section is not already expanded</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>			if (</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 87, Column 34: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">87</td>
	<td class="source"><code>				expandedSections[page.title][$headline.attr( 'id' )] &&</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 88, Column 6: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">88</td>
	<td class="source"><code>				!$sectionHeading.hasClass( 'open-block' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>			) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>				toggler.toggle( $sectionHeading, page );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>	 * Clean obsolete (saved more than a day ago) expanded sections from</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code>	 * localStorage.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>	 * @param {Page} page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>	function cleanObsoleteStoredSections( page ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>		var now = ( new Date() ).getTime(),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>			expandedSections = getExpandedSections( page ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>			// the number of days between now and the time a setting was saved</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>			daysDifference;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>		Object.keys( expandedSections ).forEach( function ( page ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>			var sections = expandedSections[ page ];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>			// clean the setting if it is more than a day old</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>			Object.keys( sections ).forEach( function ( section ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>				var timestamp = sections[ section ];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>				daysDifference = Math.floor( ( now - timestamp ) / 1000 / 60 / 60 / 24 );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code>				if ( daysDifference &#62;= 1 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>					delete expandedSections[page][section];</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>		saveExpandedSections( expandedSections );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>	 * Given a heading, toggle it and any of its children</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">121</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>	 * @memberof Toggler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>	 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code>	 * @param {jQuery.Object} $heading A heading belonging to a section</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code>	Toggler.prototype.toggle = function ( $heading ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>		var indicator,</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 128, Column 18: "Prefer matches to $.is"
		<a href="http://eslint.org/docs/rules/jquery/no-is" target="_blank">jquery/no-is</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">128</td>
	<td class="source"><code>			wasExpanded = $heading.is( '.open-block' ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 129, Column 11: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">129</td>
	<td class="source"><code>			page = $heading.data( 'page' ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 130, Column 20: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">130</td>
	<td class="source"><code>			sectionNumber = $heading.data( 'section-number' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">131</td>
	<td class="source"><code>			$content = $heading.next();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">132</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 133, Column 3: "Prefer classList to $.toggleClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">133</td>
	<td class="source"><code>		$heading.toggleClass( 'open-block' );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 134, Column 3: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">134</td>
	<td class="source"><code>		$heading.data( 'indicator' ).remove();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">135</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">136</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">137</td>
	<td class="source"><code>		 * @event toggled</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">138</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">139</td>
	<td class="source"><code>		this.emit( 'toggled', wasExpanded, sectionNumber );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">140</td>
	<td class="source"><code>		arrowOptions.rotation = wasExpanded ? 0 : 180;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">141</td>
	<td class="source"><code>		indicator = new Icon( arrowOptions ).prependTo( $heading );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 142, Column 3: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">142</td>
	<td class="source"><code>		$heading.data( 'indicator', indicator );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">143</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">144</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">145</td>
	<td class="source"><code>		 * Global event emitted before a section is being toggled</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">146</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">147</td>
	<td class="source"><code>		 * @event section-toggling</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">148</td>
	<td class="source"><code>		 * @type {Object}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">149</td>
	<td class="source"><code>		 * @property {Page} page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">150</td>
	<td class="source"><code>		 * @property {bool} wasExpanded</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">151</td>
	<td class="source"><code>		 * @property {bool} isReferenceSection</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">152</td>
	<td class="source"><code>		 * @property {jQuery.Object} $heading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">153</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">154</td>
	<td class="source"><code>		M.emit( 'before-section-toggled', {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">155</td>
	<td class="source"><code>			page: page,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">156</td>
	<td class="source"><code>			wasExpanded: wasExpanded,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">157</td>
	<td class="source"><code>			$heading: $heading,</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 158, Column 33: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">158</td>
	<td class="source"><code>			isReferenceSection: Boolean( $content.attr( 'data-is-reference-section' ) )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">159</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">160</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 161, Column 3: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 161, Column 3: "Prefer classList to $.toggleClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">161</td>
	<td class="source"><code>		$content</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">162</td>
	<td class="source"><code>			.toggleClass( 'open-block' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">163</td>
	<td class="source"><code>			.attr( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">164</td>
	<td class="source"><code>				'aria-pressed': !wasExpanded,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">165</td>
	<td class="source"><code>				'aria-expanded': !wasExpanded</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">166</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">167</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">168</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">169</td>
	<td class="source"><code>		 * Global event emitted after a section has been toggled</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">170</td>
	<td class="source"><code>		 * @event section-toggled</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">171</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">172</td>
	<td class="source"><code>		M.emit( 'section-toggled', wasExpanded, sectionNumber );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">173</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">174</td>
	<td class="source"><code>		if ( !browser.isWideScreen() ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">175</td>
	<td class="source"><code>			storeSectionToggleState( $heading, page );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">176</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">177</td>
	<td class="source"><code>	};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">178</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">179</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">180</td>
	<td class="source"><code>	 * Enables toggling via enter and space keys</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">181</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">182</td>
	<td class="source"><code>	 * @param {Toggler} toggler instance.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">183</td>
	<td class="source"><code>	 * @param {jQuery.Object} $heading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">184</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">185</td>
	<td class="source"><code>	function enableKeyboardActions( toggler, $heading ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 186, Column 3: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">186</td>
	<td class="source"><code>		$heading.on( 'keypress', function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">187</td>
	<td class="source"><code>			if ( ev.which === 13 || ev.which === 32 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">188</td>
	<td class="source"><code>				// Only handle keypresses on the "Enter" or "Space" keys</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">189</td>
	<td class="source"><code>				toggler.toggle( $heading );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">190</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">191</td>
	<td class="source"><code>		} ).find( 'a' ).on( 'keypress mouseup', function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">192</td>
	<td class="source"><code>			ev.stopPropagation();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">193</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">194</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">195</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">196</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">197</td>
	<td class="source"><code>	 * Reveals an element and its parent section as identified by it's id</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">198</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">199</td>
	<td class="source"><code>	 * @memberof Toggler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">200</td>
	<td class="source"><code>	 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">201</td>
	<td class="source"><code>	 * @param {string} selector A css selector that identifies a single element</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">202</td>
	<td class="source"><code>	 * @param {Object} $container jQuery element to search in</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">203</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">204</td>
	<td class="source"><code>	Toggler.prototype.reveal = function ( selector, $container ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">205</td>
	<td class="source"><code>		var $target, $heading;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">206</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">207</td>
	<td class="source"><code>		// jQuery will throw for hashes containing certain characters which can break toggling</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">208</td>
	<td class="source"><code>		try {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 209, Column 14: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">209</td>
	<td class="source"><code>			$target = $container.find( escapeHash( selector ) );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 210, Column 15: "Prefer closest to $.parents"
		<a href="http://eslint.org/docs/rules/jquery/no-parents" target="_blank">jquery/no-parents</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">210</td>
	<td class="source"><code>			$heading = $target.parents( '.collapsible-heading' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">211</td>
	<td class="source"><code>			// The heading is not a section heading, check if in a content block!</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">212</td>
	<td class="source"><code>			if ( !$heading.length ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 213, Column 16: "Prefer closest to $.parents"
		<a href="http://eslint.org/docs/rules/jquery/no-parents" target="_blank">jquery/no-parents</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">213</td>
	<td class="source"><code>				$heading = $target.parents( '.collapsible-block' ).prev( '.collapsible-heading' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">214</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 215, Column 29: "Prefer classList to $.hasClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">215</td>
	<td class="source"><code>			if ( $heading.length && !$heading.hasClass( 'open-block' ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">216</td>
	<td class="source"><code>				this.toggle( $heading );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">217</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">218</td>
	<td class="source"><code>			if ( $heading.length ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">219</td>
	<td class="source"><code>				// scroll again after opening section (opening section makes the page longer)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">220</td>
	<td class="source"><code>				window.scrollTo( 0, $target.offset().top );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">221</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">222</td>
	<td class="source"><code>		} catch ( e ) {}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">223</td>
	<td class="source"><code>	};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">224</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">225</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">226</td>
	<td class="source"><code>	 * Enables section toggling in a given container when wgMFCollapseSectionsByDefault</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">227</td>
	<td class="source"><code>	 * is enabled.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">228</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">229</td>
	<td class="source"><code>	 * @memberof Toggler</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">230</td>
	<td class="source"><code>	 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">231</td>
	<td class="source"><code>	 * @param {jQuery.Object} $container to apply toggling to</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">232</td>
	<td class="source"><code>	 * @param {string} prefix a prefix to use for the id.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">233</td>
	<td class="source"><code>	 * @param {Page} [page] to allow storage of session for future visits</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">234</td>
	<td class="source"><code>	 * @param {Page} [isClosed] whether the element should begin closed</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">235</td>
	<td class="source"><code>	 * @private</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">236</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">237</td>
	<td class="source"><code>	Toggler.prototype._enable = function ( $container, prefix, page, isClosed ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">238</td>
	<td class="source"><code>		var tagName, expandSections, indicator, $content,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">239</td>
	<td class="source"><code>			$firstHeading,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">240</td>
	<td class="source"><code>			$link,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">241</td>
	<td class="source"><code>			self = this,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">242</td>
	<td class="source"><code>			collapseSectionsByDefault = mw.config.get( 'wgMFCollapseSectionsByDefault' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">243</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">244</td>
	<td class="source"><code>		// Also allow .section-heading if some extensions like Wikibase</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">245</td>
	<td class="source"><code>		// want to toggle other headlines than direct descendants of $container.</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 246, Column 19: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">246</td>
	<td class="source"><code>		$firstHeading = $container.find( '&#62; h1,&#62; h2,&#62; h3,&#62; h4,&#62; h5,&#62; h6,.section-heading' ).eq( 0 );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 247, Column 13: "Prefer direct property access to $.prop"
		<a href="http://eslint.org/docs/rules/jquery/no-prop" target="_blank">jquery/no-prop</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">247</td>
	<td class="source"><code>		tagName = $firstHeading.prop( 'tagName' ) || 'H1';</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">248</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">249</td>
	<td class="source"><code>		if ( collapseSectionsByDefault === undefined ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">250</td>
	<td class="source"><code>			// Old default behavior if on cached output</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">251</td>
	<td class="source"><code>			collapseSectionsByDefault = true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">252</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">253</td>
	<td class="source"><code>		expandSections = !collapseSectionsByDefault ||</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">254</td>
	<td class="source"><code>			( mw.config.get( 'wgMFExpandAllSectionsUserOption' ) && mw.storage.get( 'expandSections' ) === 'true' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">255</td>
	<td class="source"><code></code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 256, Column 3: "Prefer Array#forEach to $.each"
		<a href="http://eslint.org/docs/rules/jquery/no-each" target="_blank">jquery/no-each</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">256</td>
	<td class="source"><code>		$container.children( tagName ).each( function ( i ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">257</td>
	<td class="source"><code>			var isReferenceSection,</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 258, Column 16: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">258</td>
	<td class="source"><code>				$heading = $container.find( this ),</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 259, Column 18: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">259</td>
	<td class="source"><code>				$indicator = $heading.find( '.indicator' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">260</td>
	<td class="source"><code>				id = prefix + 'collapsible-block-' + i;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">261</td>
	<td class="source"><code>			// Be sure there is a div wrapping the section content.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">262</td>
	<td class="source"><code>			// Otherwise, collapsible sections for this page is not enabled.</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 263, Column 9: "Prefer matches to $.is"
		<a href="http://eslint.org/docs/rules/jquery/no-is" target="_blank">jquery/no-is</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">263</td>
	<td class="source"><code>			if ( $heading.next().is( 'div' ) ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">264</td>
	<td class="source"><code>				$content = $heading.next( 'div' );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 265, Column 35: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">265</td>
	<td class="source"><code>				isReferenceSection = Boolean( $content.attr( 'data-is-reference-section' ) );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 266, Column 5: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 266, Column 5: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 266, Column 5: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 266, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">266</td>
	<td class="source"><code>				$heading</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">267</td>
	<td class="source"><code>					.addClass( 'collapsible-heading ' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">268</td>
	<td class="source"><code>					.data( 'section-number', i )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">269</td>
	<td class="source"><code>					.data( 'page', page )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">270</td>
	<td class="source"><code>					.attr( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">271</td>
	<td class="source"><code>						tabindex: 0,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">272</td>
	<td class="source"><code>						'aria-haspopup': 'true',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">273</td>
	<td class="source"><code>						'aria-controls': id</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">274</td>
	<td class="source"><code>					} )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">275</td>
	<td class="source"><code>					.on( 'click', function ( ev ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">276</td>
	<td class="source"><code>						// don't toggle, if the click target was a link</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">277</td>
	<td class="source"><code>						// (a link in a section heading)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">278</td>
	<td class="source"><code>						// See T117880</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">279</td>
	<td class="source"><code>						if ( !ev.target.href ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">280</td>
	<td class="source"><code>							// prevent taps/clicks on edit button after toggling (bug 56209)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">281</td>
	<td class="source"><code>							ev.preventDefault();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">282</td>
	<td class="source"><code>							self.toggle( $heading );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">283</td>
	<td class="source"><code>						}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">284</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">285</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">286</td>
	<td class="source"><code>				arrowOptions.rotation = expandSections ? 180 : 0;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">287</td>
	<td class="source"><code>				indicator = new Icon( arrowOptions );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">288</td>
	<td class="source"><code>				if ( $indicator.length ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">289</td>
	<td class="source"><code>					// replace the existing indicator</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">290</td>
	<td class="source"><code>					$indicator.replaceWith( indicator.$el );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">291</td>
	<td class="source"><code>				} else {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">292</td>
	<td class="source"><code>					indicator.prependTo( $heading );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">293</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 294, Column 5: "Prefer WeakMap to $.data"
		<a href="http://eslint.org/docs/rules/jquery/no-data" target="_blank">jquery/no-data</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">294</td>
	<td class="source"><code>				$heading.data( 'indicator', indicator.$el );</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 295, Column 5: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 295, Column 5: "Prefer classList to $.addClass"
		<a href="http://eslint.org/docs/rules/jquery/no-class" target="_blank">jquery/no-class</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">295</td>
	<td class="source"><code>				$content</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">296</td>
	<td class="source"><code>					.addClass( 'collapsible-block' )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">297</td>
	<td class="source"><code>					.eq( 0 )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">298</td>
	<td class="source"><code>					.attr( {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">299</td>
	<td class="source"><code>						// We need to give each content block a unique id as that's</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">300</td>
	<td class="source"><code>						// the only way we can tell screen readers what element we're</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">301</td>
	<td class="source"><code>						// referring to (aria-controls)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">302</td>
	<td class="source"><code>						id: id,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">303</td>
	<td class="source"><code>						'aria-pressed': 'false',</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">304</td>
	<td class="source"><code>						'aria-expanded': 'false'</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">305</td>
	<td class="source"><code>					} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">306</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">307</td>
	<td class="source"><code>				enableKeyboardActions( self, $heading );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">308</td>
	<td class="source"><code>				if (</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">309</td>
	<td class="source"><code>					!isReferenceSection && (</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">310</td>
	<td class="source"><code>						!isClosed && browser.isWideScreen() || expandSections</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">311</td>
	<td class="source"><code>					)</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">312</td>
	<td class="source"><code>				) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">313</td>
	<td class="source"><code>					// Expand sections by default on wide screen devices</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">314</td>
	<td class="source"><code>					// or if the expand sections setting is set.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">315</td>
	<td class="source"><code>					// The wide screen logic for determining whether to collapse sections initially</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">316</td>
	<td class="source"><code>					// should be kept in sync with mobileoptions#initLocalStorageElements().</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">317</td>
	<td class="source"><code>					self.toggle( $heading );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">318</td>
	<td class="source"><code>				}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">319</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">320</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">321</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">322</td>
	<td class="source"><code>		/* eslint-disable no-restricted-properties */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">323</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">324</td>
	<td class="source"><code>		 * Checks the existing hash and toggles open any section that contains the fragment.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">325</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">326</td>
	<td class="source"><code>		 * @method</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">327</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">328</td>
	<td class="source"><code>		function checkHash() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">329</td>
	<td class="source"><code>			var hash = window.location.hash;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">330</td>
	<td class="source"><code>			if ( hash.indexOf( '#' ) === 0 ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">331</td>
	<td class="source"><code>				self.reveal( hash, $container );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">332</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">333</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">334</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">335</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">336</td>
	<td class="source"><code>		 * Checks the value of wgInternalRedirectTargetUrl and reveals the collapsed</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">337</td>
	<td class="source"><code>		 * section that contains it if present</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">338</td>
	<td class="source"><code>		 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">339</td>
	<td class="source"><code>		 * @method</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">340</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">341</td>
	<td class="source"><code>		function checkInternalRedirectAndHash() {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">342</td>
	<td class="source"><code>			var internalRedirect = mw.config.get( 'wgInternalRedirectTargetUrl' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">343</td>
	<td class="source"><code>				internalRedirectHash = internalRedirect ? internalRedirect.split( '#' )[1] : false;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">344</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">345</td>
	<td class="source"><code>			if ( internalRedirectHash ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">346</td>
	<td class="source"><code>				window.location.hash = internalRedirectHash;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">347</td>
	<td class="source"><code>				self.reveal( internalRedirectHash, $container );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">348</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">349</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">350</td>
	<td class="source"><code>		/* eslint-enable no-restricted-properties */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">351</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">352</td>
	<td class="source"><code>		checkInternalRedirectAndHash();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">353</td>
	<td class="source"><code>		checkHash();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">354</td>
	<td class="source"><code>		// Restricted to links created by editors and thus outside our control</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">355</td>
	<td class="source"><code>		// T166544 - don't do this for reference links - they will be handled elsewhere</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 356, Column 11: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">356</td>
	<td class="source"><code>		$link = $container.find( 'a:not(.reference a)' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">357</td>
	<td class="source"><code>		$link.on( 'click', function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">358</td>
	<td class="source"><code>			// the link might be an internal link with a hash.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">359</td>
	<td class="source"><code>			// if it is check if we need to reveal any sections.</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 360, Column 9: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">360</td>
	<td class="source"><code>			if ( $link.attr( 'href' ) !== undefined &&</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 361, Column 5: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">361</td>
	<td class="source"><code>				$link.attr( 'href' ).indexOf( '#' ) &#62; -1</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">362</td>
	<td class="source"><code>			) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">363</td>
	<td class="source"><code>				checkHash();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">364</td>
	<td class="source"><code>			}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">365</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">366</td>
	<td class="source"><code>		util.getWindow().on( 'hashchange', function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">367</td>
	<td class="source"><code>			checkHash();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">368</td>
	<td class="source"><code>		} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">369</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">370</td>
	<td class="source"><code>		if ( !browser.isWideScreen() && page ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">371</td>
	<td class="source"><code>			expandStoredSections( this, $container, page );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">372</td>
	<td class="source"><code>			cleanObsoleteStoredSections( page );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">373</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">374</td>
	<td class="source"><code>	};</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">375</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">376</td>
	<td class="source"><code>	Toggler._getExpandedSections = getExpandedSections;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">377</td>
	<td class="source"><code>	Toggler._expandStoredSections = expandStoredSections;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">378</td>
	<td class="source"><code>	Toggler._cleanObsoleteStoredSections = cleanObsoleteStoredSections;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">379</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">380</td>
	<td class="source"><code>	M.define( 'mobile.toggle/Toggler', Toggler ); // resource-modules-disable-line</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">381</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">382</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">383</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileWatchlistWatchListJs" class="lint-result bg-error " data-group="f-72" data-problem-count="3" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.watchlist/WatchList.js
    </th>
    <th class="result-summary">
      3 problems (3 errors, 0 warnings)
    </th>
</tr>
<tr class="f-72 hidden">
	<td colspan="5">
		<ul class="nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<button data-parent=".f-72"
								data-content="detailSummary-72"
								aria-controls="detailSummary-72"
								type="button"
								role="tab">
					Summary
				</button>
			</li>
			<li role="presentation">
				<button data-parent=".f-72"
								data-content="sourceCode-72"
								aria-controls="sourceCode-72"
								type="button"
								role="tab">
					SourceCode
				</button>
			</li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane" id="detailSummary-72">
				<div class="row"></div>
<div class="row">
	<h3 class="page-header">All Rules</h3>
	<table class="summary-table">
		<thead>
			<tr>
				<th>Severity</th>
				<th>Rule</th>
			</tr>
		</thead>
		<tbody>
			<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 121, Column 11: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 121, Column 11: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 121, Column 11: "Selector extensions are not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-sizzle" target="_blank">jquery/no-sizzle</a>
	</td>
</tr>
		</tbody>
	</table>
</div>
			</div>
			<div role="tabpanel" class="tab-pane hidden" id="sourceCode-72">
				<table class="source-code">
	<thead>
		<tr>
			<th>Line</th>
			<th>Source</th>
		</tr>
	</thead>
	<tbody>
		<tr class="hit bg-success">
	<td class="line">1</td>
	<td class="source"><code>( function ( M ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">2</td>
	<td class="source"><code>	var</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">3</td>
	<td class="source"><code>		PageList = M.require( 'mobile.startup/PageList' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">4</td>
	<td class="source"><code>		WatchstarPageList = M.require( 'mobile.pagelist.scripts/WatchstarPageList' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">5</td>
	<td class="source"><code>		ScrollEndEventEmitter = M.require( 'mobile.scrollEndEventEmitter/ScrollEndEventEmitter' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">6</td>
	<td class="source"><code>		util = M.require( 'mobile.startup/util' ),</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">7</td>
	<td class="source"><code>		WatchListGateway = M.require( 'mobile.watchlist/WatchListGateway' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">8</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">9</td>
	<td class="source"><code>	/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">10</td>
	<td class="source"><code>	 * An extension of the WatchstarPageList which preloads pages as all being</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">11</td>
	<td class="source"><code>	 * watched.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">12</td>
	<td class="source"><code>	 * @extends WatchstarPageList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">13</td>
	<td class="source"><code>	 * @class WatchList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">14</td>
	<td class="source"><code>	 * @uses ScrollEndEventEmitter</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">15</td>
	<td class="source"><code>	 *</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">16</td>
	<td class="source"><code>	 * @fires watched</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">17</td>
	<td class="source"><code>	 * @fires watch</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">18</td>
	<td class="source"><code>	 * @param {Object} options Configuration options</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">19</td>
	<td class="source"><code>	 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">20</td>
	<td class="source"><code>	function WatchList( options ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">21</td>
	<td class="source"><code>		var lastTitle;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">22</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">23</td>
	<td class="source"><code>		// Set up infinite scroll helper and listen to events</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">24</td>
	<td class="source"><code>		this.scrollEndEventEmitter = new ScrollEndEventEmitter();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">25</td>
	<td class="source"><code>		this.scrollEndEventEmitter.on( ScrollEndEventEmitter.EVENT_SCROLL_END,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">26</td>
	<td class="source"><code>			this._loadPages.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">27</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">28</td>
	<td class="source"><code>		if ( options.el ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">29</td>
	<td class="source"><code>			lastTitle = this.getLastTitle( options.el );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">30</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">31</td>
	<td class="source"><code>		this.gateway = new WatchListGateway( options.api, lastTitle );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">32</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">33</td>
	<td class="source"><code>		WatchstarPageList.apply( this, arguments );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">34</td>
	<td class="source"><code>	}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">35</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">36</td>
	<td class="source"><code>	OO.mfExtend( WatchList, WatchstarPageList, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">37</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">38</td>
	<td class="source"><code>		 * @memberof WatchList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">39</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">40</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">41</td>
	<td class="source"><code>		isBorderBox: false,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">42</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">43</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">44</td>
	<td class="source"><code>		 * @memberof WatchList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">45</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">46</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">47</td>
	<td class="source"><code>		preRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">48</td>
	<td class="source"><code>			// The DOM will be modified. Prevent any false scroll end events from</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">49</td>
	<td class="source"><code>			// being emitted.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">50</td>
	<td class="source"><code>			this.scrollEndEventEmitter.disable();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">51</td>
	<td class="source"><code>			this.scrollEndEventEmitter.setElement( this.$el );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">52</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">53</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">54</td>
	<td class="source"><code>		 * Also sets a watch uploads funnel.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">55</td>
	<td class="source"><code>		 * @inheritdoc</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">56</td>
	<td class="source"><code>		 * @memberof WatchList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">57</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">58</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">59</td>
	<td class="source"><code>		postRender: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">60</td>
	<td class="source"><code>			var</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">61</td>
	<td class="source"><code>				$items,</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">62</td>
	<td class="source"><code>				statuses;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">63</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">64</td>
	<td class="source"><code>			// Skip a level from WatchstarPageList directly to PageList.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">65</td>
	<td class="source"><code>			PageList.prototype.postRender.apply( this );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">66</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">67</td>
	<td class="source"><code>			$items = this.queryUnitializedItems();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">68</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">69</td>
	<td class="source"><code>			// WatchList requests list of watched pages. The list contains only</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">70</td>
	<td class="source"><code>			// watched pages so it's safe to transform the title map to a status map</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">71</td>
	<td class="source"><code>			// with each entry marked watched (true).</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">72</td>
	<td class="source"><code>			statuses = Object.keys( this.parsePagesFromItems( $items ) )</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">73</td>
	<td class="source"><code>				.reduce( function ( statuses, title ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">74</td>
	<td class="source"><code>					statuses[ title ] = true;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">75</td>
	<td class="source"><code>					return statuses;</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">76</td>
	<td class="source"><code>				}, {} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">77</td>
	<td class="source"><code>			this.renderItems( $items, statuses );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">78</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">79</td>
	<td class="source"><code>			// The list has been extended. Re-enable scroll end events.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">80</td>
	<td class="source"><code>			this.scrollEndEventEmitter.enable();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">81</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">82</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">83</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">84</td>
	<td class="source"><code>		 * Loads pages from the api and triggers render.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">85</td>
	<td class="source"><code>		 * Infinite scroll is re-enabled in postRender.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">86</td>
	<td class="source"><code>		 * @memberof WatchList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">87</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">88</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">89</td>
	<td class="source"><code>		_loadPages: function () {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">90</td>
	<td class="source"><code>			this.gateway.loadWatchlist().then( function ( pages ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">91</td>
	<td class="source"><code>				pages.forEach( function ( page ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">92</td>
	<td class="source"><code>					this.appendPage( page );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">93</td>
	<td class="source"><code>				}.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">94</td>
	<td class="source"><code>				this.render();</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">95</td>
	<td class="source"><code>			}.bind( this ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">96</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">97</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">98</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">99</td>
	<td class="source"><code>		 * Appends a list item</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">100</td>
	<td class="source"><code>		 * @memberof WatchList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">101</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">102</td>
	<td class="source"><code>		 * @param {Page} page</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">103</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">104</td>
	<td class="source"><code>		appendPage: function ( page ) {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">105</td>
	<td class="source"><code>			// wikidata descriptions should not show in this view.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">106</td>
	<td class="source"><code>			var templateOptions = util.extend( {}, page.options, {</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">107</td>
	<td class="source"><code>				wikidataDescription: undefined</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">108</td>
	<td class="source"><code>			} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">109</td>
	<td class="source"><code>			this.$el.append( this.templatePartials.item.render( templateOptions ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">110</td>
	<td class="source"><code>		},</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">111</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">112</td>
	<td class="source"><code>		/**</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">113</td>
	<td class="source"><code>		 * Get the last title from the rendered HTML.</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">114</td>
	<td class="source"><code>		 * Used for initializing the API</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">115</td>
	<td class="source"><code>		 * @memberof WatchList</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">116</td>
	<td class="source"><code>		 * @instance</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">117</td>
	<td class="source"><code>		 * @param {jQuery.Object} $el Dom element of the list</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">118</td>
	<td class="source"><code>		 * @return {string}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">119</td>
	<td class="source"><code>		 */</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">120</td>
	<td class="source"><code>		getLastTitle: function ( $el ) {</code></td>
</tr>

<tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 121, Column 11: "Prefer getAttribute to $.attr"
		<a href="http://eslint.org/docs/rules/jquery/no-attr" target="_blank">jquery/no-attr</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 121, Column 11: "Prefer querySelectorAll to $.find"
		<a href="http://eslint.org/docs/rules/jquery/no-find" target="_blank">jquery/no-find</a>
	</td>
</tr><tr class="issue">
	<td><strong class="text-error">Error<strong></td>
	<td>
		Row 121, Column 11: "Selector extensions are not allowed"
		<a href="http://eslint.org/docs/rules/jquery/no-sizzle" target="_blank">jquery/no-sizzle</a>
	</td>
</tr><tr class="hit bg-error">
	<td class="line">121</td>
	<td class="source"><code>			return $el.find( 'li:last' ).attr( 'title' );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">122</td>
	<td class="source"><code>		}</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">123</td>
	<td class="source"><code>	} );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">124</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">125</td>
	<td class="source"><code>	M.define( 'mobile.watchlist/WatchList', WatchList );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">126</td>
	<td class="source"><code></code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">127</td>
	<td class="source"><code>}( mw.mobileFrontend ) );</code></td>
</tr>

<tr class="hit bg-success">
	<td class="line">128</td>
	<td class="source"><code></code></td>
</tr>

	</tbody>
</table>

			</div>
		</div>
	</td>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileWatchlistWatchListGatewayJs" class="lint-result bg-success hidden" data-group="f-73" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.watchlist/WatchListGateway.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileWatchstarWatchstarJs" class="lint-result bg-success hidden" data-group="f-74" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.watchstar/Watchstar.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

<tr id="usersJdrewniakMobileFrontendJqueryReportMobileFrontendResourcesMobileWatchstarWatchstarGatewayJs" class="lint-result bg-success hidden" data-group="f-75" data-problem-count="0" tabindex="0">
    <th class="icon-box" colspan="1">
        <span class="caret"></span>
    </th>
    <th>
        /MobileFrontend/resources/mobile.watchstar/WatchstarGateway.js
    </th>
    <th class="result-summary">
      0 problems
    </th>
</tr>

				</tbody>
			</table>
		</div>
	</div>
	<script type="text/javascript">
	var lintResults = document.querySelectorAll('tr.lint-result'),
		filters = document.querySelectorAll('input[name="filters"]'),
		tabs = document.querySelectorAll('.nav-tabs > li > button');

	// helper functions
	function hideElement(element) {
		if (!element.className.includes('hidden')) {
			element.className = element.className + ' hidden';
		}
	}

	function toggleDisplay(element) {
		element.className = element.className.includes('hidden') ? element.className.replace(' hidden', '') : element.className + ' hidden';
	}

	// accordion
	for(var i = 0; i < lintResults.length; i++) {
		var result = lintResults[i];

		result.addEventListener('click', handleResultClick);
		result.addEventListener('keydown', function onKeydown(event) {
			if (event.which === 13) {
				handleResultClick.apply(this);
			}
		});
	}

	function handleResultClick() {
		if (!this.className.includes('bg-success')) {
			toggleAccordion.apply(this);
		}
		// TODO: Comment this back in when I can support it in example page
//		window.location.href = '#' + this.getAttribute('id');
	}

	function toggleAccordion() {
		var resultDetails = document.getElementsByClassName(this.getAttribute('data-group'));

		this.className = this.className.includes('open') ? this.className.replace(' open', '') : this.className + ' open';
		toggleDisplay(resultDetails[0]);
	}

	// filter
	for(var j = 0; j < filters.length; j++) {
		filters[j].addEventListener('change', filterResults);
	}

	function filterResults() {
		var filterValue = document.querySelector('input[name="filters"]:checked').value;


		for(var i = 0; i < lintResults.length; i++) {
			var result = lintResults[i];

			if (result.className.includes(filterValue)) {
				result.className = result.className.includes('hidden') ? result.className.replace(' hidden', '') : result.className;
			} else {
				hideElement(result);
			}

			if (result.className.includes('hidden') && result.className.includes('open')) {
				toggleAccordion.apply(result);
			}
		}
	}

	// tabs
	for(var k = 0; k < tabs.length; k++) {
		tabs[k].addEventListener('click', activateTab);
	}

	function activateTab() {
		var currentTabs = document.querySelectorAll(this.getAttribute('data-parent') + ' .nav-tabs > li'),
			tabPanes = document.querySelectorAll(this.getAttribute('data-parent') + ' .tab-pane'),
			tabContent = document.getElementById(this.getAttribute('data-content'));

		for(var i = 0; i < currentTabs.length; i++) {
			disableTabs(currentTabs[i]);
		}
		for(var j = 0; j < tabPanes.length; j++) {
			hideElement(tabPanes[j]);
		}
		this.parentNode.className = 'active';
		toggleDisplay(tabContent);
	}

	function disableTabs(tab) {
		tab.className = '';
	}
</script>

</body>
</html>
